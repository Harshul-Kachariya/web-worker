import{a as ss}from"/build/_shared/chunk-P6745662.js";import{a as mr,c as Te,d as En,e as ot,f as fi}from"/build/_shared/chunk-VG7UYV5E.js";var In=Te((id,pi)=>{pi.exports={}});var mi=Te(()=>{});var vi=Te((sd,gi)=>{gi.exports={}});var gr=Te((cd,bi)=>{bi.exports={}});var vr=Te((ld,_i)=>{_i.exports={}});var yi=Te((ud,Ei)=>{Ei.exports={}});var Si=Te((exports,module)=>{(function(e,r){typeof exports=="object"&&typeof module=="object"?module.exports=e.pdfjsLib=r():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],()=>e.pdfjsLib=r()):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=e.pdfjsLib=r():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=r()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=E,e.bytesToString=z,e.createValidAbsoluteUrl=M,e.getModificationDate=Xe,e.getUuid=lr,e.getVerbosityLevel=ie,e.info=J,e.isArrayBuffer=Ae,e.isArrayEqual=ke,e.isNodeJS=void 0,e.normalizeUnicode=It,e.objectFromMap=X,e.objectSize=Z,e.setVerbosityLevel=$,e.shadow=O,e.string32=G,e.stringToBytes=W,e.stringToPDFString=me,e.stringToUTF8String=fe,e.unreachable=k,e.utf8StringToString=ve,e.warn=j;let r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=r;let n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;let i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=i;let l=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=l;let d=1.35;e.LINE_FACTOR=d;let f=.35;e.LINE_DESCENT_FACTOR=f;let m=f/d;e.BASELINE_FACTOR=m;let o={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=o;let a={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=a;let s="pdfjs_internal_editor_";e.AnnotationEditorPrefix=s;let h={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=h;let u={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=u;let c={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=c;let p={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=p;let b={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=b;let v={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=v;let w={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=w;let x={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=x;let T={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=T;let _={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=_;let P={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=P;let B={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=B;let V={O:"PageOpen",C:"PageClose"};e.PageActionEventType=V;let N={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=N;let q={NONE:0,BINARY:1};e.CMapCompressionType=q;let U={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=U;let Q={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=Q;let ee=N.WARNINGS;function $(le){Number.isInteger(le)&&(ee=le)}function ie(){return ee}function J(le){ee>=N.INFOS&&console.log(`Info: ${le}`)}function j(le){ee>=N.WARNINGS&&console.log(`Warning: ${le}`)}function k(le){throw new Error(le)}function E(le,te){le||k(te)}function y(le){switch(le?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function M(le,te=null,K=null){if(!le)return null;try{if(K&&typeof le=="string"&&(K.addDefaultProtocol&&le.startsWith("www.")&&le.match(/\./g)?.length>=2&&(le=`http://${le}`),K.tryConvertEncoding))try{le=fe(le)}catch{}let ge=te?new URL(le,te):new URL(le);if(y(ge))return ge}catch{}return null}function O(le,te,K,ge=!1){return Object.defineProperty(le,te,{value:K,enumerable:!ge,configurable:!0,writable:!1}),K}let L=function(){function te(K,ge){this.constructor===te&&k("Cannot initialize BaseException."),this.message=K,this.name=ge}return te.prototype=new Error,te.constructor=te,te}();e.BaseException=L;class I extends L{constructor(te,K){super(te,"PasswordException"),this.code=K}}e.PasswordException=I;class D extends L{constructor(te,K){super(te,"UnknownErrorException"),this.details=K}}e.UnknownErrorException=D;class g extends L{constructor(te){super(te,"InvalidPDFException")}}e.InvalidPDFException=g;class S extends L{constructor(te){super(te,"MissingPDFException")}}e.MissingPDFException=S;class A extends L{constructor(te,K){super(te,"UnexpectedResponseException"),this.status=K}}e.UnexpectedResponseException=A;class R extends L{constructor(te){super(te,"FormatError")}}e.FormatError=R;class F extends L{constructor(te){super(te,"AbortException")}}e.AbortException=F;function z(le){(typeof le!="object"||le?.length===void 0)&&k("Invalid argument for bytesToString");let te=le.length,K=8192;if(te<K)return String.fromCharCode.apply(null,le);let ge=[];for(let Ie=0;Ie<te;Ie+=K){let it=Math.min(Ie+K,te),at=le.subarray(Ie,it);ge.push(String.fromCharCode.apply(null,at))}return ge.join("")}function W(le){typeof le!="string"&&k("Invalid argument for stringToBytes");let te=le.length,K=new Uint8Array(te);for(let ge=0;ge<te;++ge)K[ge]=le.charCodeAt(ge)&255;return K}function G(le){return String.fromCharCode(le>>24&255,le>>16&255,le>>8&255,le&255)}function Z(le){return Object.keys(le).length}function X(le){let te=Object.create(null);for(let[K,ge]of le)te[K]=ge;return te}function Y(){let le=new Uint8Array(4);return le[0]=1,new Uint32Array(le.buffer,0,1)[0]===1}function re(){try{return new Function(""),!0}catch{return!1}}class ne{static get isLittleEndian(){return O(this,"isLittleEndian",Y())}static get isEvalSupported(){return O(this,"isEvalSupported",re())}static get isOffscreenCanvasSupported(){return O(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?O(this,"platform",{isWin:!1,isMac:!1}):O(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return O(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}e.FeatureTest=ne;let ae=[...Array(256).keys()].map(le=>le.toString(16).padStart(2,"0"));class de{static makeHexColor(te,K,ge){return`#${ae[te]}${ae[K]}${ae[ge]}`}static scaleMinMax(te,K){let ge;te[0]?(te[0]<0&&(ge=K[0],K[0]=K[1],K[1]=ge),K[0]*=te[0],K[1]*=te[0],te[3]<0&&(ge=K[2],K[2]=K[3],K[3]=ge),K[2]*=te[3],K[3]*=te[3]):(ge=K[0],K[0]=K[2],K[2]=ge,ge=K[1],K[1]=K[3],K[3]=ge,te[1]<0&&(ge=K[2],K[2]=K[3],K[3]=ge),K[2]*=te[1],K[3]*=te[1],te[2]<0&&(ge=K[0],K[0]=K[1],K[1]=ge),K[0]*=te[2],K[1]*=te[2]),K[0]+=te[4],K[1]+=te[4],K[2]+=te[5],K[3]+=te[5]}static transform(te,K){return[te[0]*K[0]+te[2]*K[1],te[1]*K[0]+te[3]*K[1],te[0]*K[2]+te[2]*K[3],te[1]*K[2]+te[3]*K[3],te[0]*K[4]+te[2]*K[5]+te[4],te[1]*K[4]+te[3]*K[5]+te[5]]}static applyTransform(te,K){let ge=te[0]*K[0]+te[1]*K[2]+K[4],Ie=te[0]*K[1]+te[1]*K[3]+K[5];return[ge,Ie]}static applyInverseTransform(te,K){let ge=K[0]*K[3]-K[1]*K[2],Ie=(te[0]*K[3]-te[1]*K[2]+K[2]*K[5]-K[4]*K[3])/ge,it=(-te[0]*K[1]+te[1]*K[0]+K[4]*K[1]-K[5]*K[0])/ge;return[Ie,it]}static getAxialAlignedBoundingBox(te,K){let ge=this.applyTransform(te,K),Ie=this.applyTransform(te.slice(2,4),K),it=this.applyTransform([te[0],te[3]],K),at=this.applyTransform([te[2],te[1]],K);return[Math.min(ge[0],Ie[0],it[0],at[0]),Math.min(ge[1],Ie[1],it[1],at[1]),Math.max(ge[0],Ie[0],it[0],at[0]),Math.max(ge[1],Ie[1],it[1],at[1])]}static inverseTransform(te){let K=te[0]*te[3]-te[1]*te[2];return[te[3]/K,-te[1]/K,-te[2]/K,te[0]/K,(te[2]*te[5]-te[4]*te[3])/K,(te[4]*te[1]-te[5]*te[0])/K]}static singularValueDecompose2dScale(te){let K=[te[0],te[2],te[1],te[3]],ge=te[0]*K[0]+te[1]*K[2],Ie=te[0]*K[1]+te[1]*K[3],it=te[2]*K[0]+te[3]*K[2],at=te[2]*K[1]+te[3]*K[3],Bt=(ge+at)/2,Tt=Math.sqrt((ge+at)**2-4*(ge*at-it*Ie))/2,Rt=Bt+Tt||1,bt=Bt-Tt||1;return[Math.sqrt(Rt),Math.sqrt(bt)]}static normalizeRect(te){let K=te.slice(0);return te[0]>te[2]&&(K[0]=te[2],K[2]=te[0]),te[1]>te[3]&&(K[1]=te[3],K[3]=te[1]),K}static intersect(te,K){let ge=Math.max(Math.min(te[0],te[2]),Math.min(K[0],K[2])),Ie=Math.min(Math.max(te[0],te[2]),Math.max(K[0],K[2]));if(ge>Ie)return null;let it=Math.max(Math.min(te[1],te[3]),Math.min(K[1],K[3])),at=Math.min(Math.max(te[1],te[3]),Math.max(K[1],K[3]));return it>at?null:[ge,it,Ie,at]}static bezierBoundingBox(te,K,ge,Ie,it,at,Bt,Tt){let Rt=[],bt=[[],[]],jt,Ft,St,et,$t,Yt,Zt,ln;for(let _n=0;_n<2;++_n){if(_n===0?(Ft=6*te-12*ge+6*it,jt=-3*te+9*ge-9*it+3*Bt,St=3*ge-3*te):(Ft=6*K-12*Ie+6*at,jt=-3*K+9*Ie-9*at+3*Tt,St=3*Ie-3*K),Math.abs(jt)<1e-12){if(Math.abs(Ft)<1e-12)continue;et=-St/Ft,0<et&&et<1&&Rt.push(et);continue}Zt=Ft*Ft-4*St*jt,ln=Math.sqrt(Zt),!(Zt<0)&&($t=(-Ft+ln)/(2*jt),0<$t&&$t<1&&Rt.push($t),Yt=(-Ft-ln)/(2*jt),0<Yt&&Yt<1&&Rt.push(Yt))}let zt=Rt.length,Je,Jt=zt;for(;zt--;)et=Rt[zt],Je=1-et,bt[0][zt]=Je*Je*Je*te+3*Je*Je*et*ge+3*Je*et*et*it+et*et*et*Bt,bt[1][zt]=Je*Je*Je*K+3*Je*Je*et*Ie+3*Je*et*et*at+et*et*et*Tt;return bt[0][Jt]=te,bt[1][Jt]=K,bt[0][Jt+1]=Bt,bt[1][Jt+1]=Tt,bt[0].length=bt[1].length=Jt+2,[Math.min(...bt[0]),Math.min(...bt[1]),Math.max(...bt[0]),Math.max(...bt[1])]}}e.Util=de;let oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function me(le){if(le[0]>="\xEF"){let K;if(le[0]==="\xFE"&&le[1]==="\xFF"?K="utf-16be":le[0]==="\xFF"&&le[1]==="\xFE"?K="utf-16le":le[0]==="\xEF"&&le[1]==="\xBB"&&le[2]==="\xBF"&&(K="utf-8"),K)try{let ge=new TextDecoder(K,{fatal:!0}),Ie=W(le);return ge.decode(Ie)}catch(ge){j(`stringToPDFString: "${ge}".`)}}let te=[];for(let K=0,ge=le.length;K<ge;K++){let Ie=oe[le.charCodeAt(K)];te.push(Ie?String.fromCharCode(Ie):le.charAt(K))}return te.join("")}function fe(le){return decodeURIComponent(escape(le))}function ve(le){return unescape(encodeURIComponent(le))}function Ae(le){return typeof le=="object"&&le?.byteLength!==void 0}function ke(le,te){if(le.length!==te.length)return!1;for(let K=0,ge=le.length;K<ge;K++)if(le[K]!==te[K])return!1;return!0}function Xe(le=new Date){return[le.getUTCFullYear().toString(),(le.getUTCMonth()+1).toString().padStart(2,"0"),le.getUTCDate().toString().padStart(2,"0"),le.getUTCHours().toString().padStart(2,"0"),le.getUTCMinutes().toString().padStart(2,"0"),le.getUTCSeconds().toString().padStart(2,"0")].join("")}class yt{#e=!1;constructor(){this.promise=new Promise((te,K)=>{this.resolve=ge=>{this.#e=!0,te(ge)},this.reject=ge=>{this.#e=!0,K(ge)}})}get settled(){return this.#e}}e.PromiseCapability=yt;let Qe=null,dt=null;function It(le){return Qe||(Qe=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,dt=new Map([["\uFB05","\u017Ft"]])),le.replaceAll(Qe,(te,K,ge)=>K?K.normalize("NFKC"):dt.get(ge))}function lr(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let le=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(le);else for(let te=0;te<32;te++)le[te]=Math.floor(Math.random()*255);return z(le)}let _t="pdfjs_internal_id_";e.AnnotationPrefix=_t},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(t){if(typeof t=="string"||t instanceof URL?t={url:t}:(0,_util.isArrayBuffer)(t)&&(t={data:t}),typeof t!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");let e=new PDFDocumentLoadingTask,{docId:r}=e,n=t.url?getUrlProp(t.url):null,i=t.data?getDataProp(t.data):null,l=t.httpHeaders||null,d=t.withCredentials===!0,f=t.password??null,m=t.range instanceof PDFDataRangeTransport?t.range:null,o=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,a=t.worker instanceof _PDFWorker?t.worker:null,s=t.verbosity,h=typeof t.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(t.docBaseUrl)?t.docBaseUrl:null,u=typeof t.cMapUrl=="string"?t.cMapUrl:null,c=t.cMapPacked!==!1,p=t.CMapReaderFactory||DefaultCMapReaderFactory,b=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,v=t.StandardFontDataFactory||DefaultStandardFontDataFactory,w=t.stopAtErrors!==!0,x=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,T=t.isEvalSupported!==!1,_=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!_util.isNodeJS,P=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,B=typeof t.disableFontFace=="boolean"?t.disableFontFace:_util.isNodeJS,V=t.fontExtraProperties===!0,N=t.enableXfa===!0,q=t.ownerDocument||globalThis.document,U=t.disableRange===!0,Q=t.disableStream===!0,ee=t.disableAutoFetch===!0,$=t.pdfBug===!0,ie=m?m.length:t.length??NaN,J=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!_util.isNodeJS&&!B,j=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:p===_display_utils.DOMCMapReaderFactory&&v===_display_utils.DOMStandardFontDataFactory&&u&&b&&(0,_display_utils.isValidFetchUrl)(u,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(b,document.baseURI),k=t.canvasFactory||new DefaultCanvasFactory({ownerDocument:q}),E=t.filterFactory||new DefaultFilterFactory({docId:r,ownerDocument:q}),y=null;(0,_util.setVerbosityLevel)(s);let M={canvasFactory:k,filterFactory:E};if(j||(M.cMapReaderFactory=new p({baseUrl:u,isCompressed:c}),M.standardFontDataFactory=new v({baseUrl:b})),!a){let I={verbosity:s,port:_worker_options.GlobalWorkerOptions.workerPort};a=I.port?_PDFWorker.fromPort(I):new _PDFWorker(I),e._worker=a}let O={docId:r,apiVersion:"3.11.174",data:i,password:f,disableAutoFetch:ee,rangeChunkSize:o,length:ie,docBaseUrl:h,enableXfa:N,evaluatorOptions:{maxImageSize:x,disableFontFace:B,ignoreErrors:w,isEvalSupported:T,isOffscreenCanvasSupported:_,canvasMaxAreaInBytes:P,fontExtraProperties:V,useSystemFonts:J,cMapUrl:j?u:null,standardFontDataUrl:j?b:null}},L={ignoreErrors:w,isEvalSupported:T,disableFontFace:B,fontExtraProperties:V,enableXfa:N,ownerDocument:q,disableAutoFetch:ee,pdfBug:$,styleElement:y};return a.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");let I=_fetchDocument(a,O),D=new Promise(function(g){let S;m?S=new _transport_stream.PDFDataTransportStream({length:ie,initialData:m.initialData,progressiveDone:m.progressiveDone,contentDispositionFilename:m.contentDispositionFilename,disableRange:U,disableStream:Q},m):i||(S=(R=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(R):(0,_display_utils.isValidFetchUrl)(R.url)?new _displayFetch_stream.PDFFetchStream(R):new _displayNetwork.PDFNetworkStream(R))({url:n,length:ie,httpHeaders:l,withCredentials:d,rangeChunkSize:o,disableRange:U,disableStream:Q})),g(S)});return Promise.all([I,D]).then(function([g,S]){if(e.destroyed)throw new Error("Loading aborted");let A=new _message_handler.MessageHandler(r,g,a.port),R=new WorkerTransport(A,e,S,L,M);e._transport=R,A.send("Ready",null)})}).catch(e._capability.reject),e}async function _fetchDocument(t,e){if(t.destroyed)throw new Error("Worker was destroyed");let r=await t.messageHandler.sendWithPromise("GetDocRequest",e,e.data?[e.data.buffer]:null);if(t.destroyed)throw new Error("Worker was destroyed");return r}function getUrlProp(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(_util.isNodeJS&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(t){if(_util.isNodeJS&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return(0,_util.stringToBytes)(t);if(typeof t=="object"&&!isNaN(t?.length)||(0,_util.isArrayBuffer)(t))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,r,n=!1,i=null){this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(let n of this._rangeListeners)n(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(let n of this._progressListeners)n(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,r){this._pdfInfo=e,this._transport=r,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(n=>{if(!n)return n;let i=[];for(let l in n)i.push(...n[l]);return i}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(e,r,n,i=!1){this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:l=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:l})}getAnnotations({intent:e="display"}={}){let r=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:r,intent:n="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:l=null,background:d=null,optionalContentConfigPromise:f=null,annotationCanvasMap:m=null,pageColors:o=null,printAnnotationStorage:a=null}){this._stats?.time("Overall");let s=this._transport.getRenderingIntent(n,i,a);this.#t=!1,this.#r(),f||(f=this._transport.getOptionalContentConfig());let h=this._intentStates.get(s.cacheKey);h||(h=Object.create(null),this._intentStates.set(s.cacheKey,h)),h.streamReaderCancelTimeout&&(clearTimeout(h.streamReaderCancelTimeout),h.streamReaderCancelTimeout=null);let u=!!(s.renderingIntent&_util.RenderingIntentFlag.PRINT);h.displayReadyCapability||(h.displayReadyCapability=new _util.PromiseCapability,h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s));let c=v=>{h.renderTasks.delete(p),(this._maybeCleanupAfterRender||u)&&(this.#t=!0),this.#n(!u),v?(p.capability.reject(v),this._abortOperatorList({intentState:h,reason:v instanceof Error?v:new Error(v)})):p.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},p=new InternalRenderTask({callback:c,params:{canvasContext:e,viewport:r,transform:l,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:m,operatorList:h.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!u,pdfBug:this._pdfBug,pageColors:o});(h.renderTasks||=new Set).add(p);let b=p.task;return Promise.all([h.displayReadyCapability.promise,f]).then(([v,w])=>{if(this.destroyed){c();return}this._stats?.time("Rendering"),p.initializeGraphics({transparency:v,optionalContentConfig:w}),p.operatorListChanged()}).catch(c),b}getOperatorList({intent:e="display",annotationMode:r=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){function i(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(f))}let l=this._transport.getRenderingIntent(e,r,n,!0),d=this._intentStates.get(l.cacheKey);d||(d=Object.create(null),this._intentStates.set(l.cacheKey,d));let f;return d.opListReadCapability||(f=Object.create(null),f.operatorListChanged=i,d.opListReadCapability=new _util.PromiseCapability,(d.renderTasks||=new Set).add(f),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));let r=this.streamTextContent(e);return new Promise(function(n,i){function l(){d.read().then(function({value:m,done:o}){if(o){n(f);return}Object.assign(f.styles,m.styles),f.items.push(...m.items),l()},i)}let d=r.getReader(),f={items:[],styles:Object.create(null)};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(let n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let r=this.#n(!1);return e&&r&&(this._stats&&=new _display_utils.StatTimer),r}#n(e=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(let{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,r){let n=this._intentStates.get(r);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(let n of r.renderTasks)n.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n}){let{map:i,transfers:l}=n,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:i},l).getReader(),m=this._intentStates.get(r);m.streamReader=f;let o=()=>{f.read().then(({value:a,done:s})=>{if(s){m.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(a,m),o())},a=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(let s of m.renderTasks)s.operatorListChanged();this.#n(!0)}if(m.displayReadyCapability)m.displayReadyCapability.reject(a);else if(m.opListReadCapability)m.opListReadCapability.reject(a);else throw a}})};o()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException){let i=RENDERING_CANCELLED_TIMEOUT;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[i,l]of this._intentStates)if(l===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(e,r){let n={data:structuredClone(e,r?{transfer:r}:null)};this.#t.then(()=>{for(let i of this.#e)i.call(this,n)})}addEventListener(e,r){this.#e.add(r)}removeEventListener(e,r){this.#e.delete(r)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof mr=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let r;try{if(r=new URL(t),!r.origin||r.origin==="null")return!1}catch{return!1}let n=new URL(e,r);return r.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(t){let e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))}}class _PDFWorker{static#workerPorts;constructor({name:t=null,port:e=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=r,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,e){if(_PDFWorker.#workerPorts?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(_PDFWorker.#workerPorts||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));let e=new Worker(t),r=new _message_handler.MessageHandler("main","worker",e),n=()=>{e.removeEventListener("error",i),r.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||n()};e.addEventListener("error",i),r.on("test",d=>{if(e.removeEventListener("error",i),this.destroyed){n();return}d?(this._messageHandler=r,this._port=e,this._webWorker=e,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),e.terminate())}),r.on("ready",d=>{if(e.removeEventListener("error",i),this.destroyed){n();return}try{l()}catch{this._setupFakeWorker()}});let l=()=>{let d=new Uint8Array;r.send("test",d,[d.buffer])};l();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new LoopbackPort;this._port=e;let r=`fake${PDFWorkerUtil.fakeWorkerId++}`,n=new _message_handler.MessageHandler(r+"_worker",r,e);t.setup(n,e);let i=new _message_handler.MessageHandler(r,r+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let e=this.#workerPorts?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new _PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=async()=>{let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof mr=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(e,r,n,i,l){this.messageHandler=e,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#s(e,r=null){let n=this.#e.get(e);if(n)return n;let i=this.messageHandler.sendWithPromise(e,r);return this.#e.set(e,i),i}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e,r=_util.AnnotationMode.ENABLE,n=null,i=!1){let l=_util.RenderingIntentFlag.DISPLAY,d=_annotation_storage.SerializableEmpty;switch(e){case"any":l=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":l=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(r){case _util.AnnotationMode.DISABLE:l+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:l+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:l+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,d=(l&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return i&&(l+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:l,cacheKey:`${l}_${d.hash}`,annotationStorageSerializable:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},i.onPull=()=>{this._fullReader.read().then(function({value:l,done:d}){if(d){i.close();return}(0,_util.assert)(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{i.error(l)})},i.onCancel=l=>{this._fullReader.cancel(l),i.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("ReaderHeadersReady",n=>{let i=new _util.PromiseCapability,l=this._fullReader;return l.headersReady.then(()=>{(!l.isStreamingSupported||!l.isRangeSupported)&&(this._lastProgress&&r.onProgress?.(this._lastProgress),l.onProgress=d=>{r.onProgress?.({loaded:d.loaded,total:d.total})}),i.resolve({isStreamingSupported:l.isStreamingSupported,isRangeSupported:l.isRangeSupported,contentLength:l.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){i.close();return}i.onPull=()=>{l.read().then(function({value:d,done:f}){if(f){i.close();return}(0,_util.assert)(d instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(d),1,[d])}).catch(d=>{i.error(d)})},i.onCancel=d=>{l.cancel(d),i.ready.catch(f=>{if(!this.destroyed)throw f})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":i=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(i)}),e.on("PasswordRequest",n=>{if(this.#r=new _util.PromiseCapability,r.onPassword){let i=l=>{l instanceof Error?this.#r.reject(l):this.#r.resolve({password:l})};try{r.onPassword(i,n.code)}catch(l){this.#r.reject(l)}}else this.#r.reject(new _util.PasswordException(n.message,n.code));return this.#r.promise}),e.on("DataLoaded",n=>{r.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,l])=>{if(!this.destroyed&&!this.commonObjs.has(n))switch(i){case"Font":let d=this._params;if("error"in l){let o=l.error;(0,_util.warn)(`Error during font loading: ${o}`),this.commonObjs.resolve(n,o);break}let f=d.pdfBug&&globalThis.FontInspector?.enabled?(o,a)=>globalThis.FontInspector.fontAdded(o,a):null,m=new _font_loader.FontFaceObject(l,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,inspectFont:f});this.fontLoader.bind(m).catch(o=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&m.data&&(m.data=null),this.commonObjs.resolve(n,m)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${i}`)}}),e.on("obj",([n,i,l,d])=>{if(this.destroyed)return;let f=this.#t.get(i);if(!f.objs.has(n))switch(l){case"Image":if(f.objs.resolve(n,d),d){let m;if(d.bitmap){let{width:o,height:a}=d;m=o*a*4}else m=d.data?.length||0;m>_util.MAX_IMAGE_SIZE_TO_CACHE&&(f._maybeCleanupAfterRender=!0)}break;case"Pattern":f.objs.resolve(n,d);break;default:throw new Error(`Got unknown object type ${l}`)}}),e.on("DocProgress",n=>{this.destroyed||r.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfers:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let r=e-1,n=this.#n.get(r);if(n)return n;let i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");let d=new PDFPageProxy(r,l,this,this._params.pdfBug);return this.#t.set(r,d),d});return this.#n.set(r,i),i}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",r=this.#e.get(e);if(r)return r;let n=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new _metadata.Metadata(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(let r of this.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){let{disableAutoFetch:e,enableXfa:r}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:r})}}class PDFObjects{#e=Object.create(null);#t(e){return this.#e[e]||={capability:new _util.PromiseCapability,data:null}}get(e,r=null){if(r){let i=this.#t(e);return i.capability.promise.then(()=>r(i.data)),null}let n=this.#e[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,r=null){let n=this.#t(e);n.data=r,n.capability.resolve()}clear(){for(let e in this.#e){let{data:r}=this.#e[e];r?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:r}=this.#e;return e.form||e.canvas&&r?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:l,operatorList:d,pageIndex:f,canvasFactory:m,filterFactory:o,useRequestAnimationFrame:a=!1,pdfBug:s=!1,pageColors:h=null}){this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=d,this._pageIndex=f,this.canvasFactory=m,this.filterFactory=o,this._pdfBug=s,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=a===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:n,viewport:i,transform:l,background:d}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:i,transparency:e,background:d}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,r=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}let version="3.11.174";exports.version=version;let build="ce8716743";exports.build=build},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=r(1),i=r(4),l=r(8);let d=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=d;class f{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(a,s){let h=this.#t.get(a);return h===void 0?s:Object.assign(s,h)}getRawValue(a){return this.#t.get(a)}remove(a){if(this.#t.delete(a),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let s of this.#t.values())if(s instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(a,s){let h=this.#t.get(a),u=!1;if(h!==void 0)for(let[c,p]of Object.entries(s))h[c]!==p&&(u=!0,h[c]=p);else u=!0,this.#t.set(a,s);u&&this.#n(),s instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(s.constructor._type)}has(a){return this.#t.has(a)}getAll(){return this.#t.size>0?(0,n.objectFromMap)(this.#t):null}setAll(a){for(let[s,h]of Object.entries(a))this.setValue(s,h)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new m(this)}get serializable(){if(this.#t.size===0)return d;let a=new Map,s=new l.MurmurHash3_64,h=[],u=Object.create(null),c=!1;for(let[p,b]of this.#t){let v=b instanceof i.AnnotationEditor?b.serialize(!1,u):b;v&&(a.set(p,v),s.update(`${p}:${JSON.stringify(v)}`),c||=!!v.bitmap)}if(c)for(let p of a.values())p.bitmap&&h.push(p.bitmap);return a.size>0?{map:a,hash:s.hexdigest(),transfers:h}:d}}e.AnnotationStorage=f;class m extends f{#e;constructor(a){super();let{map:s,hash:h,transfers:u}=a.serializable,c=structuredClone(s,u?{transfer:u}:null);this.#e={map:c,hash:h,transfers:u}}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=m},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=r(5),i=r(1),l=r(6);class d{#e="";#t=!1;#n=null;#r=null;#s=null;#o=!1;#a=null;#c=this.focusin.bind(this);#l=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=d._zIndex++;static _borderLineWidth=-1;static _colorManager=new n.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(o){this.constructor===d&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=o.parent,this.id=o.id,this.width=this.height=null,this.pageIndex=o.parent.pageIndex,this.name=o.name,this.div=null,this._uiManager=o.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=o.isCentered,this._structTreeParentId=null;let{rotation:a,rawDims:{pageWidth:s,pageHeight:h,pageX:u,pageY:c}}=this.parent.viewport;this.rotation=a,this.pageRotation=(360+a-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,h],this.pageTranslation=[u,c];let[p,b]=this.parentDimensions;this.x=o.x/p,this.y=o.y/b,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(o){let a=new f({id:o.parent.getNextId(),parent:o.parent,uiManager:o._uiManager});a.annotationElementId=o.annotationElementId,a.deleted=!0,a._uiManager.addToAnnotationStorage(a)}static initialize(o,a=null){if(d._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(h=>[h,o.get(h)])),a?.strings)for(let h of a.strings)d._l10nPromise.set(h,o.get(h));if(d._borderLineWidth!==-1)return;let s=getComputedStyle(document.documentElement);d._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(o,a){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(o){return!1}static paste(o,a){(0,i.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(o){this.#h=o,this.div?.classList.toggle("draggable",o)}center(){let[o,a]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*a/(o*2),this.y+=this.width*o/(a*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*a/(o*2),this.y-=this.width*o/(a*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(o){this._uiManager.addCommands(o)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(o){o!==null&&(this.pageIndex=o.pageIndex,this.pageDimensions=o.pageDimensions),this.parent=o}focusin(o){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(o){!this._focusEventsAllowed||!this.isAttachedToDOM||o.relatedTarget?.closest(`#${this.id}`)||(o.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(o,a,s,h){let[u,c]=this.parentDimensions;[s,h]=this.screenToPageTranslation(s,h),this.x=(o+s)/u,this.y=(a+h)/c,this.fixAndSetPosition()}#v([o,a],s,h){[s,h]=this.screenToPageTranslation(s,h),this.x+=s/o,this.y+=h/a,this.fixAndSetPosition()}translate(o,a){this.#v(this.parentDimensions,o,a)}translateInPage(o,a){this.#v(this.pageDimensions,o,a),this.div.scrollIntoView({block:"nearest"})}drag(o,a){let[s,h]=this.parentDimensions;if(this.x+=o/s,this.y+=a/h,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:v,y:w}=this.div.getBoundingClientRect();this.parent.findNewParent(this,v,w)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:u,y:c}=this,[p,b]=this.#g();u+=p,c+=b,this.div.style.left=`${(100*u).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){let[o,a]=this.parentDimensions,{_borderLineWidth:s}=d,h=s/o,u=s/a;switch(this.rotation){case 90:return[-h,u];case 180:return[h,u];case 270:return[h,-u];default:return[-h,-u]}}fixAndSetPosition(){let[o,a]=this.pageDimensions,{x:s,y:h,width:u,height:c}=this;switch(u*=o,c*=a,s*=o,h*=a,this.rotation){case 0:s=Math.max(0,Math.min(o-u,s)),h=Math.max(0,Math.min(a-c,h));break;case 90:s=Math.max(0,Math.min(o-c,s)),h=Math.min(a,Math.max(u,h));break;case 180:s=Math.min(o,Math.max(u,s)),h=Math.min(a,Math.max(c,h));break;case 270:s=Math.min(o,Math.max(c,s)),h=Math.max(0,Math.min(a-u,h));break}this.x=s/=o,this.y=h/=a;let[p,b]=this.#g();s+=p,h+=b;let{style:v}=this.div;v.left=`${(100*s).toFixed(2)}%`,v.top=`${(100*h).toFixed(2)}%`,this.moveInDOM()}static#m(o,a,s){switch(s){case 90:return[a,-o];case 180:return[-o,-a];case 270:return[-a,o];default:return[o,a]}}screenToPageTranslation(o,a){return d.#m(o,a,this.parentRotation)}pageTranslationToScreen(o,a){return d.#m(o,a,360-this.parentRotation)}#u(o){switch(o){case 90:{let[a,s]=this.pageDimensions;return[0,-a/s,s/a,0]}case 180:return[-1,0,0,-1];case 270:{let[a,s]=this.pageDimensions;return[0,a/s,-s/a,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:o,pageDimensions:[a,s]}=this,h=a*o,u=s*o;return i.FeatureTest.isCSSRoundSupported?[Math.round(h),Math.round(u)]:[h,u]}setDims(o,a){let[s,h]=this.parentDimensions;this.div.style.width=`${(100*o/s).toFixed(2)}%`,this.#o||(this.div.style.height=`${(100*a/h).toFixed(2)}%`),this.#n?.classList.toggle("small",o<d.SMALL_EDITOR_SIZE||a<d.SMALL_EDITOR_SIZE)}fixDims(){let{style:o}=this.div,{height:a,width:s}=o,h=s.endsWith("%"),u=!this.#o&&a.endsWith("%");if(h&&u)return;let[c,p]=this.parentDimensions;h||(o.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!this.#o&&!u&&(o.height=`${(100*parseFloat(a)/p).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#b(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");let o=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||o.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(let a of o){let s=document.createElement("div");this.#a.append(s),s.classList.add("resizer",a),s.addEventListener("pointerdown",this.#w.bind(this,a)),s.addEventListener("contextmenu",l.noContextMenu)}this.div.prepend(this.#a)}#w(o,a){a.preventDefault();let{isMac:s}=i.FeatureTest.platform;if(a.button!==0||a.ctrlKey&&s)return;let h=this.#S.bind(this,o),u=this._isDraggable;this._isDraggable=!1;let c={passive:!0,capture:!0};window.addEventListener("pointermove",h,c);let p=this.x,b=this.y,v=this.width,w=this.height,x=this.parent.div.style.cursor,T=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(a.target).cursor;let _=()=>{this._isDraggable=u,window.removeEventListener("pointerup",_),window.removeEventListener("blur",_),window.removeEventListener("pointermove",h,c),this.parent.div.style.cursor=x,this.div.style.cursor=T;let P=this.x,B=this.y,V=this.width,N=this.height;P===p&&B===b&&V===v&&N===w||this.addCommands({cmd:()=>{this.width=V,this.height=N,this.x=P,this.y=B;let[q,U]=this.parentDimensions;this.setDims(q*V,U*N),this.fixAndSetPosition()},undo:()=>{this.width=v,this.height=w,this.x=p,this.y=b;let[q,U]=this.parentDimensions;this.setDims(q*v,U*w),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",_),window.addEventListener("blur",_)}#S(o,a){let[s,h]=this.parentDimensions,u=this.x,c=this.y,p=this.width,b=this.height,v=d.MIN_SIZE/s,w=d.MIN_SIZE/h,x=D=>Math.round(D*1e4)/1e4,T=this.#u(this.rotation),_=(D,g)=>[T[0]*D+T[2]*g,T[1]*D+T[3]*g],P=this.#u(360-this.rotation),B=(D,g)=>[P[0]*D+P[2]*g,P[1]*D+P[3]*g],V,N,q=!1,U=!1;switch(o){case"topLeft":q=!0,V=(D,g)=>[0,0],N=(D,g)=>[D,g];break;case"topMiddle":V=(D,g)=>[D/2,0],N=(D,g)=>[D/2,g];break;case"topRight":q=!0,V=(D,g)=>[D,0],N=(D,g)=>[0,g];break;case"middleRight":U=!0,V=(D,g)=>[D,g/2],N=(D,g)=>[0,g/2];break;case"bottomRight":q=!0,V=(D,g)=>[D,g],N=(D,g)=>[0,0];break;case"bottomMiddle":V=(D,g)=>[D/2,g],N=(D,g)=>[D/2,0];break;case"bottomLeft":q=!0,V=(D,g)=>[0,g],N=(D,g)=>[D,0];break;case"middleLeft":U=!0,V=(D,g)=>[0,g/2],N=(D,g)=>[D,g/2];break}let Q=V(p,b),ee=N(p,b),$=_(...ee),ie=x(u+$[0]),J=x(c+$[1]),j=1,k=1,[E,y]=this.screenToPageTranslation(a.movementX,a.movementY);if([E,y]=B(E/s,y/h),q){let D=Math.hypot(p,b);j=k=Math.max(Math.min(Math.hypot(ee[0]-Q[0]-E,ee[1]-Q[1]-y)/D,1/p,1/b),v/p,w/b)}else U?j=Math.max(v,Math.min(1,Math.abs(ee[0]-Q[0]-E)))/p:k=Math.max(w,Math.min(1,Math.abs(ee[1]-Q[1]-y)))/b;let M=x(p*j),O=x(b*k);$=_(...N(M,O));let L=ie-$[0],I=J-$[1];this.width=M,this.height=O,this.x=L,this.y=I,this.setDims(s*M,h*O),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;let o=this.#n=document.createElement("button");o.className="altText";let a=await d._l10nPromise.get("editor_alt_text_button_label");o.textContent=a,o.setAttribute("aria-label",a),o.tabIndex="0",o.addEventListener("contextmenu",l.noContextMenu),o.addEventListener("pointerdown",s=>s.stopPropagation()),o.addEventListener("click",s=>{s.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),o.addEventListener("keydown",s=>{s.target===o&&s.key==="Enter"&&(s.preventDefault(),this._uiManager.editAltText(this))}),this.#P(),this.div.append(o),d.SMALL_EDITOR_SIZE||(d.SMALL_EDITOR_SIZE=Math.min(128,Math.round(o.getBoundingClientRect().width*1.4)))}async#P(){let o=this.#n;if(!o)return;if(!this.#e&&!this.#t){o.classList.remove("done"),this.#r?.remove();return}d._l10nPromise.get("editor_alt_text_edit_button_label").then(s=>{o.setAttribute("aria-label",s)});let a=this.#r;if(!a){this.#r=a=document.createElement("span"),a.className="tooltip",a.setAttribute("role","tooltip");let s=a.id=`alt-text-tooltip-${this.id}`;o.setAttribute("aria-describedby",s);let h=100;o.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},h)}),o.addEventListener("mouseleave",()=>{clearTimeout(this.#s),this.#s=null,this.#r?.classList.remove("show")})}o.classList.add("done"),a.innerText=this.#t?await d._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,a.parentNode||o.append(a)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:o,decorative:a}){this.#e===o&&this.#t===a||(this.#e=o,this.#t=a,this.#P())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#c),this.div.addEventListener("focusout",this.#l);let[o,a]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*a/o).toFixed(2)}%`,this.div.style.maxHeight=`${(100*o/a).toFixed(2)}%`);let[s,h]=this.getInitialTranslation();return this.translate(s,h),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(o){let{isMac:a}=i.FeatureTest.platform;if(o.button!==0||o.ctrlKey&&a){o.preventDefault();return}this.#i=!0,this.#k(o)}#k(o){if(!this._isDraggable)return;let a=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let s,h;a&&(s={passive:!0,capture:!0},h=c=>{let[p,b]=this.screenToPageTranslation(c.movementX,c.movementY);this._uiManager.dragSelectedEditors(p,b)},window.addEventListener("pointermove",h,s));let u=()=>{if(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),a&&window.removeEventListener("pointermove",h,s),this.#i=!1,!this._uiManager.endDragSession()){let{isMac:c}=i.FeatureTest.platform;o.ctrlKey&&!c||o.shiftKey||o.metaKey&&c?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",u),window.addEventListener("blur",u)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(o,a,s){o.changeParent(this),this.x=a,this.y=s,this.fixAndSetPosition()}getRect(o,a){let s=this.parentScale,[h,u]=this.pageDimensions,[c,p]=this.pageTranslation,b=o/s,v=a/s,w=this.x*h,x=this.y*u,T=this.width*h,_=this.height*u;switch(this.rotation){case 0:return[w+b+c,u-x-v-_+p,w+b+T+c,u-x-v+p];case 90:return[w+v+c,u-x+b+p,w+v+_+c,u-x+b+T+p];case 180:return[w-b-T+c,u-x+v+p,w-b+c,u-x+v+_+p];case 270:return[w-v-_+c,u-x-b-T+p,w-v+c,u-x-b+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(o,a){let[s,h,u,c]=o,p=u-s,b=c-h;switch(this.rotation){case 0:return[s,a-c,p,b];case 90:return[s,a-h,b,p];case 180:return[u,a-h,p,b];case 270:return[u,a-c,b,p];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#c),this.div?.addEventListener("focusout",this.#l)}serialize(o=!1,a=null){(0,i.unreachable)("An editor must be serializable")}static deserialize(o,a,s){let h=new this.prototype.constructor({parent:a,id:a.getNextId(),uiManager:s});h.rotation=o.rotation;let[u,c]=h.pageDimensions,[p,b,v,w]=h.getRectInCurrentCoords(o.rect,c);return h.x=p/u,h.y=b/c,h.width=v/u,h.height=w/c,h}remove(){this.div.removeEventListener("focusin",this.#c),this.div.removeEventListener("focusout",this.#l),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#b(),this.#a.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(o,a){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(o){this.#f=o,this.parent&&(o?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(o,a){this.#o=!0;let s=o/a,{style:h}=this.div;h.aspectRatio=s,h.height="auto"}static get MIN_SIZE(){return 16}}e.AnnotationEditor=d;class f extends d{constructor(o){super(o),this.annotationElementId=o.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=l,e.opacityToHex=d;var n=r(1),i=r(6);function l(u,c,p){for(let b of p)c.addEventListener(b,u[b].bind(u))}function d(u){return Math.round(Math.min(255,Math.max(1,255*u))).toString(16).padStart(2,"0")}class f{#e=0;getId(){return`${n.AnnotationEditorPrefix}${this.#e++}`}}class m{#e=(0,n.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){let c='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',b=new OffscreenCanvas(1,3).getContext("2d"),v=new Image;v.src=c;let w=v.decode().then(()=>(b.drawImage(v,0,0,1,1,0,0,1,3),new Uint32Array(b.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",w)}async#r(c,p){this.#n||=new Map;let b=this.#n.get(c);if(b===null)return null;if(b?.bitmap)return b.refCounter+=1,b;try{b||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let v;if(typeof p=="string"){b.url=p;let w=await fetch(p);if(!w.ok)throw new Error(w.statusText);v=await w.blob()}else v=b.file=p;if(v.type==="image/svg+xml"){let w=m._isSVGFittingCanvas,x=new FileReader,T=new Image,_=new Promise((P,B)=>{T.onload=()=>{b.bitmap=T,b.isSvg=!0,P()},x.onload=async()=>{let V=b.svgUrl=x.result;T.src=await w?`${V}#svgView(preserveAspectRatio(none))`:V},T.onerror=x.onerror=B});x.readAsDataURL(v),await _}else b.bitmap=await createImageBitmap(v);b.refCounter=1}catch(v){console.error(v),b=null}return this.#n.set(c,b),b&&this.#n.set(b.id,b),b}async getFromFile(c){let{lastModified:p,name:b,size:v,type:w}=c;return this.#r(`${p}_${b}_${v}_${w}`,c)}async getFromUrl(c){return this.#r(c,c)}async getFromId(c){this.#n||=new Map;let p=this.#n.get(c);return p?p.bitmap?(p.refCounter+=1,p):p.file?this.getFromFile(p.file):this.getFromUrl(p.url):null}getSvgUrl(c){let p=this.#n.get(c);return p?.isSvg?p.svgUrl:null}deleteId(c){this.#n||=new Map;let p=this.#n.get(c);p&&(p.refCounter-=1,p.refCounter===0&&(p.bitmap=null))}isValidId(c){return c.startsWith(`image_${this.#e}_`)}}class o{#e=[];#t=!1;#n;#r=-1;constructor(c=128){this.#n=c}add({cmd:c,undo:p,mustExec:b,type:v=NaN,overwriteIfSameType:w=!1,keepUndo:x=!1}){if(b&&c(),this.#t)return;let T={cmd:c,undo:p,type:v};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(T);return}if(w&&this.#e[this.#r].type===v){x&&(T.undo=this.#e[this.#r].undo),this.#e[this.#r]=T;return}let _=this.#r+1;_===this.#n?this.#e.splice(0,1):(this.#r=_,_<this.#e.length&&this.#e.splice(_)),this.#e.push(T)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=o;class a{constructor(c){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:p}=n.FeatureTest.platform;for(let[b,v,w={}]of c)for(let x of b){let T=x.startsWith("mac+");p&&T?(this.callbacks.set(x.slice(4),{callback:v,options:w}),this.allKeys.add(x.split("+").at(-1))):!p&&!T&&(this.callbacks.set(x,{callback:v,options:w}),this.allKeys.add(x.split("+").at(-1)))}}#e(c){c.altKey&&this.buffer.push("alt"),c.ctrlKey&&this.buffer.push("ctrl"),c.metaKey&&this.buffer.push("meta"),c.shiftKey&&this.buffer.push("shift"),this.buffer.push(c.key);let p=this.buffer.join("+");return this.buffer.length=0,p}exec(c,p){if(!this.allKeys.has(p.key))return;let b=this.callbacks.get(this.#e(p));if(!b)return;let{callback:v,options:{bubbles:w=!1,args:x=[],checker:T=null}}=b;T&&!T(c,p)||(v.bind(c,...x)(),w||(p.stopPropagation(),p.preventDefault()))}}e.KeyboardManager=a;class s{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let c=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(c),(0,n.shadow)(this,"_colors",c)}convert(c){let p=(0,i.getRGB)(c);if(!window.matchMedia("(forced-colors: active)").matches)return p;for(let[b,v]of this._colors)if(v.every((w,x)=>w===p[x]))return s._colorsMapping.get(b);return p}getHexCode(c){let p=this._colors.get(c);return p?n.Util.makeHexColor(...p):c}}e.ColorManager=s;class h{#e=null;#t=new Map;#n=new Map;#r=null;#s=null;#o=new o;#a=0;#c=new Set;#l=null;#i=null;#f=new Set;#d=null;#h=new f;#p=!1;#v=!1;#g=null;#m=n.AnnotationEditorType.NONE;#u=new Set;#b=null;#w=this.blur.bind(this);#S=this.focus.bind(this);#P=this.copy.bind(this);#k=this.cut.bind(this);#I=this.paste.bind(this);#D=this.keydown.bind(this);#O=this.onEditingAction.bind(this);#_=this.onPageChanging.bind(this);#L=this.onScaleChanging.bind(this);#M=this.onRotationChanging.bind(this);#T={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#E=[0,0];#x=null;#A=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let c=h.prototype,p=w=>{let{activeElement:x}=document;return x&&w.#A.contains(x)&&w.hasSomethingToControl()},b=this.TRANSLATE_SMALL,v=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new a([[["ctrl+a","mac+meta+a"],c.selectAll],[["ctrl+z","mac+meta+z"],c.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],c.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],c.delete],[["Escape","mac+Escape"],c.unselectAll],[["ArrowLeft","mac+ArrowLeft"],c.translateSelectedEditors,{args:[-b,0],checker:p}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],c.translateSelectedEditors,{args:[-v,0],checker:p}],[["ArrowRight","mac+ArrowRight"],c.translateSelectedEditors,{args:[b,0],checker:p}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],c.translateSelectedEditors,{args:[v,0],checker:p}],[["ArrowUp","mac+ArrowUp"],c.translateSelectedEditors,{args:[0,-b],checker:p}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],c.translateSelectedEditors,{args:[0,-v],checker:p}],[["ArrowDown","mac+ArrowDown"],c.translateSelectedEditors,{args:[0,b],checker:p}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],c.translateSelectedEditors,{args:[0,v],checker:p}]]))}constructor(c,p,b,v,w,x){this.#A=c,this.#N=p,this.#r=b,this._eventBus=v,this._eventBus._on("editingaction",this.#O),this._eventBus._on("pagechanging",this.#_),this._eventBus._on("scalechanging",this.#L),this._eventBus._on("rotationchanging",this.#M),this.#s=w.annotationStorage,this.#d=w.filterFactory,this.#b=x,this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#R(),this.#j(),this._eventBus._off("editingaction",this.#O),this._eventBus._off("pagechanging",this.#_),this._eventBus._off("scalechanging",this.#L),this._eventBus._off("rotationchanging",this.#M);for(let c of this.#n.values())c.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#u.clear(),this.#o.destroy(),this.#r.destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",this.#b?this.#d.addHCMFilter(this.#b.foreground,this.#b.background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(this.#A).direction)}editAltText(c){this.#r?.editAltText(this,c)}onPageChanging({pageNumber:c}){this.#a=c-1}focusMainContainer(){this.#A.focus()}findParent(c,p){for(let b of this.#n.values()){let{x:v,y:w,width:x,height:T}=b.div.getBoundingClientRect();if(c>=v&&c<=v+x&&p>=w&&p<=w+T)return b}return null}disableUserSelect(c=!1){this.#N.classList.toggle("noUserSelect",c)}addShouldRescale(c){this.#f.add(c)}removeShouldRescale(c){this.#f.delete(c)}onScaleChanging({scale:c}){this.commitOrRemove(),this.viewParameters.realScale=c*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(let p of this.#f)p.onScaleChanging()}onRotationChanging({pagesRotation:c}){this.commitOrRemove(),this.viewParameters.rotation=c}addToAnnotationStorage(c){!c.isEmpty()&&this.#s&&!this.#s.has(c.id)&&this.#s.setValue(c.id,c)}#B(){window.addEventListener("focus",this.#S),window.addEventListener("blur",this.#w)}#j(){window.removeEventListener("focus",this.#S),window.removeEventListener("blur",this.#w)}blur(){if(!this.hasSelection)return;let{activeElement:c}=document;for(let p of this.#u)if(p.div.contains(c)){this.#g=[p,c],p._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;let[c,p]=this.#g;this.#g=null,p.addEventListener("focusin",()=>{c._focusEventsAllowed=!0},{once:!0}),p.focus()}#z(){window.addEventListener("keydown",this.#D,{capture:!0})}#R(){window.removeEventListener("keydown",this.#D,{capture:!0})}#F(){document.addEventListener("copy",this.#P),document.addEventListener("cut",this.#k),document.addEventListener("paste",this.#I)}#C(){document.removeEventListener("copy",this.#P),document.removeEventListener("cut",this.#k),document.removeEventListener("paste",this.#I)}addEditListeners(){this.#z(),this.#F()}removeEditListeners(){this.#R(),this.#C()}copy(c){if(c.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;let p=[];for(let b of this.#u){let v=b.serialize(!0);v&&p.push(v)}p.length!==0&&c.clipboardData.setData("application/pdfjs",JSON.stringify(p))}cut(c){this.copy(c),this.delete()}paste(c){c.preventDefault();let{clipboardData:p}=c;for(let w of p.items)for(let x of this.#i)if(x.isHandlingMimeForPasting(w.type)){x.paste(w,this.currentLayer);return}let b=p.getData("application/pdfjs");if(!b)return;try{b=JSON.parse(b)}catch(w){(0,n.warn)(`paste: "${w.message}".`);return}if(!Array.isArray(b))return;this.unselectAll();let v=this.currentLayer;try{let w=[];for(let _ of b){let P=v.deserialize(_);if(!P)return;w.push(P)}let x=()=>{for(let _ of w)this.#W(_);this.#U(w)},T=()=>{for(let _ of w)_.remove()};this.addCommands({cmd:x,undo:T,mustExec:!0})}catch(w){(0,n.warn)(`paste: "${w.message}".`)}}keydown(c){this.getActive()?.shouldGetKeyboardEvents()||h._keyboardManager.exec(this,c)}onEditingAction(c){["undo","redo","delete","selectAll"].includes(c.name)&&this[c.name]()}#y(c){Object.entries(c).some(([b,v])=>this.#T[b]!==v)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#T,c)})}#H(c){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:c})}setEditingState(c){c?(this.#B(),this.#z(),this.#F(),this.#y({isEditing:this.#m!==n.AnnotationEditorType.NONE,isEmpty:this.#V(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#j(),this.#R(),this.#C(),this.#y({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(c){if(!this.#i){this.#i=c;for(let p of this.#i)this.#H(p.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#a)}getLayer(c){return this.#n.get(c)}get currentPageIndex(){return this.#a}addLayer(c){this.#n.set(c.pageIndex,c),this.#p?c.enable():c.disable()}removeLayer(c){this.#n.delete(c.pageIndex)}updateMode(c,p=null){if(this.#m!==c){if(this.#m=c,c===n.AnnotationEditorType.NONE){this.setEditingState(!1),this.#G();return}this.setEditingState(!0),this.#q(),this.unselectAll();for(let b of this.#n.values())b.updateMode(c);if(p){for(let b of this.#t.values())if(b.annotationElementId===p){this.setSelected(b),b.enterInEditMode();break}}}}updateToolbar(c){c!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:c})}updateParams(c,p){if(this.#i){if(c===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(c);return}for(let b of this.#u)b.updateParams(c,p);for(let b of this.#i)b.updateDefaultParams(c,p)}}enableWaiting(c=!1){if(this.#v!==c){this.#v=c;for(let p of this.#n.values())c?p.disableClick():p.enableClick(),p.div.classList.toggle("waiting",c)}}#q(){if(!this.#p){this.#p=!0;for(let c of this.#n.values())c.enable()}}#G(){if(this.unselectAll(),this.#p){this.#p=!1;for(let c of this.#n.values())c.disable()}}getEditors(c){let p=[];for(let b of this.#t.values())b.pageIndex===c&&p.push(b);return p}getEditor(c){return this.#t.get(c)}addEditor(c){this.#t.set(c.id,c)}removeEditor(c){this.#t.delete(c.id),this.unselect(c),(!c.annotationElementId||!this.#c.has(c.annotationElementId))&&this.#s?.remove(c.id)}addDeletedAnnotationElement(c){this.#c.add(c.annotationElementId),c.deleted=!0}isDeletedAnnotationElement(c){return this.#c.has(c)}removeDeletedAnnotationElement(c){this.#c.delete(c.annotationElementId),c.deleted=!1}#W(c){let p=this.#n.get(c.pageIndex);p?p.addOrRebuild(c):this.addEditor(c)}setActiveEditor(c){this.#e!==c&&(this.#e=c,c&&this.#H(c.propertiesToUpdate))}toggleSelected(c){if(this.#u.has(c)){this.#u.delete(c),c.unselect(),this.#y({hasSelectedEditor:this.hasSelection});return}this.#u.add(c),c.select(),this.#H(c.propertiesToUpdate),this.#y({hasSelectedEditor:!0})}setSelected(c){for(let p of this.#u)p!==c&&p.unselect();this.#u.clear(),this.#u.add(c),c.select(),this.#H(c.propertiesToUpdate),this.#y({hasSelectedEditor:!0})}isSelected(c){return this.#u.has(c)}unselect(c){c.unselect(),this.#u.delete(c),this.#y({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#o.undo(),this.#y({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#V()})}redo(){this.#o.redo(),this.#y({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#V()})}addCommands(c){this.#o.add(c),this.#y({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#V()})}#V(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let c of this.#t.values())return c.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let c=[...this.#u],p=()=>{for(let v of c)v.remove()},b=()=>{for(let v of c)this.#W(v)};this.addCommands({cmd:p,undo:b,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#U(c){this.#u.clear();for(let p of c)p.isEmpty()||(this.#u.add(p),p.select());this.#y({hasSelectedEditor:!0})}selectAll(){for(let c of this.#u)c.commit();this.#U(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(let c of this.#u)c.unselect();this.#u.clear(),this.#y({hasSelectedEditor:!1})}}translateSelectedEditors(c,p,b=!1){if(b||this.commitOrRemove(),!this.hasSelection)return;this.#E[0]+=c,this.#E[1]+=p;let[v,w]=this.#E,x=[...this.#u],T=1e3;this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.#x=null,this.#E[0]=this.#E[1]=0,this.addCommands({cmd:()=>{for(let _ of x)this.#t.has(_.id)&&_.translateInPage(v,w)},undo:()=>{for(let _ of x)this.#t.has(_.id)&&_.translateInPage(-v,-w)},mustExec:!1})},T);for(let _ of x)_.translateInPage(c,p)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#l=new Map;for(let c of this.#u)this.#l.set(c,{savedX:c.x,savedY:c.y,savedPageIndex:c.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#l)return!1;this.disableUserSelect(!1);let c=this.#l;this.#l=null;let p=!1;for(let[{x:v,y:w,pageIndex:x},T]of c)T.newX=v,T.newY=w,T.newPageIndex=x,p||=v!==T.savedX||w!==T.savedY||x!==T.savedPageIndex;if(!p)return!1;let b=(v,w,x,T)=>{if(this.#t.has(v.id)){let _=this.#n.get(T);_?v._setParentAndPosition(_,w,x):(v.pageIndex=T,v.x=w,v.y=x)}};return this.addCommands({cmd:()=>{for(let[v,{newX:w,newY:x,newPageIndex:T}]of c)b(v,w,x,T)},undo:()=>{for(let[v,{savedX:w,savedY:x,savedPageIndex:T}]of c)b(v,w,x,T)},mustExec:!0}),!0}dragSelectedEditors(c,p){if(this.#l)for(let b of this.#l.keys())b.drag(c,p)}rebuild(c){if(c.parent===null){let p=this.getLayer(c.pageIndex);p?(p.changeParent(c),p.addOrRebuild(c)):(this.addEditor(c),this.addToAnnotationStorage(c),c.rebuild())}else c.parent.addOrRebuild(c)}isActive(c){return this.#e===c}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,n.shadow)(this,"imageManager",new m)}}e.AnnotationEditorUIManager=h},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=B,e.getColorValues=Q,e.getCurrentTransform=ee,e.getCurrentTransformInverse=$,e.getFilenameFromUrl=v,e.getPdfFilenameFromUrl=w,e.getRGB=U,e.getXfaPageViewport=q,e.isDataScheme=p,e.isPdfFile=b,e.isValidFetchUrl=T,e.loadScript=P,e.noContextMenu=_,e.setLayerDimensions=ie;var n=r(7),i=r(1);let l="http://www.w3.org/2000/svg";class d{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=d;class f extends n.BaseFilterFactory{#e;#t;#n;#r;#s;#o;#a;#c;#l;#i;#f=0;constructor({docId:j,ownerDocument:k=globalThis.document}={}){super(),this.#n=j,this.#r=k}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){let j=this.#r.createElement("div"),{style:k}=j;k.visibility="hidden",k.contain="strict",k.width=k.height=0,k.position="absolute",k.top=k.left=0,k.zIndex=-1;let E=this.#r.createElementNS(l,"svg");E.setAttribute("width",0),E.setAttribute("height",0),this.#t=this.#r.createElementNS(l,"defs"),j.append(E),E.append(this.#t),this.#r.body.append(j)}return this.#t}addFilter(j){if(!j)return"none";let k=this.#d.get(j);if(k)return k;let E,y,M,O;if(j.length===1){let g=j[0],S=new Array(256);for(let A=0;A<256;A++)S[A]=g[A]/255;O=E=y=M=S.join(",")}else{let[g,S,A]=j,R=new Array(256),F=new Array(256),z=new Array(256);for(let W=0;W<256;W++)R[W]=g[W]/255,F[W]=S[W]/255,z[W]=A[W]/255;E=R.join(","),y=F.join(","),M=z.join(","),O=`${E}${y}${M}`}if(k=this.#d.get(O),k)return this.#d.set(j,k),k;let L=`g_${this.#n}_transfer_map_${this.#f++}`,I=`url(#${L})`;this.#d.set(j,I),this.#d.set(O,I);let D=this.#v(L);return this.#m(E,y,M,D),I}addHCMFilter(j,k){let E=`${j}-${k}`;if(this.#o===E)return this.#a;if(this.#o=E,this.#a="none",this.#s?.remove(),!j||!k)return this.#a;let y=this.#u(j);j=i.Util.makeHexColor(...y);let M=this.#u(k);if(k=i.Util.makeHexColor(...M),this.#h.style.color="",j==="#000000"&&k==="#ffffff"||j===k)return this.#a;let O=new Array(256);for(let S=0;S<=255;S++){let A=S/255;O[S]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}let L=O.join(","),I=`g_${this.#n}_hcm_filter`,D=this.#c=this.#v(I);this.#m(L,L,L,D),this.#p(D);let g=(S,A)=>{let R=y[S]/255,F=M[S]/255,z=new Array(A+1);for(let W=0;W<=A;W++)z[W]=R+W/A*(F-R);return z.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),D),this.#a=`url(#${I})`,this.#a}addHighlightHCMFilter(j,k,E,y){let M=`${j}-${k}-${E}-${y}`;if(this.#l===M)return this.#i;if(this.#l=M,this.#i="none",this.#c?.remove(),!j||!k)return this.#i;let[O,L]=[j,k].map(this.#u.bind(this)),I=Math.round(.2126*O[0]+.7152*O[1]+.0722*O[2]),D=Math.round(.2126*L[0]+.7152*L[1]+.0722*L[2]),[g,S]=[E,y].map(this.#u.bind(this));D<I&&([I,D,g,S]=[D,I,S,g]),this.#h.style.color="";let A=(z,W,G)=>{let Z=new Array(256),X=(D-I)/G,Y=z/255,re=(W-z)/(255*G),ne=0;for(let ae=0;ae<=G;ae++){let de=Math.round(I+ae*X),oe=Y+ae*re;for(let me=ne;me<=de;me++)Z[me]=oe;ne=de+1}for(let ae=ne;ae<256;ae++)Z[ae]=Z[ne-1];return Z.join(",")},R=`g_${this.#n}_hcm_highlight_filter`,F=this.#c=this.#v(R);return this.#p(F),this.#m(A(g[0],S[0],5),A(g[1],S[1],5),A(g[2],S[2],5),F),this.#i=`url(#${R})`,this.#i}destroy(j=!1){j&&(this.#a||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(j){let k=this.#r.createElementNS(l,"feColorMatrix");k.setAttribute("type","matrix"),k.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),j.append(k)}#v(j){let k=this.#r.createElementNS(l,"filter");return k.setAttribute("color-interpolation-filters","sRGB"),k.setAttribute("id",j),this.#h.append(k),k}#g(j,k,E){let y=this.#r.createElementNS(l,k);y.setAttribute("type","discrete"),y.setAttribute("tableValues",E),j.append(y)}#m(j,k,E,y){let M=this.#r.createElementNS(l,"feComponentTransfer");y.append(M),this.#g(M,"feFuncR",j),this.#g(M,"feFuncG",k),this.#g(M,"feFuncB",E)}#u(j){return this.#h.style.color=j,U(getComputedStyle(this.#h).getPropertyValue("color"))}}e.DOMFilterFactory=f;class m extends n.BaseCanvasFactory{constructor({ownerDocument:j=globalThis.document}={}){super(),this._document=j}_createCanvas(j,k){let E=this._document.createElement("canvas");return E.width=j,E.height=k,E}}e.DOMCanvasFactory=m;async function o(J,j=!1){if(T(J,document.baseURI)){let k=await fetch(J);if(!k.ok)throw new Error(k.statusText);return j?new Uint8Array(await k.arrayBuffer()):(0,i.stringToBytes)(await k.text())}return new Promise((k,E)=>{let y=new XMLHttpRequest;y.open("GET",J,!0),j&&(y.responseType="arraybuffer"),y.onreadystatechange=()=>{if(y.readyState===XMLHttpRequest.DONE){if(y.status===200||y.status===0){let M;if(j&&y.response?M=new Uint8Array(y.response):!j&&y.responseText&&(M=(0,i.stringToBytes)(y.responseText)),M){k(M);return}}E(new Error(y.statusText))}},y.send(null)})}class a extends n.BaseCMapReaderFactory{_fetchData(j,k){return o(j,this.isCompressed).then(E=>({cMapData:E,compressionType:k}))}}e.DOMCMapReaderFactory=a;class s extends n.BaseStandardFontDataFactory{_fetchData(j){return o(j,!0)}}e.DOMStandardFontDataFactory=s;class h extends n.BaseSVGFactory{_createSVG(j){return document.createElementNS(l,j)}}e.DOMSVGFactory=h;class u{constructor({viewBox:j,scale:k,rotation:E,offsetX:y=0,offsetY:M=0,dontFlip:O=!1}){this.viewBox=j,this.scale=k,this.rotation=E,this.offsetX=y,this.offsetY=M;let L=(j[2]+j[0])/2,I=(j[3]+j[1])/2,D,g,S,A;switch(E%=360,E<0&&(E+=360),E){case 180:D=-1,g=0,S=0,A=1;break;case 90:D=0,g=1,S=1,A=0;break;case 270:D=0,g=-1,S=-1,A=0;break;case 0:D=1,g=0,S=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}O&&(S=-S,A=-A);let R,F,z,W;D===0?(R=Math.abs(I-j[1])*k+y,F=Math.abs(L-j[0])*k+M,z=(j[3]-j[1])*k,W=(j[2]-j[0])*k):(R=Math.abs(L-j[0])*k+y,F=Math.abs(I-j[1])*k+M,z=(j[2]-j[0])*k,W=(j[3]-j[1])*k),this.transform=[D*k,g*k,S*k,A*k,R-D*k*L-S*k*I,F-g*k*L-A*k*I],this.width=z,this.height=W}get rawDims(){let{viewBox:j}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:j[2]-j[0],pageHeight:j[3]-j[1],pageX:j[0],pageY:j[1]})}clone({scale:j=this.scale,rotation:k=this.rotation,offsetX:E=this.offsetX,offsetY:y=this.offsetY,dontFlip:M=!1}={}){return new u({viewBox:this.viewBox.slice(),scale:j,rotation:k,offsetX:E,offsetY:y,dontFlip:M})}convertToViewportPoint(j,k){return i.Util.applyTransform([j,k],this.transform)}convertToViewportRectangle(j){let k=i.Util.applyTransform([j[0],j[1]],this.transform),E=i.Util.applyTransform([j[2],j[3]],this.transform);return[k[0],k[1],E[0],E[1]]}convertToPdfPoint(j,k){return i.Util.applyInverseTransform([j,k],this.transform)}}e.PageViewport=u;class c extends i.BaseException{constructor(j,k=0){super(j,"RenderingCancelledException"),this.extraDelay=k}}e.RenderingCancelledException=c;function p(J){let j=J.length,k=0;for(;k<j&&J[k].trim()==="";)k++;return J.substring(k,k+5).toLowerCase()==="data:"}function b(J){return typeof J=="string"&&/\.pdf$/i.test(J)}function v(J,j=!1){return j||([J]=J.split(/[#?]/,1)),J.substring(J.lastIndexOf("/")+1)}function w(J,j="document.pdf"){if(typeof J!="string")return j;if(p(J))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),j;let k=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,E=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,y=k.exec(J),M=E.exec(y[1])||E.exec(y[2])||E.exec(y[3]);if(M&&(M=M[0],M.includes("%")))try{M=E.exec(decodeURIComponent(M))[0]}catch{}return M||j}class x{started=Object.create(null);times=[];time(j){j in this.started&&(0,i.warn)(`Timer is already running for ${j}`),this.started[j]=Date.now()}timeEnd(j){j in this.started||(0,i.warn)(`Timer has not been started for ${j}`),this.times.push({name:j,start:this.started[j],end:Date.now()}),delete this.started[j]}toString(){let j=[],k=0;for(let{name:E}of this.times)k=Math.max(E.length,k);for(let{name:E,start:y,end:M}of this.times)j.push(`${E.padEnd(k)} ${M-y}ms
`);return j.join("")}}e.StatTimer=x;function T(J,j){try{let{protocol:k}=j?new URL(J,j):new URL(J);return k==="http:"||k==="https:"}catch{return!1}}function _(J){J.preventDefault()}function P(J,j=!1){return new Promise((k,E)=>{let y=document.createElement("script");y.src=J,y.onload=function(M){j&&y.remove(),k(M)},y.onerror=function(){E(new Error(`Cannot load script at: ${y.src}`))},(document.head||document.documentElement).append(y)})}function B(J){console.log("Deprecated API usage: "+J)}let V;class N{static toDateObject(j){if(!j||typeof j!="string")return null;V||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let k=V.exec(j);if(!k)return null;let E=parseInt(k[1],10),y=parseInt(k[2],10);y=y>=1&&y<=12?y-1:0;let M=parseInt(k[3],10);M=M>=1&&M<=31?M:1;let O=parseInt(k[4],10);O=O>=0&&O<=23?O:0;let L=parseInt(k[5],10);L=L>=0&&L<=59?L:0;let I=parseInt(k[6],10);I=I>=0&&I<=59?I:0;let D=k[7]||"Z",g=parseInt(k[8],10);g=g>=0&&g<=23?g:0;let S=parseInt(k[9],10)||0;return S=S>=0&&S<=59?S:0,D==="-"?(O+=g,L+=S):D==="+"&&(O-=g,L-=S),new Date(Date.UTC(E,y,M,O,L,I))}}e.PDFDateString=N;function q(J,{scale:j=1,rotation:k=0}){let{width:E,height:y}=J.attributes.style,M=[0,0,parseInt(E),parseInt(y)];return new u({viewBox:M,scale:j,rotation:k})}function U(J){if(J.startsWith("#")){let j=parseInt(J.slice(1),16);return[(j&16711680)>>16,(j&65280)>>8,j&255]}return J.startsWith("rgb(")?J.slice(4,-1).split(",").map(j=>parseInt(j)):J.startsWith("rgba(")?J.slice(5,-1).split(",").map(j=>parseInt(j)).slice(0,3):((0,i.warn)(`Not a valid color format: "${J}"`),[0,0,0])}function Q(J){let j=document.createElement("span");j.style.visibility="hidden",document.body.append(j);for(let k of J.keys()){j.style.color=k;let E=window.getComputedStyle(j).color;J.set(k,U(E))}j.remove()}function ee(J){let{a:j,b:k,c:E,d:y,e:M,f:O}=J.getTransform();return[j,k,E,y,M,O]}function $(J){let{a:j,b:k,c:E,d:y,e:M,f:O}=J.getTransform().invertSelf();return[j,k,E,y,M,O]}function ie(J,j,k=!1,E=!0){if(j instanceof u){let{pageWidth:y,pageHeight:M}=j.rawDims,{style:O}=J,L=i.FeatureTest.isCSSRoundSupported,I=`var(--scale-factor) * ${y}px`,D=`var(--scale-factor) * ${M}px`,g=L?`round(${I}, 1px)`:`calc(${I})`,S=L?`round(${D}, 1px)`:`calc(${D})`;!k||j.rotation%180===0?(O.width=g,O.height=S):(O.width=S,O.height=g)}E&&J.setAttribute("data-main-rotation",j.rotation)}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=r(1);class i{constructor(){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(a){return"none"}addHCMFilter(a,s){return"none"}addHighlightHCMFilter(a,s,h,u){return"none"}destroy(a=!1){}}e.BaseFilterFactory=i;class l{constructor(){this.constructor===l&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(a,s){if(a<=0||s<=0)throw new Error("Invalid canvas size");let h=this._createCanvas(a,s);return{canvas:h,context:h.getContext("2d")}}reset(a,s,h){if(!a.canvas)throw new Error("Canvas is not specified");if(s<=0||h<=0)throw new Error("Invalid canvas size");a.canvas.width=s,a.canvas.height=h}destroy(a){if(!a.canvas)throw new Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}_createCanvas(a,s){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=l;class d{constructor({baseUrl:a=null,isCompressed:s=!0}){this.constructor===d&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=s}async fetch({name:a}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!a)throw new Error("CMap name must be specified.");let s=this.baseUrl+a+(this.isCompressed?".bcmap":""),h=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(s,h).catch(u=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${s}`)})}_fetchData(a,s){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=d;class f{constructor({baseUrl:a=null}){this.constructor===f&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=a}async fetch({filename:a}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!a)throw new Error("Font filename must be specified.");let s=`${this.baseUrl}${a}`;return this._fetchData(s).catch(h=>{throw new Error(`Unable to load font data at: ${s}`)})}_fetchData(a){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=f;class m{constructor(){this.constructor===m&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(a,s,h=!1){if(a<=0||s<=0)throw new Error("Invalid SVG dimensions");let u=this._createSVG("svg:svg");return u.setAttribute("version","1.1"),h||(u.setAttribute("width",`${a}px`),u.setAttribute("height",`${s}px`)),u.setAttribute("preserveAspectRatio","none"),u.setAttribute("viewBox",`0 0 ${a} ${s}`),u}createElement(a){if(typeof a!="string")throw new Error("Invalid SVG element type");return this._createSVG(a)}_createSVG(a){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=m},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=r(1);let i=3285377520,l=4294901760,d=65535;class f{constructor(o){this.h1=o?o&4294967295:i,this.h2=o?o&4294967295:i}update(o){let a,s;if(typeof o=="string"){a=new Uint8Array(o.length*2),s=0;for(let B=0,V=o.length;B<V;B++){let N=o.charCodeAt(B);N<=255?a[s++]=N:(a[s++]=N>>>8,a[s++]=N&255)}}else if((0,n.isArrayBuffer)(o))a=o.slice(),s=a.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let h=s>>2,u=s-h*4,c=new Uint32Array(a.buffer,0,h),p=0,b=0,v=this.h1,w=this.h2,x=3432918353,T=461845907,_=x&d,P=T&d;for(let B=0;B<h;B++)B&1?(p=c[B],p=p*x&l|p*_&d,p=p<<15|p>>>17,p=p*T&l|p*P&d,v^=p,v=v<<13|v>>>19,v=v*5+3864292196):(b=c[B],b=b*x&l|b*_&d,b=b<<15|b>>>17,b=b*T&l|b*P&d,w^=b,w=w<<13|w>>>19,w=w*5+3864292196);switch(p=0,u){case 3:p^=a[h*4+2]<<16;case 2:p^=a[h*4+1]<<8;case 1:p^=a[h*4],p=p*x&l|p*_&d,p=p<<15|p>>>17,p=p*T&l|p*P&d,h&1?v^=p:w^=p}this.h1=v,this.h2=w}hexdigest(){let o=this.h1,a=this.h2;return o^=a>>>1,o=o*3981806797&l|o*36045&d,a=a*4283543511&l|((a<<16|o>>>16)*2950163797&l)>>>16,o^=a>>>1,o=o*444984403&l|o*60499&d,a=a*3301882366&l|((a<<16|o>>>16)*3120437893&l)>>>16,o^=a>>>1,(o>>>0).toString(16).padStart(8,"0")+(a>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=f},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=r(1);class i{#e=new Set;constructor({ownerDocument:f=globalThis.document,styleElement:m=null}){this._document=f,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(f){this.nativeFontFaces.add(f),this._document.fonts.add(f)}removeNativeFontFace(f){this.nativeFontFaces.delete(f),this._document.fonts.delete(f)}insertRule(f){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let m=this.styleElement.sheet;m.insertRule(f,m.cssRules.length)}clear(){for(let f of this.nativeFontFaces)this._document.fonts.delete(f);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(f){if(!(!f||this.#e.has(f.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:m,src:o,style:a}=f,s=new FontFace(m,o,a);this.addNativeFontFace(s);try{await s.load(),this.#e.add(m)}catch{(0,n.warn)(`Cannot load system font: ${f.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(f){if(f.attached||f.missingFile&&!f.systemFontInfo)return;if(f.attached=!0,f.systemFontInfo){await this.loadSystemFont(f.systemFontInfo);return}if(this.isFontLoadingAPISupported){let o=f.createNativeFontFace();if(o){this.addNativeFontFace(o);try{await o.loaded}catch(a){throw(0,n.warn)(`Failed to load font '${o.family}': '${a}'.`),f.disableFontFace=!0,a}}return}let m=f.createFontFaceRule();if(m){if(this.insertRule(m),this.isSyncFontLoadingSupported)return;await new Promise(o=>{let a=this._queueLoadingCallback(o);this._prepareFontLoadEvent(f,a)})}}get isFontLoadingAPISupported(){let f=!!this._document?.fonts;return(0,n.shadow)(this,"isFontLoadingAPISupported",f)}get isSyncFontLoadingSupported(){let f=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(f=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",f)}_queueLoadingCallback(f){function m(){for((0,n.assert)(!a.done,"completeRequest() cannot be called twice."),a.done=!0;o.length>0&&o[0].done;){let s=o.shift();setTimeout(s.callback,0)}}let{loadingRequests:o}=this,a={done:!1,complete:m,callback:f};return o.push(a),a}get _loadTestFont(){let f=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",f)}_prepareFontLoadEvent(f,m){function o(q,U){return q.charCodeAt(U)<<24|q.charCodeAt(U+1)<<16|q.charCodeAt(U+2)<<8|q.charCodeAt(U+3)&255}function a(q,U,Q,ee){let $=q.substring(0,U),ie=q.substring(U+Q);return $+ee+ie}let s,h,u=this._document.createElement("canvas");u.width=1,u.height=1;let c=u.getContext("2d"),p=0;function b(q,U){if(++p>30){(0,n.warn)("Load test font never loaded."),U();return}if(c.font="30px "+q,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(b.bind(null,q,U))}let v=`lt${Date.now()}${this.loadTestFontId++}`,w=this._loadTestFont;w=a(w,976,v.length,v);let T=16,_=1482184792,P=o(w,T);for(s=0,h=v.length-3;s<h;s+=4)P=P-_+o(v,s)|0;s<v.length&&(P=P-_+o(v+"XXX",s)|0),w=a(w,T,4,(0,n.string32)(P));let B=`url(data:font/opentype;base64,${btoa(w)});`,V=`@font-face {font-family:"${v}";src:${B}}`;this.insertRule(V);let N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(let q of[f.loadedName,v]){let U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=q,N.append(U)}this._document.body.append(N),b(v,()=>{N.remove(),m.complete()})}}e.FontLoader=i;class l{constructor(f,{isEvalSupported:m=!0,disableFontFace:o=!1,ignoreErrors:a=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(let h in f)this[h]=f[h];this.isEvalSupported=m!==!1,this.disableFontFace=o===!0,this.ignoreErrors=a===!0,this._inspectFont=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let f;if(!this.cssFontInfo)f=new FontFace(this.loadedName,this.data,{});else{let m={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(m.style=`oblique ${this.cssFontInfo.italicAngle}deg`),f=new FontFace(this.cssFontInfo.fontFamily,this.data,m)}return this._inspectFont?.(this),f}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let f=(0,n.bytesToString)(this.data),m=`url(data:${this.mimetype};base64,${btoa(f)});`,o;if(!this.cssFontInfo)o=`@font-face {font-family:"${this.loadedName}";src:${m}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),o=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${m}}`}return this._inspectFont?.(this,m),o}getPathGenerator(f,m){if(this.compiledGlyphs[m]!==void 0)return this.compiledGlyphs[m];let o;try{o=f.get(this.loadedName+"_path_"+m)}catch(a){if(!this.ignoreErrors)throw a;return(0,n.warn)(`getPathGenerator - ignoring character: "${a}".`),this.compiledGlyphs[m]=function(s,h){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){let a=[];for(let s of o){let h=s.args!==void 0?s.args.join(","):"";a.push("c.",s.cmd,"(",h,`);
`)}return this.compiledGlyphs[m]=new Function("c","size",a.join(""))}return this.compiledGlyphs[m]=function(a,s){for(let h of o)h.cmd==="scale"&&(h.args=[s,-s]),a[h.cmd].apply(a,h.args)}}}e.FontFaceObject=l},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=r(7),i=r(1);let l=function(a){return new Promise((s,h)=>{In().readFile(a,(c,p)=>{if(c||!p){h(new Error(c));return}s(new Uint8Array(p))})})};class d extends n.BaseFilterFactory{}e.NodeFilterFactory=d;class f extends n.BaseCanvasFactory{_createCanvas(s,h){return mi().createCanvas(s,h)}}e.NodeCanvasFactory=f;class m extends n.BaseCMapReaderFactory{_fetchData(s,h){return l(s).then(u=>({cMapData:u,compressionType:h}))}}e.NodeCMapReaderFactory=m;class o extends n.BaseStandardFontDataFactory{_fetchData(s){return l(s)}}e.NodeStandardFontDataFactory=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=r(1),i=r(6),l=r(12),d=r(13);let f=16,m=100,o=4096,a=15,s=10,h=1e3,u=16;function c(k,E){if(k._removeMirroring)throw new Error("Context is already forwarding operations.");k.__originalSave=k.save,k.__originalRestore=k.restore,k.__originalRotate=k.rotate,k.__originalScale=k.scale,k.__originalTranslate=k.translate,k.__originalTransform=k.transform,k.__originalSetTransform=k.setTransform,k.__originalResetTransform=k.resetTransform,k.__originalClip=k.clip,k.__originalMoveTo=k.moveTo,k.__originalLineTo=k.lineTo,k.__originalBezierCurveTo=k.bezierCurveTo,k.__originalRect=k.rect,k.__originalClosePath=k.closePath,k.__originalBeginPath=k.beginPath,k._removeMirroring=()=>{k.save=k.__originalSave,k.restore=k.__originalRestore,k.rotate=k.__originalRotate,k.scale=k.__originalScale,k.translate=k.__originalTranslate,k.transform=k.__originalTransform,k.setTransform=k.__originalSetTransform,k.resetTransform=k.__originalResetTransform,k.clip=k.__originalClip,k.moveTo=k.__originalMoveTo,k.lineTo=k.__originalLineTo,k.bezierCurveTo=k.__originalBezierCurveTo,k.rect=k.__originalRect,k.closePath=k.__originalClosePath,k.beginPath=k.__originalBeginPath,delete k._removeMirroring},k.save=function(){E.save(),this.__originalSave()},k.restore=function(){E.restore(),this.__originalRestore()},k.translate=function(M,O){E.translate(M,O),this.__originalTranslate(M,O)},k.scale=function(M,O){E.scale(M,O),this.__originalScale(M,O)},k.transform=function(M,O,L,I,D,g){E.transform(M,O,L,I,D,g),this.__originalTransform(M,O,L,I,D,g)},k.setTransform=function(M,O,L,I,D,g){E.setTransform(M,O,L,I,D,g),this.__originalSetTransform(M,O,L,I,D,g)},k.resetTransform=function(){E.resetTransform(),this.__originalResetTransform()},k.rotate=function(M){E.rotate(M),this.__originalRotate(M)},k.clip=function(M){E.clip(M),this.__originalClip(M)},k.moveTo=function(y,M){E.moveTo(y,M),this.__originalMoveTo(y,M)},k.lineTo=function(y,M){E.lineTo(y,M),this.__originalLineTo(y,M)},k.bezierCurveTo=function(y,M,O,L,I,D){E.bezierCurveTo(y,M,O,L,I,D),this.__originalBezierCurveTo(y,M,O,L,I,D)},k.rect=function(y,M,O,L){E.rect(y,M,O,L),this.__originalRect(y,M,O,L)},k.closePath=function(){E.closePath(),this.__originalClosePath()},k.beginPath=function(){E.beginPath(),this.__originalBeginPath()}}class p{constructor(E){this.canvasFactory=E,this.cache=Object.create(null)}getCanvas(E,y,M){let O;return this.cache[E]!==void 0?(O=this.cache[E],this.canvasFactory.reset(O,y,M)):(O=this.canvasFactory.create(y,M),this.cache[E]=O),O}delete(E){delete this.cache[E]}clear(){for(let E in this.cache){let y=this.cache[E];this.canvasFactory.destroy(y),delete this.cache[E]}}}function b(k,E,y,M,O,L,I,D,g,S){let[A,R,F,z,W,G]=(0,i.getCurrentTransform)(k);if(R===0&&F===0){let Y=I*A+W,re=Math.round(Y),ne=D*z+G,ae=Math.round(ne),de=(I+g)*A+W,oe=Math.abs(Math.round(de)-re)||1,me=(D+S)*z+G,fe=Math.abs(Math.round(me)-ae)||1;return k.setTransform(Math.sign(A),0,0,Math.sign(z),re,ae),k.drawImage(E,y,M,O,L,0,0,oe,fe),k.setTransform(A,R,F,z,W,G),[oe,fe]}if(A===0&&z===0){let Y=D*F+W,re=Math.round(Y),ne=I*R+G,ae=Math.round(ne),de=(D+S)*F+W,oe=Math.abs(Math.round(de)-re)||1,me=(I+g)*R+G,fe=Math.abs(Math.round(me)-ae)||1;return k.setTransform(0,Math.sign(R),Math.sign(F),0,re,ae),k.drawImage(E,y,M,O,L,0,0,fe,oe),k.setTransform(A,R,F,z,W,G),[fe,oe]}k.drawImage(E,y,M,O,L,I,D,g,S);let Z=Math.hypot(A,R),X=Math.hypot(F,z);return[Z*g,X*S]}function v(k){let{width:E,height:y}=k;if(E>h||y>h)return null;let M=1e3,O=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),L=E+1,I=new Uint8Array(L*(y+1)),D,g,S,A=E+7&-8,R=new Uint8Array(A*y),F=0;for(let X of k.data){let Y=128;for(;Y>0;)R[F++]=X&Y?0:255,Y>>=1}let z=0;for(F=0,R[F]!==0&&(I[0]=1,++z),g=1;g<E;g++)R[F]!==R[F+1]&&(I[g]=R[F]?2:1,++z),F++;for(R[F]!==0&&(I[g]=2,++z),D=1;D<y;D++){F=D*A,S=D*L,R[F-A]!==R[F]&&(I[S]=R[F]?1:8,++z);let X=(R[F]?4:0)+(R[F-A]?8:0);for(g=1;g<E;g++)X=(X>>2)+(R[F+1]?4:0)+(R[F-A+1]?8:0),O[X]&&(I[S+g]=O[X],++z),F++;if(R[F-A]!==R[F]&&(I[S+g]=R[F]?2:4,++z),z>M)return null}for(F=A*(y-1),S=D*L,R[F]!==0&&(I[S]=8,++z),g=1;g<E;g++)R[F]!==R[F+1]&&(I[S+g]=R[F]?4:8,++z),F++;if(R[F]!==0&&(I[S+g]=4,++z),z>M)return null;let W=new Int32Array([0,L,-1,0,-L,0,0,0,1]),G=new Path2D;for(D=0;z&&D<=y;D++){let X=D*L,Y=X+E;for(;X<Y&&!I[X];)X++;if(X===Y)continue;G.moveTo(X%L,D);let re=X,ne=I[X];do{let ae=W[ne];do X+=ae;while(!I[X]);let de=I[X];de!==5&&de!==10?(ne=de,I[X]=0):(ne=de&51*ne>>4,I[X]&=ne>>2|ne<<2),G.lineTo(X%L,X/L|0),I[X]||--z}while(re!==X);--D}return R=null,I=null,function(X){X.save(),X.scale(1/E,-1/y),X.translate(0,-y),X.fill(G),X.beginPath(),X.restore()}}class w{constructor(E,y){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,E,y])}clone(){let E=Object.create(this);return E.clipBox=this.clipBox.slice(),E}setCurrentPoint(E,y){this.x=E,this.y=y}updatePathMinMax(E,y,M){[y,M]=n.Util.applyTransform([y,M],E),this.minX=Math.min(this.minX,y),this.minY=Math.min(this.minY,M),this.maxX=Math.max(this.maxX,y),this.maxY=Math.max(this.maxY,M)}updateRectMinMax(E,y){let M=n.Util.applyTransform(y,E),O=n.Util.applyTransform(y.slice(2),E);this.minX=Math.min(this.minX,M[0],O[0]),this.minY=Math.min(this.minY,M[1],O[1]),this.maxX=Math.max(this.maxX,M[0],O[0]),this.maxY=Math.max(this.maxY,M[1],O[1])}updateScalingPathMinMax(E,y){n.Util.scaleMinMax(E,y),this.minX=Math.min(this.minX,y[0]),this.maxX=Math.max(this.maxX,y[1]),this.minY=Math.min(this.minY,y[2]),this.maxY=Math.max(this.maxY,y[3])}updateCurvePathMinMax(E,y,M,O,L,I,D,g,S,A){let R=n.Util.bezierBoundingBox(y,M,O,L,I,D,g,S);if(A){A[0]=Math.min(A[0],R[0],R[2]),A[1]=Math.max(A[1],R[0],R[2]),A[2]=Math.min(A[2],R[1],R[3]),A[3]=Math.max(A[3],R[1],R[3]);return}this.updateRectMinMax(E,R)}getPathBoundingBox(E=l.PathType.FILL,y=null){let M=[this.minX,this.minY,this.maxX,this.maxY];if(E===l.PathType.STROKE){y||(0,n.unreachable)("Stroke bounding box must include transform.");let O=n.Util.singularValueDecompose2dScale(y),L=O[0]*this.lineWidth/2,I=O[1]*this.lineWidth/2;M[0]-=L,M[1]-=I,M[2]+=L,M[3]+=I}return M}updateClipFromPath(){let E=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(E||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(E){this.clipBox=E,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(E=l.PathType.FILL,y=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(E,y))}}function x(k,E){if(typeof ImageData<"u"&&E instanceof ImageData){k.putImageData(E,0,0);return}let y=E.height,M=E.width,O=y%u,L=(y-O)/u,I=O===0?L:L+1,D=k.createImageData(M,u),g=0,S,A=E.data,R=D.data,F,z,W,G;if(E.kind===n.ImageKind.GRAYSCALE_1BPP){let Z=A.byteLength,X=new Uint32Array(R.buffer,0,R.byteLength>>2),Y=X.length,re=M+7>>3,ne=4294967295,ae=n.FeatureTest.isLittleEndian?4278190080:255;for(F=0;F<I;F++){for(W=F<L?u:O,S=0,z=0;z<W;z++){let de=Z-g,oe=0,me=de>re?M:de*8-7,fe=me&-8,ve=0,Ae=0;for(;oe<fe;oe+=8)Ae=A[g++],X[S++]=Ae&128?ne:ae,X[S++]=Ae&64?ne:ae,X[S++]=Ae&32?ne:ae,X[S++]=Ae&16?ne:ae,X[S++]=Ae&8?ne:ae,X[S++]=Ae&4?ne:ae,X[S++]=Ae&2?ne:ae,X[S++]=Ae&1?ne:ae;for(;oe<me;oe++)ve===0&&(Ae=A[g++],ve=128),X[S++]=Ae&ve?ne:ae,ve>>=1}for(;S<Y;)X[S++]=0;k.putImageData(D,0,F*u)}}else if(E.kind===n.ImageKind.RGBA_32BPP){for(z=0,G=M*u*4,F=0;F<L;F++)R.set(A.subarray(g,g+G)),g+=G,k.putImageData(D,0,z),z+=u;F<I&&(G=M*O*4,R.set(A.subarray(g,g+G)),k.putImageData(D,0,z))}else if(E.kind===n.ImageKind.RGB_24BPP)for(W=u,G=M*W,F=0;F<I;F++){for(F>=L&&(W=O,G=M*W),S=0,z=G;z--;)R[S++]=A[g++],R[S++]=A[g++],R[S++]=A[g++],R[S++]=255;k.putImageData(D,0,F*u)}else throw new Error(`bad image kind: ${E.kind}`)}function T(k,E){if(E.bitmap){k.drawImage(E.bitmap,0,0);return}let y=E.height,M=E.width,O=y%u,L=(y-O)/u,I=O===0?L:L+1,D=k.createImageData(M,u),g=0,S=E.data,A=D.data;for(let R=0;R<I;R++){let F=R<L?u:O;({srcPos:g}=(0,d.convertBlackAndWhiteToRGBA)({src:S,srcPos:g,dest:A,width:M,height:F,nonBlackColor:0})),k.putImageData(D,0,R*u)}}function _(k,E){let y=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let M of y)k[M]!==void 0&&(E[M]=k[M]);k.setLineDash!==void 0&&(E.setLineDash(k.getLineDash()),E.lineDashOffset=k.lineDashOffset)}function P(k){if(k.strokeStyle=k.fillStyle="#000000",k.fillRule="nonzero",k.globalAlpha=1,k.lineWidth=1,k.lineCap="butt",k.lineJoin="miter",k.miterLimit=10,k.globalCompositeOperation="source-over",k.font="10px sans-serif",k.setLineDash!==void 0&&(k.setLineDash([]),k.lineDashOffset=0),!n.isNodeJS){let{filter:E}=k;E!=="none"&&E!==""&&(k.filter="none")}}function B(k,E,y,M){let O=k.length;for(let L=3;L<O;L+=4){let I=k[L];if(I===0)k[L-3]=E,k[L-2]=y,k[L-1]=M;else if(I<255){let D=255-I;k[L-3]=k[L-3]*I+E*D>>8,k[L-2]=k[L-2]*I+y*D>>8,k[L-1]=k[L-1]*I+M*D>>8}}}function V(k,E,y){let M=k.length,O=1/255;for(let L=3;L<M;L+=4){let I=y?y[k[L]]:k[L];E[L]=E[L]*I*O|0}}function N(k,E,y){let M=k.length;for(let O=3;O<M;O+=4){let L=k[O-3]*77+k[O-2]*152+k[O-1]*28;E[O]=y?E[O]*y[L>>8]>>8:E[O]*L>>16}}function q(k,E,y,M,O,L,I,D,g,S,A){let R=!!L,F=R?L[0]:0,z=R?L[1]:0,W=R?L[2]:0,G=O==="Luminosity"?N:V,X=Math.min(M,Math.ceil(1048576/y));for(let Y=0;Y<M;Y+=X){let re=Math.min(X,M-Y),ne=k.getImageData(D-S,Y+(g-A),y,re),ae=E.getImageData(D,Y+g,y,re);R&&B(ne.data,F,z,W),G(ne.data,ae.data,I),E.putImageData(ae,D,Y+g)}}function U(k,E,y,M){let O=M[0],L=M[1],I=M[2]-O,D=M[3]-L;I===0||D===0||(q(E.context,y,I,D,E.subtype,E.backdrop,E.transferMap,O,L,E.offsetX,E.offsetY),k.save(),k.globalAlpha=1,k.globalCompositeOperation="source-over",k.setTransform(1,0,0,1,0,0),k.drawImage(y.canvas,0,0),k.restore())}function Q(k,E){let y=n.Util.singularValueDecompose2dScale(k);y[0]=Math.fround(y[0]),y[1]=Math.fround(y[1]);let M=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return E!==void 0?E:y[0]<=M||y[1]<=M}let ee=["butt","round","square"],$=["miter","round","bevel"],ie={},J={};class j{constructor(E,y,M,O,L,{optionalContentConfig:I,markedContentStack:D=null},g,S){this.ctx=E,this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=y,this.objs=M,this.canvasFactory=O,this.filterFactory=L,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=D||[],this.optionalContentConfig=I,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=g,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=S,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(E,y=null){return typeof E=="string"?E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E):y}beginDrawing({transform:E,viewport:y,transparency:M=!1,background:O=null}){let L=this.ctx.canvas.width,I=this.ctx.canvas.height,D=this.ctx.fillStyle;if(this.ctx.fillStyle=O||"#ffffff",this.ctx.fillRect(0,0,L,I),this.ctx.fillStyle=D,M){let g=this.cachedCanvases.getCanvas("transparent",L,I);this.compositeCtx=this.ctx,this.transparentCanvas=g.canvas,this.ctx=g.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),P(this.ctx),E&&(this.ctx.transform(...E),this.outputScaleX=E[0],this.outputScaleY=E[0]),this.ctx.transform(...y.transform),this.viewportScale=y.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(E,y,M,O){let L=E.argsArray,I=E.fnArray,D=y||0,g=L.length;if(g===D)return D;let S=g-D>s&&typeof M=="function",A=S?Date.now()+a:0,R=0,F=this.commonObjs,z=this.objs,W;for(;;){if(O!==void 0&&D===O.nextBreakPoint)return O.breakIt(D,M),D;if(W=I[D],W!==n.OPS.dependency)this[W].apply(this,L[D]);else for(let G of L[D]){let Z=G.startsWith("g_")?F:z;if(!Z.has(G))return Z.get(G,M),D}if(D++,D===g)return D;if(S&&++R>s){if(Date.now()>A)return M(),D;R=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let E of this._cachedBitmapsMap.values()){for(let y of E.values())typeof HTMLCanvasElement<"u"&&y instanceof HTMLCanvasElement&&(y.width=y.height=0);E.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let E=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(E!=="none"){let y=this.ctx.filter;this.ctx.filter=E,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=y}}}_scaleImage(E,y){let M=E.width,O=E.height,L=Math.max(Math.hypot(y[0],y[1]),1),I=Math.max(Math.hypot(y[2],y[3]),1),D=M,g=O,S="prescale1",A,R;for(;L>2&&D>1||I>2&&g>1;){let F=D,z=g;L>2&&D>1&&(F=D>=16384?Math.floor(D/2)-1||1:Math.ceil(D/2),L/=D/F),I>2&&g>1&&(z=g>=16384?Math.floor(g/2)-1||1:Math.ceil(g)/2,I/=g/z),A=this.cachedCanvases.getCanvas(S,F,z),R=A.context,R.clearRect(0,0,F,z),R.drawImage(E,0,0,D,g,0,0,F,z),E=A.canvas,D=F,g=z,S=S==="prescale1"?"prescale2":"prescale1"}return{img:E,paintWidth:D,paintHeight:g}}_createMaskCanvas(E){let y=this.ctx,{width:M,height:O}=E,L=this.current.fillColor,I=this.current.patternFill,D=(0,i.getCurrentTransform)(y),g,S,A,R;if((E.bitmap||E.data)&&E.count>1){let oe=E.bitmap||E.data.buffer;S=JSON.stringify(I?D:[D.slice(0,4),L]),g=this._cachedBitmapsMap.get(oe),g||(g=new Map,this._cachedBitmapsMap.set(oe,g));let me=g.get(S);if(me&&!I){let fe=Math.round(Math.min(D[0],D[2])+D[4]),ve=Math.round(Math.min(D[1],D[3])+D[5]);return{canvas:me,offsetX:fe,offsetY:ve}}A=me}A||(R=this.cachedCanvases.getCanvas("maskCanvas",M,O),T(R.context,E));let F=n.Util.transform(D,[1/M,0,0,-1/O,0,0]);F=n.Util.transform(F,[1,0,0,1,0,-O]);let z=n.Util.applyTransform([0,0],F),W=n.Util.applyTransform([M,O],F),G=n.Util.normalizeRect([z[0],z[1],W[0],W[1]]),Z=Math.round(G[2]-G[0])||1,X=Math.round(G[3]-G[1])||1,Y=this.cachedCanvases.getCanvas("fillCanvas",Z,X),re=Y.context,ne=Math.min(z[0],W[0]),ae=Math.min(z[1],W[1]);re.translate(-ne,-ae),re.transform(...F),A||(A=this._scaleImage(R.canvas,(0,i.getCurrentTransformInverse)(re)),A=A.img,g&&I&&g.set(S,A)),re.imageSmoothingEnabled=Q((0,i.getCurrentTransform)(re),E.interpolate),b(re,A,0,0,A.width,A.height,0,0,M,O),re.globalCompositeOperation="source-in";let de=n.Util.transform((0,i.getCurrentTransformInverse)(re),[1,0,0,1,-ne,-ae]);return re.fillStyle=I?L.getPattern(y,this,de,l.PathType.FILL):L,re.fillRect(0,0,M,O),g&&!I&&(this.cachedCanvases.delete("fillCanvas"),g.set(S,Y.canvas)),{canvas:Y.canvas,offsetX:Math.round(ne),offsetY:Math.round(ae)}}setLineWidth(E){E!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=E,this.ctx.lineWidth=E}setLineCap(E){this.ctx.lineCap=ee[E]}setLineJoin(E){this.ctx.lineJoin=$[E]}setMiterLimit(E){this.ctx.miterLimit=E}setDash(E,y){let M=this.ctx;M.setLineDash!==void 0&&(M.setLineDash(E),M.lineDashOffset=y)}setRenderingIntent(E){}setFlatness(E){}setGState(E){for(let[y,M]of E)switch(y){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M[0],M[1]);break;case"CA":this.current.strokeAlpha=M;break;case"ca":this.current.fillAlpha=M,this.ctx.globalAlpha=M;break;case"BM":this.ctx.globalCompositeOperation=M;break;case"SMask":this.current.activeSMask=M?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(M);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let E=this.inSMaskMode;this.current.activeSMask&&!E?this.beginSMaskMode():!this.current.activeSMask&&E&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let E=this.ctx.canvas.width,y=this.ctx.canvas.height,M="smaskGroupAt"+this.groupLevel,O=this.cachedCanvases.getCanvas(M,E,y);this.suspendedCtx=this.ctx,this.ctx=O.context;let L=this.ctx;L.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),_(this.suspendedCtx,L),c(L,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(E){if(!this.current.activeSMask)return;E?(E[0]=Math.floor(E[0]),E[1]=Math.floor(E[1]),E[2]=Math.ceil(E[2]),E[3]=Math.ceil(E[3])):E=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let y=this.current.activeSMask,M=this.suspendedCtx;U(M,y,this.ctx,E),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let E=this.current;this.stateStack.push(E),this.current=E.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(E,y,M,O,L,I){this.ctx.transform(E,y,M,O,L,I),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(E,y,M){let O=this.ctx,L=this.current,I=L.x,D=L.y,g,S,A=(0,i.getCurrentTransform)(O),R=A[0]===0&&A[3]===0||A[1]===0&&A[2]===0,F=R?M.slice(0):null;for(let z=0,W=0,G=E.length;z<G;z++)switch(E[z]|0){case n.OPS.rectangle:I=y[W++],D=y[W++];let Z=y[W++],X=y[W++],Y=I+Z,re=D+X;O.moveTo(I,D),Z===0||X===0?O.lineTo(Y,re):(O.lineTo(Y,D),O.lineTo(Y,re),O.lineTo(I,re)),R||L.updateRectMinMax(A,[I,D,Y,re]),O.closePath();break;case n.OPS.moveTo:I=y[W++],D=y[W++],O.moveTo(I,D),R||L.updatePathMinMax(A,I,D);break;case n.OPS.lineTo:I=y[W++],D=y[W++],O.lineTo(I,D),R||L.updatePathMinMax(A,I,D);break;case n.OPS.curveTo:g=I,S=D,I=y[W+4],D=y[W+5],O.bezierCurveTo(y[W],y[W+1],y[W+2],y[W+3],I,D),L.updateCurvePathMinMax(A,g,S,y[W],y[W+1],y[W+2],y[W+3],I,D,F),W+=6;break;case n.OPS.curveTo2:g=I,S=D,O.bezierCurveTo(I,D,y[W],y[W+1],y[W+2],y[W+3]),L.updateCurvePathMinMax(A,g,S,I,D,y[W],y[W+1],y[W+2],y[W+3],F),I=y[W+2],D=y[W+3],W+=4;break;case n.OPS.curveTo3:g=I,S=D,I=y[W+2],D=y[W+3],O.bezierCurveTo(y[W],y[W+1],I,D,I,D),L.updateCurvePathMinMax(A,g,S,y[W],y[W+1],I,D,I,D,F),W+=4;break;case n.OPS.closePath:O.closePath();break}R&&L.updateScalingPathMinMax(A,F),L.setCurrentPoint(I,D)}closePath(){this.ctx.closePath()}stroke(E=!0){let y=this.ctx,M=this.current.strokeColor;y.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof M=="object"&&M?.getPattern?(y.save(),y.strokeStyle=M.getPattern(y,this,(0,i.getCurrentTransformInverse)(y),l.PathType.STROKE),this.rescaleAndStroke(!1),y.restore()):this.rescaleAndStroke(!0)),E&&this.consumePath(this.current.getClippedPathBoundingBox()),y.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(E=!0){let y=this.ctx,M=this.current.fillColor,O=this.current.patternFill,L=!1;O&&(y.save(),y.fillStyle=M.getPattern(y,this,(0,i.getCurrentTransformInverse)(y),l.PathType.FILL),L=!0);let I=this.current.getClippedPathBoundingBox();this.contentVisible&&I!==null&&(this.pendingEOFill?(y.fill("evenodd"),this.pendingEOFill=!1):y.fill()),L&&y.restore(),E&&this.consumePath(I)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ie}eoClip(){this.pendingClip=J}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let E=this.pendingTextPaths,y=this.ctx;if(E===void 0){y.beginPath();return}y.save(),y.beginPath();for(let M of E)y.setTransform(...M.transform),y.translate(M.x,M.y),M.addToPath(y,M.fontSize);y.restore(),y.clip(),y.beginPath(),delete this.pendingTextPaths}setCharSpacing(E){this.current.charSpacing=E}setWordSpacing(E){this.current.wordSpacing=E}setHScale(E){this.current.textHScale=E/100}setLeading(E){this.current.leading=-E}setFont(E,y){let M=this.commonObjs.get(E),O=this.current;if(!M)throw new Error(`Can't find font for ${E}`);if(O.fontMatrix=M.fontMatrix||n.FONT_IDENTITY_MATRIX,(O.fontMatrix[0]===0||O.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+E),y<0?(y=-y,O.fontDirection=-1):O.fontDirection=1,this.current.font=M,this.current.fontSize=y,M.isType3Font)return;let L=M.loadedName||"sans-serif",I=M.systemFontInfo?.css||`"${L}", ${M.fallbackName}`,D="normal";M.black?D="900":M.bold&&(D="bold");let g=M.italic?"italic":"normal",S=y;y<f?S=f:y>m&&(S=m),this.current.fontSizeScale=y/S,this.ctx.font=`${g} ${D} ${S}px ${I}`}setTextRenderingMode(E){this.current.textRenderingMode=E}setTextRise(E){this.current.textRise=E}moveText(E,y){this.current.x=this.current.lineX+=E,this.current.y=this.current.lineY+=y}setLeadingMoveText(E,y){this.setLeading(-y),this.moveText(E,y)}setTextMatrix(E,y,M,O,L,I){this.current.textMatrix=[E,y,M,O,L,I],this.current.textMatrixScale=Math.hypot(E,y),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(E,y,M,O){let L=this.ctx,I=this.current,D=I.font,g=I.textRenderingMode,S=I.fontSize/I.fontSizeScale,A=g&n.TextRenderingMode.FILL_STROKE_MASK,R=!!(g&n.TextRenderingMode.ADD_TO_PATH_FLAG),F=I.patternFill&&!D.missingFile,z;(D.disableFontFace||R||F)&&(z=D.getPathGenerator(this.commonObjs,E)),D.disableFontFace||F?(L.save(),L.translate(y,M),L.beginPath(),z(L,S),O&&L.setTransform(...O),(A===n.TextRenderingMode.FILL||A===n.TextRenderingMode.FILL_STROKE)&&L.fill(),(A===n.TextRenderingMode.STROKE||A===n.TextRenderingMode.FILL_STROKE)&&L.stroke(),L.restore()):((A===n.TextRenderingMode.FILL||A===n.TextRenderingMode.FILL_STROKE)&&L.fillText(E,y,M),(A===n.TextRenderingMode.STROKE||A===n.TextRenderingMode.FILL_STROKE)&&L.strokeText(E,y,M)),R&&(this.pendingTextPaths||=[]).push({transform:(0,i.getCurrentTransform)(L),x:y,y:M,fontSize:S,addToPath:z})}get isFontSubpixelAAEnabled(){let{context:E}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);E.scale(1.5,1),E.fillText("I",0,10);let y=E.getImageData(0,0,10,10).data,M=!1;for(let O=3;O<y.length;O+=4)if(y[O]>0&&y[O]<255){M=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",M)}showText(E){let y=this.current,M=y.font;if(M.isType3Font)return this.showType3Text(E);let O=y.fontSize;if(O===0)return;let L=this.ctx,I=y.fontSizeScale,D=y.charSpacing,g=y.wordSpacing,S=y.fontDirection,A=y.textHScale*S,R=E.length,F=M.vertical,z=F?1:-1,W=M.defaultVMetrics,G=O*y.fontMatrix[0],Z=y.textRenderingMode===n.TextRenderingMode.FILL&&!M.disableFontFace&&!y.patternFill;L.save(),L.transform(...y.textMatrix),L.translate(y.x,y.y+y.textRise),S>0?L.scale(A,-1):L.scale(A,1);let X;if(y.patternFill){L.save();let de=y.fillColor.getPattern(L,this,(0,i.getCurrentTransformInverse)(L),l.PathType.FILL);X=(0,i.getCurrentTransform)(L),L.restore(),L.fillStyle=de}let Y=y.lineWidth,re=y.textMatrixScale;if(re===0||Y===0){let de=y.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(de===n.TextRenderingMode.STROKE||de===n.TextRenderingMode.FILL_STROKE)&&(Y=this.getSinglePixelWidth())}else Y/=re;if(I!==1&&(L.scale(I,I),Y/=I),L.lineWidth=Y,M.isInvalidPDFjsFont){let de=[],oe=0;for(let me of E)de.push(me.unicode),oe+=me.width;L.fillText(de.join(""),0,0),y.x+=oe*G*A,L.restore(),this.compose();return}let ne=0,ae;for(ae=0;ae<R;++ae){let de=E[ae];if(typeof de=="number"){ne+=z*de*O/1e3;continue}let oe=!1,me=(de.isSpace?g:0)+D,fe=de.fontChar,ve=de.accent,Ae,ke,Xe=de.width;if(F){let Qe=de.vmetric||W,dt=-(de.vmetric?Qe[1]:Xe*.5)*G,It=Qe[2]*G;Xe=Qe?-Qe[0]:Xe,Ae=dt/I,ke=(ne+It)/I}else Ae=ne/I,ke=0;if(M.remeasure&&Xe>0){let Qe=L.measureText(fe).width*1e3/O*I;if(Xe<Qe&&this.isFontSubpixelAAEnabled){let dt=Xe/Qe;oe=!0,L.save(),L.scale(dt,1),Ae/=dt}else Xe!==Qe&&(Ae+=(Xe-Qe)/2e3*O/I)}if(this.contentVisible&&(de.isInFont||M.missingFile)){if(Z&&!ve)L.fillText(fe,Ae,ke);else if(this.paintChar(fe,Ae,ke,X),ve){let Qe=Ae+O*ve.offset.x/I,dt=ke-O*ve.offset.y/I;this.paintChar(ve.fontChar,Qe,dt,X)}}let yt=F?Xe*G-me*S:Xe*G+me*S;ne+=yt,oe&&L.restore()}F?y.y-=ne:y.x+=ne*A,L.restore(),this.compose()}showType3Text(E){let y=this.ctx,M=this.current,O=M.font,L=M.fontSize,I=M.fontDirection,D=O.vertical?1:-1,g=M.charSpacing,S=M.wordSpacing,A=M.textHScale*I,R=M.fontMatrix||n.FONT_IDENTITY_MATRIX,F=E.length,z=M.textRenderingMode===n.TextRenderingMode.INVISIBLE,W,G,Z,X;if(!(z||L===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,y.save(),y.transform(...M.textMatrix),y.translate(M.x,M.y),y.scale(A,I),W=0;W<F;++W){if(G=E[W],typeof G=="number"){X=D*G*L/1e3,this.ctx.translate(X,0),M.x+=X*A;continue}let Y=(G.isSpace?S:0)+g,re=O.charProcOperatorList[G.operatorListId];if(!re){(0,n.warn)(`Type3 character "${G.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=G,this.save(),y.scale(L,L),y.transform(...R),this.executeOperatorList(re),this.restore()),Z=n.Util.applyTransform([G.width,0],R)[0]*L+Y,y.translate(Z,0),M.x+=Z*A}y.restore(),this.processingType3=null}}setCharWidth(E,y){}setCharWidthAndBounds(E,y,M,O,L,I){this.ctx.rect(M,O,L-M,I-O),this.ctx.clip(),this.endPath()}getColorN_Pattern(E){let y;if(E[0]==="TilingPattern"){let M=E[1],O=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),L={createCanvasGraphics:I=>new j(I,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};y=new l.TilingPattern(E,M,this.ctx,L,O)}else y=this._getPattern(E[1],E[2]);return y}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(E,y,M){let O=n.Util.makeHexColor(E,y,M);this.ctx.strokeStyle=O,this.current.strokeColor=O}setFillRGBColor(E,y,M){let O=n.Util.makeHexColor(E,y,M);this.ctx.fillStyle=O,this.current.fillColor=O,this.current.patternFill=!1}_getPattern(E,y=null){let M;return this.cachedPatterns.has(E)?M=this.cachedPatterns.get(E):(M=(0,l.getShadingPattern)(this.getObject(E)),this.cachedPatterns.set(E,M)),y&&(M.matrix=y),M}shadingFill(E){if(!this.contentVisible)return;let y=this.ctx;this.save();let M=this._getPattern(E);y.fillStyle=M.getPattern(y,this,(0,i.getCurrentTransformInverse)(y),l.PathType.SHADING);let O=(0,i.getCurrentTransformInverse)(y);if(O){let{width:L,height:I}=y.canvas,[D,g,S,A]=n.Util.getAxialAlignedBoundingBox([0,0,L,I],O);this.ctx.fillRect(D,g,S-D,A-g)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(E,y){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(E)&&E.length===6&&this.transform(...E),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),y)){let M=y[2]-y[0],O=y[3]-y[1];this.ctx.rect(y[0],y[1],M,O),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),y),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(E){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let y=this.ctx;E.isolated||(0,n.info)("TODO: Support non-isolated groups."),E.knockout&&(0,n.warn)("Knockout groups not supported.");let M=(0,i.getCurrentTransform)(y);if(E.matrix&&y.transform(...E.matrix),!E.bbox)throw new Error("Bounding box is required.");let O=n.Util.getAxialAlignedBoundingBox(E.bbox,(0,i.getCurrentTransform)(y)),L=[0,0,y.canvas.width,y.canvas.height];O=n.Util.intersect(O,L)||[0,0,0,0];let I=Math.floor(O[0]),D=Math.floor(O[1]),g=Math.max(Math.ceil(O[2])-I,1),S=Math.max(Math.ceil(O[3])-D,1),A=1,R=1;g>o&&(A=g/o,g=o),S>o&&(R=S/o,S=o),this.current.startNewPathAndClipBox([0,0,g,S]);let F="groupAt"+this.groupLevel;E.smask&&(F+="_smask_"+this.smaskCounter++%2);let z=this.cachedCanvases.getCanvas(F,g,S),W=z.context;W.scale(1/A,1/R),W.translate(-I,-D),W.transform(...M),E.smask?this.smaskStack.push({canvas:z.canvas,context:W,offsetX:I,offsetY:D,scaleX:A,scaleY:R,subtype:E.smask.subtype,backdrop:E.smask.backdrop,transferMap:E.smask.transferMap||null,startTransformInverse:null}):(y.setTransform(1,0,0,1,0,0),y.translate(I,D),y.scale(A,R),y.save()),_(y,W),this.ctx=W,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(y),this.groupLevel++}endGroup(E){if(!this.contentVisible)return;this.groupLevel--;let y=this.ctx,M=this.groupStack.pop();if(this.ctx=M,this.ctx.imageSmoothingEnabled=!1,E.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let O=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...O);let L=n.Util.getAxialAlignedBoundingBox([0,0,y.canvas.width,y.canvas.height],O);this.ctx.drawImage(y.canvas,0,0),this.ctx.restore(),this.compose(L)}}beginAnnotation(E,y,M,O,L){if(this.#e(),P(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(y)&&y.length===4){let I=y[2]-y[0],D=y[3]-y[1];if(L&&this.annotationCanvasMap){M=M.slice(),M[4]-=y[0],M[5]-=y[1],y=y.slice(),y[0]=y[1]=0,y[2]=I,y[3]=D;let[g,S]=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:A}=this,R=Math.ceil(I*this.outputScaleX*A),F=Math.ceil(D*this.outputScaleY*A);this.annotationCanvas=this.canvasFactory.create(R,F);let{canvas:z,context:W}=this.annotationCanvas;this.annotationCanvasMap.set(E,z),this.annotationCanvas.savedCtx=this.ctx,this.ctx=W,this.ctx.save(),this.ctx.setTransform(g,0,0,-S,0,D*S),P(this.ctx)}else P(this.ctx),this.ctx.rect(y[0],y[1],I,D),this.ctx.clip(),this.endPath()}this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...M),this.transform(...O)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(E){if(!this.contentVisible)return;let y=E.count;E=this.getObject(E.data,E),E.count=y;let M=this.ctx,O=this.processingType3;if(O&&(O.compiled===void 0&&(O.compiled=v(E)),O.compiled)){O.compiled(M);return}let L=this._createMaskCanvas(E),I=L.canvas;M.save(),M.setTransform(1,0,0,1,0,0),M.drawImage(I,L.offsetX,L.offsetY),M.restore(),this.compose()}paintImageMaskXObjectRepeat(E,y,M=0,O=0,L,I){if(!this.contentVisible)return;E=this.getObject(E.data,E);let D=this.ctx;D.save();let g=(0,i.getCurrentTransform)(D);D.transform(y,M,O,L,0,0);let S=this._createMaskCanvas(E);D.setTransform(1,0,0,1,S.offsetX-g[4],S.offsetY-g[5]);for(let A=0,R=I.length;A<R;A+=2){let F=n.Util.transform(g,[y,M,O,L,I[A],I[A+1]]),[z,W]=n.Util.applyTransform([0,0],F);D.drawImage(S.canvas,z,W)}D.restore(),this.compose()}paintImageMaskXObjectGroup(E){if(!this.contentVisible)return;let y=this.ctx,M=this.current.fillColor,O=this.current.patternFill;for(let L of E){let{data:I,width:D,height:g,transform:S}=L,A=this.cachedCanvases.getCanvas("maskCanvas",D,g),R=A.context;R.save();let F=this.getObject(I,L);T(R,F),R.globalCompositeOperation="source-in",R.fillStyle=O?M.getPattern(R,this,(0,i.getCurrentTransformInverse)(y),l.PathType.FILL):M,R.fillRect(0,0,D,g),R.restore(),y.save(),y.transform(...S),y.scale(1,-1),b(y,A.canvas,0,0,D,g,0,-1,1,1),y.restore()}this.compose()}paintImageXObject(E){if(!this.contentVisible)return;let y=this.getObject(E);if(!y){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(y)}paintImageXObjectRepeat(E,y,M,O){if(!this.contentVisible)return;let L=this.getObject(E);if(!L){(0,n.warn)("Dependent image isn't ready yet");return}let I=L.width,D=L.height,g=[];for(let S=0,A=O.length;S<A;S+=2)g.push({transform:[y,0,0,M,O[S],O[S+1]],x:0,y:0,w:I,h:D});this.paintInlineImageXObjectGroup(L,g)}applyTransferMapsToCanvas(E){return this.current.transferMaps!=="none"&&(E.filter=this.current.transferMaps,E.drawImage(E.canvas,0,0),E.filter="none"),E.canvas}applyTransferMapsToBitmap(E){if(this.current.transferMaps==="none")return E.bitmap;let{bitmap:y,width:M,height:O}=E,L=this.cachedCanvases.getCanvas("inlineImage",M,O),I=L.context;return I.filter=this.current.transferMaps,I.drawImage(y,0,0),I.filter="none",L.canvas}paintInlineImageXObject(E){if(!this.contentVisible)return;let y=E.width,M=E.height,O=this.ctx;if(this.save(),!n.isNodeJS){let{filter:D}=O;D!=="none"&&D!==""&&(O.filter="none")}O.scale(1/y,-1/M);let L;if(E.bitmap)L=this.applyTransferMapsToBitmap(E);else if(typeof HTMLElement=="function"&&E instanceof HTMLElement||!E.data)L=E;else{let g=this.cachedCanvases.getCanvas("inlineImage",y,M).context;x(g,E),L=this.applyTransferMapsToCanvas(g)}let I=this._scaleImage(L,(0,i.getCurrentTransformInverse)(O));O.imageSmoothingEnabled=Q((0,i.getCurrentTransform)(O),E.interpolate),b(O,I.img,0,0,I.paintWidth,I.paintHeight,0,-M,y,M),this.compose(),this.restore()}paintInlineImageXObjectGroup(E,y){if(!this.contentVisible)return;let M=this.ctx,O;if(E.bitmap)O=E.bitmap;else{let L=E.width,I=E.height,g=this.cachedCanvases.getCanvas("inlineImage",L,I).context;x(g,E),O=this.applyTransferMapsToCanvas(g)}for(let L of y)M.save(),M.transform(...L.transform),M.scale(1,-1),b(M,O,L.x,L.y,L.w,L.h,0,-1,1,1),M.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(E){}markPointProps(E,y){}beginMarkedContent(E){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(E,y){E==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(y)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(E){let y=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(E);let M=this.ctx;this.pendingClip&&(y||(this.pendingClip===J?M.clip("evenodd"):M.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),M.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let E=(0,i.getCurrentTransform)(this.ctx);if(E[1]===0&&E[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(E[0]),Math.abs(E[3]));else{let y=Math.abs(E[0]*E[3]-E[2]*E[1]),M=Math.hypot(E[0],E[2]),O=Math.hypot(E[1],E[3]);this._cachedGetSinglePixelWidth=Math.max(M,O)/y}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:E}=this.current,{a:y,b:M,c:O,d:L}=this.ctx.getTransform(),I,D;if(M===0&&O===0){let g=Math.abs(y),S=Math.abs(L);if(g===S)if(E===0)I=D=1/g;else{let A=g*E;I=D=A<1?1/A:1}else if(E===0)I=1/g,D=1/S;else{let A=g*E,R=S*E;I=A<1?1/A:1,D=R<1?1/R:1}}else{let g=Math.abs(y*L-M*O),S=Math.hypot(y,M),A=Math.hypot(O,L);if(E===0)I=A/g,D=S/g;else{let R=E*g;I=A>R?A/R:1,D=S>R?S/R:1}}this._cachedScaleForStroking[0]=I,this._cachedScaleForStroking[1]=D}return this._cachedScaleForStroking}rescaleAndStroke(E){let{ctx:y}=this,{lineWidth:M}=this.current,[O,L]=this.getScaleForStroking();if(y.lineWidth=M||1,O===1&&L===1){y.stroke();return}let I=y.getLineDash();if(E&&y.save(),y.scale(O,L),I.length>0){let D=Math.max(O,L);y.setLineDash(I.map(g=>g/D)),y.lineDashOffset/=D}y.stroke(),E&&y.restore()}isContentVisible(){for(let E=this.markedContentStack.length-1;E>=0;E--)if(!this.markedContentStack[E].visible)return!1;return!0}}e.CanvasGraphics=j;for(let k in n.OPS)j.prototype[k]!==void 0&&(j.prototype[n.OPS[k]]=j.prototype[k])},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=u;var n=r(1),i=r(6);let l={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=l;function d(b,v){if(!v)return;let w=v[2]-v[0],x=v[3]-v[1],T=new Path2D;T.rect(v[0],v[1],w,x),b.clip(T)}class f{constructor(){this.constructor===f&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class m extends f{constructor(v){super(),this._type=v[1],this._bbox=v[2],this._colorStops=v[3],this._p0=v[4],this._p1=v[5],this._r0=v[6],this._r1=v[7],this.matrix=null}_createGradient(v){let w;this._type==="axial"?w=v.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(w=v.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let x of this._colorStops)w.addColorStop(x[0],x[1]);return w}getPattern(v,w,x,T){let _;if(T===l.STROKE||T===l.FILL){let P=w.current.getClippedPathBoundingBox(T,(0,i.getCurrentTransform)(v))||[0,0,0,0],B=Math.ceil(P[2]-P[0])||1,V=Math.ceil(P[3]-P[1])||1,N=w.cachedCanvases.getCanvas("pattern",B,V,!0),q=N.context;q.clearRect(0,0,q.canvas.width,q.canvas.height),q.beginPath(),q.rect(0,0,q.canvas.width,q.canvas.height),q.translate(-P[0],-P[1]),x=n.Util.transform(x,[1,0,0,1,P[0],P[1]]),q.transform(...w.baseTransform),this.matrix&&q.transform(...this.matrix),d(q,this._bbox),q.fillStyle=this._createGradient(q),q.fill(),_=v.createPattern(N.canvas,"no-repeat");let U=new DOMMatrix(x);_.setTransform(U)}else d(v,this._bbox),_=this._createGradient(v);return _}}function o(b,v,w,x,T,_,P,B){let V=v.coords,N=v.colors,q=b.data,U=b.width*4,Q;V[w+1]>V[x+1]&&(Q=w,w=x,x=Q,Q=_,_=P,P=Q),V[x+1]>V[T+1]&&(Q=x,x=T,T=Q,Q=P,P=B,B=Q),V[w+1]>V[x+1]&&(Q=w,w=x,x=Q,Q=_,_=P,P=Q);let ee=(V[w]+v.offsetX)*v.scaleX,$=(V[w+1]+v.offsetY)*v.scaleY,ie=(V[x]+v.offsetX)*v.scaleX,J=(V[x+1]+v.offsetY)*v.scaleY,j=(V[T]+v.offsetX)*v.scaleX,k=(V[T+1]+v.offsetY)*v.scaleY;if($>=k)return;let E=N[_],y=N[_+1],M=N[_+2],O=N[P],L=N[P+1],I=N[P+2],D=N[B],g=N[B+1],S=N[B+2],A=Math.round($),R=Math.round(k),F,z,W,G,Z,X,Y,re;for(let ne=A;ne<=R;ne++){if(ne<J){let fe=ne<$?0:($-ne)/($-J);F=ee-(ee-ie)*fe,z=E-(E-O)*fe,W=y-(y-L)*fe,G=M-(M-I)*fe}else{let fe;ne>k?fe=1:J===k?fe=0:fe=(J-ne)/(J-k),F=ie-(ie-j)*fe,z=O-(O-D)*fe,W=L-(L-g)*fe,G=I-(I-S)*fe}let ae;ne<$?ae=0:ne>k?ae=1:ae=($-ne)/($-k),Z=ee-(ee-j)*ae,X=E-(E-D)*ae,Y=y-(y-g)*ae,re=M-(M-S)*ae;let de=Math.round(Math.min(F,Z)),oe=Math.round(Math.max(F,Z)),me=U*ne+de*4;for(let fe=de;fe<=oe;fe++)ae=(F-fe)/(F-Z),ae<0?ae=0:ae>1&&(ae=1),q[me++]=z-(z-X)*ae|0,q[me++]=W-(W-Y)*ae|0,q[me++]=G-(G-re)*ae|0,q[me++]=255}}function a(b,v,w){let x=v.coords,T=v.colors,_,P;switch(v.type){case"lattice":let B=v.verticesPerRow,V=Math.floor(x.length/B)-1,N=B-1;for(_=0;_<V;_++){let q=_*B;for(let U=0;U<N;U++,q++)o(b,w,x[q],x[q+1],x[q+B],T[q],T[q+1],T[q+B]),o(b,w,x[q+B+1],x[q+1],x[q+B],T[q+B+1],T[q+1],T[q+B])}break;case"triangles":for(_=0,P=x.length;_<P;_+=3)o(b,w,x[_],x[_+1],x[_+2],T[_],T[_+1],T[_+2]);break;default:throw new Error("illegal figure")}}class s extends f{constructor(v){super(),this._coords=v[2],this._colors=v[3],this._figures=v[4],this._bounds=v[5],this._bbox=v[7],this._background=v[8],this.matrix=null}_createMeshCanvas(v,w,x){let B=Math.floor(this._bounds[0]),V=Math.floor(this._bounds[1]),N=Math.ceil(this._bounds[2])-B,q=Math.ceil(this._bounds[3])-V,U=Math.min(Math.ceil(Math.abs(N*v[0]*1.1)),3e3),Q=Math.min(Math.ceil(Math.abs(q*v[1]*1.1)),3e3),ee=N/U,$=q/Q,ie={coords:this._coords,colors:this._colors,offsetX:-B,offsetY:-V,scaleX:1/ee,scaleY:1/$},J=U+2*2,j=Q+2*2,k=x.getCanvas("mesh",J,j,!1),E=k.context,y=E.createImageData(U,Q);if(w){let O=y.data;for(let L=0,I=O.length;L<I;L+=4)O[L]=w[0],O[L+1]=w[1],O[L+2]=w[2],O[L+3]=255}for(let O of this._figures)a(y,O,ie);return E.putImageData(y,2,2),{canvas:k.canvas,offsetX:B-2*ee,offsetY:V-2*$,scaleX:ee,scaleY:$}}getPattern(v,w,x,T){d(v,this._bbox);let _;if(T===l.SHADING)_=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(v));else if(_=n.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){let B=n.Util.singularValueDecompose2dScale(this.matrix);_=[_[0]*B[0],_[1]*B[1]]}let P=this._createMeshCanvas(_,T===l.SHADING?null:this._background,w.cachedCanvases);return T!==l.SHADING&&(v.setTransform(...w.baseTransform),this.matrix&&v.transform(...this.matrix)),v.translate(P.offsetX,P.offsetY),v.scale(P.scaleX,P.scaleY),v.createPattern(P.canvas,"no-repeat")}}class h extends f{getPattern(){return"hotpink"}}function u(b){switch(b[0]){case"RadialAxial":return new m(b);case"Mesh":return new s(b);case"Dummy":return new h}throw new Error(`Unknown IR type: ${b[0]}`)}let c={COLORED:1,UNCOLORED:2};class p{static MAX_PATTERN_SIZE=3e3;constructor(v,w,x,T,_){this.operatorList=v[2],this.matrix=v[3]||[1,0,0,1,0,0],this.bbox=v[4],this.xstep=v[5],this.ystep=v[6],this.paintType=v[7],this.tilingType=v[8],this.color=w,this.ctx=x,this.canvasGraphicsFactory=T,this.baseTransform=_}createPatternCanvas(v){let w=this.operatorList,x=this.bbox,T=this.xstep,_=this.ystep,P=this.paintType,B=this.tilingType,V=this.color,N=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+B);let q=x[0],U=x[1],Q=x[2],ee=x[3],$=n.Util.singularValueDecompose2dScale(this.matrix),ie=n.Util.singularValueDecompose2dScale(this.baseTransform),J=[$[0]*ie[0],$[1]*ie[1]],j=this.getSizeAndScale(T,this.ctx.canvas.width,J[0]),k=this.getSizeAndScale(_,this.ctx.canvas.height,J[1]),E=v.cachedCanvases.getCanvas("pattern",j.size,k.size,!0),y=E.context,M=N.createCanvasGraphics(y);M.groupLevel=v.groupLevel,this.setFillAndStrokeStyleToContext(M,P,V);let O=q,L=U,I=Q,D=ee;return q<0&&(O=0,I+=Math.abs(q)),U<0&&(L=0,D+=Math.abs(U)),y.translate(-(j.scale*O),-(k.scale*L)),M.transform(j.scale,0,0,k.scale,0,0),y.save(),this.clipBbox(M,O,L,I,D),M.baseTransform=(0,i.getCurrentTransform)(M.ctx),M.executeOperatorList(w),M.endDrawing(),{canvas:E.canvas,scaleX:j.scale,scaleY:k.scale,offsetX:O,offsetY:L}}getSizeAndScale(v,w,x){v=Math.abs(v);let T=Math.max(p.MAX_PATTERN_SIZE,w),_=Math.ceil(v*x);return _>=T?_=T:x=_/v,{scale:x,size:_}}clipBbox(v,w,x,T,_){let P=T-w,B=_-x;v.ctx.rect(w,x,P,B),v.current.updateRectMinMax((0,i.getCurrentTransform)(v.ctx),[w,x,T,_]),v.clip(),v.endPath()}setFillAndStrokeStyleToContext(v,w,x){let T=v.ctx,_=v.current;switch(w){case c.COLORED:let P=this.ctx;T.fillStyle=P.fillStyle,T.strokeStyle=P.strokeStyle,_.fillColor=P.fillStyle,_.strokeColor=P.strokeStyle;break;case c.UNCOLORED:let B=n.Util.makeHexColor(x[0],x[1],x[2]);T.fillStyle=B,T.strokeStyle=B,_.fillColor=B,_.strokeColor=B;break;default:throw new n.FormatError(`Unsupported paint type: ${w}`)}}getPattern(v,w,x,T){let _=x;T!==l.SHADING&&(_=n.Util.transform(_,w.baseTransform),this.matrix&&(_=n.Util.transform(_,this.matrix)));let P=this.createPatternCanvas(w),B=new DOMMatrix(_);B=B.translate(P.offsetX,P.offsetY),B=B.scale(1/P.scaleX,1/P.scaleY);let V=v.createPattern(P.canvas,"repeat");return V.setTransform(B),V}}e.TilingPattern=p},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=l,e.convertToRGBA=i,e.grayToRGBA=f;var n=r(1);function i(m){switch(m.kind){case n.ImageKind.GRAYSCALE_1BPP:return l(m);case n.ImageKind.RGB_24BPP:return d(m)}return null}function l({src:m,srcPos:o=0,dest:a,width:s,height:h,nonBlackColor:u=4294967295,inverseDecode:c=!1}){let p=n.FeatureTest.isLittleEndian?4278190080:255,[b,v]=c?[u,p]:[p,u],w=s>>3,x=s&7,T=m.length;a=new Uint32Array(a.buffer);let _=0;for(let P=0;P<h;P++){for(let V=o+w;o<V;o++){let N=o<T?m[o]:255;a[_++]=N&128?v:b,a[_++]=N&64?v:b,a[_++]=N&32?v:b,a[_++]=N&16?v:b,a[_++]=N&8?v:b,a[_++]=N&4?v:b,a[_++]=N&2?v:b,a[_++]=N&1?v:b}if(x===0)continue;let B=o<T?m[o++]:255;for(let V=0;V<x;V++)a[_++]=B&1<<7-V?v:b}return{srcPos:o,destPos:_}}function d({src:m,srcPos:o=0,dest:a,destPos:s=0,width:h,height:u}){let c=0,p=m.length>>2,b=new Uint32Array(m.buffer,o,p);if(n.FeatureTest.isLittleEndian){for(;c<p-2;c+=3,s+=4){let v=b[c],w=b[c+1],x=b[c+2];a[s]=v|4278190080,a[s+1]=v>>>24|w<<8|4278190080,a[s+2]=w>>>16|x<<16|4278190080,a[s+3]=x>>>8|4278190080}for(let v=c*4,w=m.length;v<w;v+=3)a[s++]=m[v]|m[v+1]<<8|m[v+2]<<16|4278190080}else{for(;c<p-2;c+=3,s+=4){let v=b[c],w=b[c+1],x=b[c+2];a[s]=v|255,a[s+1]=v<<24|w>>>8|255,a[s+2]=w<<16|x>>>16|255,a[s+3]=x<<8|255}for(let v=c*4,w=m.length;v<w;v+=3)a[s++]=m[v]<<24|m[v+1]<<16|m[v+2]<<8|255}return{srcPos:o,destPos:s}}function f(m,o){if(n.FeatureTest.isLittleEndian)for(let a=0,s=m.length;a<s;a++)o[a]=m[a]*65793|4278190080;else for(let a=0,s=m.length;a<s;a++)o[a]=m[a]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let r=Object.create(null);e.GlobalWorkerOptions=r,r.workerPort=null,r.workerSrc=""},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=r(1);let i={UNKNOWN:0,DATA:1,ERROR:2},l={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(m){switch(m instanceof Error||typeof m=="object"&&m!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),m.name){case"AbortException":return new n.AbortException(m.message);case"MissingPDFException":return new n.MissingPDFException(m.message);case"PasswordException":return new n.PasswordException(m.message,m.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(m.message,m.status);case"UnknownErrorException":return new n.UnknownErrorException(m.message,m.details);default:return new n.UnknownErrorException(m.message,m.toString())}}class f{constructor(o,a,s){this.sourceName=o,this.targetName=a,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=h=>{let u=h.data;if(u.targetName!==this.sourceName)return;if(u.stream){this.#t(u);return}if(u.callback){let p=u.callbackId,b=this.callbackCapabilities[p];if(!b)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],u.callback===i.DATA)b.resolve(u.data);else if(u.callback===i.ERROR)b.reject(d(u.reason));else throw new Error("Unexpected callback case");return}let c=this.actionHandler[u.action];if(!c)throw new Error(`Unknown action from worker: ${u.action}`);if(u.callbackId){let p=this.sourceName,b=u.sourceName;new Promise(function(v){v(c(u.data))}).then(function(v){s.postMessage({sourceName:p,targetName:b,callback:i.DATA,callbackId:u.callbackId,data:v})},function(v){s.postMessage({sourceName:p,targetName:b,callback:i.ERROR,callbackId:u.callbackId,reason:d(v)})});return}if(u.streamId){this.#e(u);return}c(u.data)},s.addEventListener("message",this._onComObjOnMessage)}on(o,a){let s=this.actionHandler;if(s[o])throw new Error(`There is already an actionName called "${o}"`);s[o]=a}send(o,a,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:o,data:a},s)}sendWithPromise(o,a,s){let h=this.callbackId++,u=new n.PromiseCapability;this.callbackCapabilities[h]=u;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:o,callbackId:h,data:a},s)}catch(c){u.reject(c)}return u.promise}sendWithStream(o,a,s,h){let u=this.streamId++,c=this.sourceName,p=this.targetName,b=this.comObj;return new ReadableStream({start:v=>{let w=new n.PromiseCapability;return this.streamControllers[u]={controller:v,startCall:w,pullCall:null,cancelCall:null,isClosed:!1},b.postMessage({sourceName:c,targetName:p,action:o,streamId:u,data:a,desiredSize:v.desiredSize},h),w.promise},pull:v=>{let w=new n.PromiseCapability;return this.streamControllers[u].pullCall=w,b.postMessage({sourceName:c,targetName:p,stream:l.PULL,streamId:u,desiredSize:v.desiredSize}),w.promise},cancel:v=>{(0,n.assert)(v instanceof Error,"cancel must have a valid reason");let w=new n.PromiseCapability;return this.streamControllers[u].cancelCall=w,this.streamControllers[u].isClosed=!0,b.postMessage({sourceName:c,targetName:p,stream:l.CANCEL,streamId:u,reason:d(v)}),w.promise}},s)}#e(o){let a=o.streamId,s=this.sourceName,h=o.sourceName,u=this.comObj,c=this,p=this.actionHandler[o.action],b={enqueue(v,w=1,x){if(this.isCancelled)return;let T=this.desiredSize;this.desiredSize-=w,T>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),u.postMessage({sourceName:s,targetName:h,stream:l.ENQUEUE,streamId:a,chunk:v},x)},close(){this.isCancelled||(this.isCancelled=!0,u.postMessage({sourceName:s,targetName:h,stream:l.CLOSE,streamId:a}),delete c.streamSinks[a])},error(v){(0,n.assert)(v instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,u.postMessage({sourceName:s,targetName:h,stream:l.ERROR,streamId:a,reason:d(v)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:o.desiredSize,ready:null};b.sinkCapability.resolve(),b.ready=b.sinkCapability.promise,this.streamSinks[a]=b,new Promise(function(v){v(p(o.data,b))}).then(function(){u.postMessage({sourceName:s,targetName:h,stream:l.START_COMPLETE,streamId:a,success:!0})},function(v){u.postMessage({sourceName:s,targetName:h,stream:l.START_COMPLETE,streamId:a,reason:d(v)})})}#t(o){let a=o.streamId,s=this.sourceName,h=o.sourceName,u=this.comObj,c=this.streamControllers[a],p=this.streamSinks[a];switch(o.stream){case l.START_COMPLETE:o.success?c.startCall.resolve():c.startCall.reject(d(o.reason));break;case l.PULL_COMPLETE:o.success?c.pullCall.resolve():c.pullCall.reject(d(o.reason));break;case l.PULL:if(!p){u.postMessage({sourceName:s,targetName:h,stream:l.PULL_COMPLETE,streamId:a,success:!0});break}p.desiredSize<=0&&o.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=o.desiredSize,new Promise(function(b){b(p.onPull?.())}).then(function(){u.postMessage({sourceName:s,targetName:h,stream:l.PULL_COMPLETE,streamId:a,success:!0})},function(b){u.postMessage({sourceName:s,targetName:h,stream:l.PULL_COMPLETE,streamId:a,reason:d(b)})});break;case l.ENQUEUE:if((0,n.assert)(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(o.chunk);break;case l.CLOSE:if((0,n.assert)(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#n(c,a);break;case l.ERROR:(0,n.assert)(c,"error should have stream controller"),c.controller.error(d(o.reason)),this.#n(c,a);break;case l.CANCEL_COMPLETE:o.success?c.cancelCall.resolve():c.cancelCall.reject(d(o.reason)),this.#n(c,a);break;case l.CANCEL:if(!p)break;new Promise(function(b){b(p.onCancel?.(d(o.reason)))}).then(function(){u.postMessage({sourceName:s,targetName:h,stream:l.CANCEL_COMPLETE,streamId:a,success:!0})},function(b){u.postMessage({sourceName:s,targetName:h,stream:l.CANCEL_COMPLETE,streamId:a,reason:d(b)})}),p.sinkCapability.reject(d(o.reason)),p.isCancelled=!0,delete this.streamSinks[a];break;default:throw new Error("Unexpected stream case")}}async#n(o,a){await Promise.allSettled([o.startCall?.promise,o.pullCall?.promise,o.cancelCall?.promise]),delete this.streamControllers[a]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=f},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=r(1);class i{#e;#t;constructor({parsedData:d,rawData:f}){this.#e=d,this.#t=f}getRaw(){return this.#t}get(d){return this.#e.get(d)??null}getAll(){return(0,n.objectFromMap)(this.#e)}has(d){return this.#e.has(d)}}e.Metadata=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=r(1),i=r(8);let l=Symbol("INTERNAL");class d{#e=!0;constructor(o,a){this.name=o,this.intent=a}get visible(){return this.#e}_setVisible(o,a){o!==l&&(0,n.unreachable)("Internal method `_setVisible` called."),this.#e=a}}class f{#e=null;#t=new Map;#n=null;#r=null;constructor(o){if(this.name=null,this.creator=null,o!==null){this.name=o.name,this.creator=o.creator,this.#r=o.order;for(let a of o.groups)this.#t.set(a.id,new d(a.name,a.intent));if(o.baseState==="OFF")for(let a of this.#t.values())a._setVisible(l,!1);for(let a of o.on)this.#t.get(a)._setVisible(l,!0);for(let a of o.off)this.#t.get(a)._setVisible(l,!1);this.#n=this.getHash()}}#s(o){let a=o.length;if(a<2)return!0;let s=o[0];for(let h=1;h<a;h++){let u=o[h],c;if(Array.isArray(u))c=this.#s(u);else if(this.#t.has(u))c=this.#t.get(u).visible;else return(0,n.warn)(`Optional content group not found: ${u}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"}isVisible(o){if(this.#t.size===0)return!0;if(!o)return(0,n.warn)("Optional content group not defined."),!0;if(o.type==="OCG")return this.#t.has(o.id)?this.#t.get(o.id).visible:((0,n.warn)(`Optional content group not found: ${o.id}`),!0);if(o.type==="OCMD"){if(o.expression)return this.#s(o.expression);if(!o.policy||o.policy==="AnyOn"){for(let a of o.ids){if(!this.#t.has(a))return(0,n.warn)(`Optional content group not found: ${a}`),!0;if(this.#t.get(a).visible)return!0}return!1}else if(o.policy==="AllOn"){for(let a of o.ids){if(!this.#t.has(a))return(0,n.warn)(`Optional content group not found: ${a}`),!0;if(!this.#t.get(a).visible)return!1}return!0}else if(o.policy==="AnyOff"){for(let a of o.ids){if(!this.#t.has(a))return(0,n.warn)(`Optional content group not found: ${a}`),!0;if(!this.#t.get(a).visible)return!0}return!1}else if(o.policy==="AllOff"){for(let a of o.ids){if(!this.#t.has(a))return(0,n.warn)(`Optional content group not found: ${a}`),!0;if(this.#t.get(a).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${o.policy}.`),!0}return(0,n.warn)(`Unknown group type ${o.type}.`),!0}setVisibility(o,a=!0){if(!this.#t.has(o)){(0,n.warn)(`Optional content group not found: ${o}`);return}this.#t.get(o)._setVisible(l,!!a),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,n.objectFromMap)(this.#t):null}getGroup(o){return this.#t.get(o)||null}getHash(){if(this.#e!==null)return this.#e;let o=new i.MurmurHash3_64;for(let[a,s]of this.#t)o.update(`${a}:${s.visible}`);return this.#e=o.hexdigest()}}e.OptionalContentConfig=f},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=r(1),i=r(6);class l{constructor({length:o,initialData:a,progressiveDone:s=!1,contentDispositionFilename:h=null,disableRange:u=!1,disableStream:c=!1},p){if((0,n.assert)(p,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=h,a?.length>0){let b=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(b)}this._pdfDataRangeTransport=p,this._isStreamingSupported=!c,this._isRangeSupported=!u,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((b,v)=>{this._onReceiveData({begin:b,chunk:v})}),this._pdfDataRangeTransport.addProgressListener((b,v)=>{this._onProgress({loaded:b,total:v})}),this._pdfDataRangeTransport.addProgressiveReadListener(b=>{this._onReceiveData({chunk:b})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:o,chunk:a}){let s=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;if(o===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{let h=this._rangeReaders.some(function(u){return u._begin!==o?!1:(u._enqueue(s),!0)});(0,n.assert)(h,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(o){o.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:o.loaded}):this._fullRequestReader?.onProgress?.({loaded:o.loaded,total:o.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(o){let a=this._rangeReaders.indexOf(o);a>=0&&this._rangeReaders.splice(a,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let o=this._queuedChunks;return this._queuedChunks=null,new d(this,o,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(o,a){if(a<=this._progressiveDataLength)return null;let s=new f(this,o,a);return this._pdfDataRangeTransport.requestDataRange(o,a),this._rangeReaders.push(s),s}cancelAllRequests(o){this._fullRequestReader?.cancel(o);for(let a of this._rangeReaders.slice(0))a.cancel(o);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=l;class d{constructor(o,a,s=!1,h=null){this._stream=o,this._done=s||!1,this._filename=(0,i.isPdfFile)(h)?h:null,this._queuedChunks=a||[],this._loaded=0;for(let u of this._queuedChunks)this._loaded+=u.byteLength;this._requests=[],this._headersReady=Promise.resolve(),o._fullRequestReader=this,this.onProgress=null}_enqueue(o){this._done||(this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunks.push(o),this._loaded+=o.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let o=new n.PromiseCapability;return this._requests.push(o),o.promise}cancel(o){this._done=!0;for(let a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class f{constructor(o,a,s){this._stream=o,this._begin=a,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(o){if(!this._done){if(this._requests.length===0)this._queuedChunk=o;else{this._requests.shift().resolve({value:o,done:!1});for(let s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};let o=new n.PromiseCapability;return this._requests.push(o),o.promise}cancel(o){this._done=!0;for(let a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=r(1),i=r(20);function l(s,h,u){return{method:"GET",headers:s,signal:u.signal,mode:"cors",credentials:h?"include":"same-origin",redirect:"follow"}}function d(s){let h=new Headers;for(let u in s){let c=s[u];c!==void 0&&h.append(u,c)}return h}function f(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:((0,n.warn)(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class m{constructor(h){this.source=h,this.isHttp=/^https?:/i.test(h.url),this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new o(this),this._fullRequestReader}getRangeReader(h,u){if(u<=this._progressiveDataLength)return null;let c=new a(this,h,u);return this._rangeRequestReaders.push(c),c}cancelAllRequests(h){this._fullRequestReader?.cancel(h);for(let u of this._rangeRequestReaders.slice(0))u.cancel(h)}}e.PDFFetchStream=m;class o{constructor(h){this._stream=h,this._reader=null,this._loaded=0,this._filename=null;let u=h.source;this._withCredentials=u.withCredentials||!1,this._contentLength=u.length,this._headersCapability=new n.PromiseCapability,this._disableRange=u.disableRange||!1,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._headers=d(this._stream.httpHeaders);let c=u.url;fetch(c,l(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,i.validateResponseStatus)(p.status))throw(0,i.createResponseStatusError)(p.status,c);this._reader=p.body.getReader(),this._headersCapability.resolve();let b=x=>p.headers.get(x),{allowRangeRequests:v,suggestedLength:w}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=v,this._contentLength=w||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(b),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:h,done:u}=await this._reader.read();return u?{value:h,done:u}:(this._loaded+=h.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:f(h),done:!1})}cancel(h){this._reader?.cancel(h),this._abortController.abort()}}class a{constructor(h,u,c){this._stream=h,this._reader=null,this._loaded=0;let p=h.source;this._withCredentials=p.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!p.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${u}-${c-1}`);let b=p.url;fetch(b,l(this._headers,this._withCredentials,this._abortController)).then(v=>{if(!(0,i.validateResponseStatus)(v.status))throw(0,i.createResponseStatusError)(v.status,b);this._readCapability.resolve(),this._reader=v.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:h,done:u}=await this._reader.read();return u?{value:h,done:u}:(this._loaded+=h.byteLength,this.onProgress?.({loaded:this._loaded}),{value:f(h),done:!1})}cancel(h){this._reader?.cancel(h),this._abortController.abort()}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=m,e.extractFilenameFromHeader=f,e.validateRangeRequestCapabilities=d,e.validateResponseStatus=o;var n=r(1),i=r(21),l=r(6);function d({getResponseHeader:a,isHttp:s,rangeChunkSize:h,disableRange:u}){let c={allowRangeRequests:!1,suggestedLength:void 0},p=parseInt(a("Content-Length"),10);return!Number.isInteger(p)||(c.suggestedLength=p,p<=2*h)||u||!s||a("Accept-Ranges")!=="bytes"||(a("Content-Encoding")||"identity")!=="identity"||(c.allowRangeRequests=!0),c}function f(a){let s=a("Content-Disposition");if(s){let h=(0,i.getFilenameFromContentDispositionHeader)(s);if(h.includes("%"))try{h=decodeURIComponent(h)}catch{}if((0,l.isPdfFile)(h))return h}return null}function m(a,s){return a===404||a===0&&s.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+s+'".'):new n.UnexpectedResponseException(`Unexpected server response (${a}) while retrieving PDF "${s}".`,a)}function o(a){return a===200||a===206}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var n=r(1);function i(l){let d=!0,f=m("filename\\*","i").exec(l);if(f){f=f[1];let p=h(f);return p=unescape(p),p=u(p),p=c(p),a(p)}if(f=s(l),f){let p=c(f);return a(p)}if(f=m("filename","i").exec(l),f){f=f[1];let p=h(f);return p=c(p),a(p)}function m(p,b){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function o(p,b){if(p){if(!/^[\x00-\xFF]+$/.test(b))return b;try{let v=new TextDecoder(p,{fatal:!0}),w=(0,n.stringToBytes)(b);b=v.decode(w),d=!1}catch{}}return b}function a(p){return d&&/[\x80-\xff]/.test(p)&&(p=o("utf-8",p),d&&(p=o("iso-8859-1",p))),p}function s(p){let b=[],v,w=m("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=w.exec(p))!==null;){let[,T,_,P]=v;if(T=parseInt(T,10),T in b){if(T===0)break;continue}b[T]=[_,P]}let x=[];for(let T=0;T<b.length&&T in b;++T){let[_,P]=b[T];P=h(P),_&&(P=unescape(P),T===0&&(P=u(P))),x.push(P)}return x.join("")}function h(p){if(p.startsWith('"')){let b=p.slice(1).split('\\"');for(let v=0;v<b.length;++v){let w=b[v].indexOf('"');w!==-1&&(b[v]=b[v].slice(0,w),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}p=b.join('"')}return p}function u(p){let b=p.indexOf("'");if(b===-1)return p;let v=p.slice(0,b),x=p.slice(b+1).replace(/^[^']*'/,"");return o(v,x)}function c(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,w,x){if(w==="q"||w==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,_){return String.fromCharCode(parseInt(_,16))}),o(v,x);try{x=atob(x)}catch{}return o(v,x)})}return""}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=r(1),i=r(20);let l=200,d=206;function f(h){let u=h.response;return typeof u!="string"?u:(0,n.stringToBytes)(u).buffer}class m{constructor(u,c={}){this.url=u,this.isHttp=/^https?:/i.test(u),this.httpHeaders=this.isHttp&&c.httpHeaders||Object.create(null),this.withCredentials=c.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(u,c,p){let b={begin:u,end:c};for(let v in p)b[v]=p[v];return this.request(b)}requestFull(u){return this.request(u)}request(u){let c=new XMLHttpRequest,p=this.currXhrId++,b=this.pendingRequests[p]={xhr:c};c.open("GET",this.url),c.withCredentials=this.withCredentials;for(let v in this.httpHeaders){let w=this.httpHeaders[v];w!==void 0&&c.setRequestHeader(v,w)}return this.isHttp&&"begin"in u&&"end"in u?(c.setRequestHeader("Range",`bytes=${u.begin}-${u.end-1}`),b.expectedStatus=d):b.expectedStatus=l,c.responseType="arraybuffer",u.onError&&(c.onerror=function(v){u.onError(c.status)}),c.onreadystatechange=this.onStateChange.bind(this,p),c.onprogress=this.onProgress.bind(this,p),b.onHeadersReceived=u.onHeadersReceived,b.onDone=u.onDone,b.onError=u.onError,b.onProgress=u.onProgress,c.send(null),p}onProgress(u,c){let p=this.pendingRequests[u];p&&p.onProgress?.(c)}onStateChange(u,c){let p=this.pendingRequests[u];if(!p)return;let b=p.xhr;if(b.readyState>=2&&p.onHeadersReceived&&(p.onHeadersReceived(),delete p.onHeadersReceived),b.readyState!==4||!(u in this.pendingRequests))return;if(delete this.pendingRequests[u],b.status===0&&this.isHttp){p.onError?.(b.status);return}let v=b.status||l;if(!(v===l&&p.expectedStatus===d)&&v!==p.expectedStatus){p.onError?.(b.status);return}let x=f(b);if(v===d){let T=b.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(T);p.onDone({begin:parseInt(_[1],10),chunk:x})}else x?p.onDone({begin:0,chunk:x}):p.onError?.(b.status)}getRequestXhr(u){return this.pendingRequests[u].xhr}isPendingRequest(u){return u in this.pendingRequests}abortRequest(u){let c=this.pendingRequests[u].xhr;delete this.pendingRequests[u],c.abort()}}class o{constructor(u){this._source=u,this._manager=new m(u.url,{httpHeaders:u.httpHeaders,withCredentials:u.withCredentials}),this._rangeChunkSize=u.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(u){let c=this._rangeRequestReaders.indexOf(u);c>=0&&this._rangeRequestReaders.splice(c,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(u,c){let p=new s(this._manager,u,c);return p.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(p),p}cancelAllRequests(u){this._fullRequestReader?.cancel(u);for(let c of this._rangeRequestReaders.slice(0))c.cancel(u)}}e.PDFNetworkStream=o;class a{constructor(u,c){this._manager=u;let p={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=c.url,this._fullRequestId=u.requestFull(p),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=c.disableRange||!1,this._contentLength=c.length,this._rangeChunkSize=c.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let u=this._fullRequestId,c=this._manager.getRequestXhr(u),p=w=>c.getResponseHeader(w),{allowRangeRequests:b,suggestedLength:v}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});b&&(this._isRangeSupported=!0),this._contentLength=v||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(p),this._isRangeSupported&&this._manager.abortRequest(u),this._headersReceivedCapability.resolve()}_onDone(u){if(u&&(this._requests.length>0?this._requests.shift().resolve({value:u.chunk,done:!1}):this._cachedChunks.push(u.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(u){this._storedError=(0,i.createResponseStatusError)(u,this._url),this._headersReceivedCapability.reject(this._storedError);for(let c of this._requests)c.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(u){this.onProgress?.({loaded:u.loaded,total:u.lengthComputable?u.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let u=new n.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0,this._headersReceivedCapability.reject(u);for(let c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class s{constructor(u,c,p){this._manager=u;let b={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=u.url,this._requestId=u.requestRange(c,p,b),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(u){let c=u.chunk;this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunk=c,this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(u){this._storedError=(0,i.createResponseStatusError)(u,this._url);for(let c of this._requests)c.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(u){this.isStreamingSupported||this.onProgress?.({loaded:u.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let c=this._queuedChunk;return this._queuedChunk=null,{value:c,done:!1}}if(this._done)return{value:void 0,done:!0};let u=new n.PromiseCapability;return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(let c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=r(1),i=r(20);let l=/^file:\/\/\/[a-zA-Z]:\//;function d(p){let b=vi(),v=b.parse(p);return v.protocol==="file:"||v.host?v:/^[a-z]:[/\\]/i.test(p)?b.parse(`file:///${p}`):(v.host||(v.protocol="file:"),v)}class f{constructor(b){this.source=b,this.url=d(b.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new u(this):new s(this),this._fullRequestReader}getRangeReader(b,v){if(v<=this._progressiveDataLength)return null;let w=this.isFsUrl?new c(this,b,v):new h(this,b,v);return this._rangeRequestReaders.push(w),w}cancelAllRequests(b){this._fullRequestReader?.cancel(b);for(let v of this._rangeRequestReaders.slice(0))v.cancel(b)}}e.PDFNodeStream=f;class m{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;let v=b.source;this._contentLength=v.length,this._loaded=0,this._filename=null,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let b=this._readableStream.read();return b===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=b.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(b).buffer,done:!1})}cancel(b){if(!this._readableStream){this._error(b);return}this._readableStream.destroy(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",v=>{this._error(v)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class o{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;let v=b.source;this._isStreamingSupported=!v.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let b=this._readableStream.read();return b===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=b.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(b).buffer,done:!1})}cancel(b){if(!this._readableStream){this._error(b);return}this._readableStream.destroy(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",v=>{this._error(v)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function a(p,b){return{protocol:p.protocol,auth:p.auth,host:p.hostname,port:p.port,path:p.path,method:"GET",headers:b}}class s extends m{constructor(b){super(b);let v=w=>{if(w.statusCode===404){let P=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=P,this._headersCapability.reject(P);return}this._headersCapability.resolve(),this._setReadableStream(w);let x=P=>this._readableStream.headers[P.toLowerCase()],{allowRangeRequests:T,suggestedLength:_}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:b.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=T,this._contentLength=_||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(x)};if(this._request=null,this._url.protocol==="http:"){let w=gr();this._request=w.request(a(this._url,b.httpHeaders),v)}else{let w=vr();this._request=w.request(a(this._url,b.httpHeaders),v)}this._request.on("error",w=>{this._storedError=w,this._headersCapability.reject(w)}),this._request.end()}}class h extends o{constructor(b,v,w){super(b),this._httpHeaders={};for(let T in b.httpHeaders){let _=b.httpHeaders[T];_!==void 0&&(this._httpHeaders[T]=_)}this._httpHeaders.Range=`bytes=${v}-${w-1}`;let x=T=>{if(T.statusCode===404){let _=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_;return}this._setReadableStream(T)};if(this._request=null,this._url.protocol==="http:"){let T=gr();this._request=T.request(a(this._url,this._httpHeaders),x)}else{let T=vr();this._request=T.request(a(this._url,this._httpHeaders),x)}this._request.on("error",T=>{this._storedError=T}),this._request.end()}}class u extends m{constructor(b){super(b);let v=decodeURIComponent(this._url.path);l.test(this._url.href)&&(v=v.replace(/^\//,""));let w=In();w.lstat(v,(x,T)=>{if(x){x.code==="ENOENT"&&(x=new n.MissingPDFException(`Missing PDF "${v}".`)),this._storedError=x,this._headersCapability.reject(x);return}this._contentLength=T.size,this._setReadableStream(w.createReadStream(v)),this._headersCapability.resolve()})}}class c extends o{constructor(b,v,w){super(b);let x=decodeURIComponent(this._url.path);l.test(this._url.href)&&(x=x.replace(/^\//,""));let T=In();this._setReadableStream(T.createReadStream(x,{start:v,end:w-1}))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=r(6),i=r(1);let l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/1999/xlink",m=["butt","round","square"],o=["miter","round","bevel"],a=function(T,_="",P=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!P)return URL.createObjectURL(new Blob([T],{type:_}));let B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",V=`data:${_};base64,`;for(let N=0,q=T.length;N<q;N+=3){let U=T[N]&255,Q=T[N+1]&255,ee=T[N+2]&255,$=U>>2,ie=(U&3)<<4|Q>>4,J=N+1<q?(Q&15)<<2|ee>>6:64,j=N+2<q?ee&63:64;V+=B[$]+B[ie]+B[J]+B[j]}return V},s=function(){let T=new Uint8Array([137,80,78,71,13,10,26,10]),_=12,P=new Int32Array(256);for(let ee=0;ee<256;ee++){let $=ee;for(let ie=0;ie<8;ie++)$=$&1?3988292384^$>>1&2147483647:$>>1&2147483647;P[ee]=$}function B(ee,$,ie){let J=-1;for(let j=$;j<ie;j++){let k=(J^ee[j])&255,E=P[k];J=J>>>8^E}return J^-1}function V(ee,$,ie,J){let j=J,k=$.length;ie[j]=k>>24&255,ie[j+1]=k>>16&255,ie[j+2]=k>>8&255,ie[j+3]=k&255,j+=4,ie[j]=ee.charCodeAt(0)&255,ie[j+1]=ee.charCodeAt(1)&255,ie[j+2]=ee.charCodeAt(2)&255,ie[j+3]=ee.charCodeAt(3)&255,j+=4,ie.set($,j),j+=$.length;let E=B(ie,J+4,j);ie[j]=E>>24&255,ie[j+1]=E>>16&255,ie[j+2]=E>>8&255,ie[j+3]=E&255}function N(ee,$,ie){let J=1,j=0;for(let k=$;k<ie;++k)J=(J+(ee[k]&255))%65521,j=(j+J)%65521;return j<<16|J}function q(ee){if(!i.isNodeJS)return U(ee);try{let $=parseInt(process.versions.node)>=8?ee:Buffer.from(ee),ie=yi().deflateSync($,{level:9});return ie instanceof Uint8Array?ie:new Uint8Array(ie)}catch($){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+$)}return U(ee)}function U(ee){let $=ee.length,ie=65535,J=Math.ceil($/ie),j=new Uint8Array(2+$+J*5+4),k=0;j[k++]=120,j[k++]=156;let E=0;for(;$>ie;)j[k++]=0,j[k++]=255,j[k++]=255,j[k++]=0,j[k++]=0,j.set(ee.subarray(E,E+ie),k),k+=ie,E+=ie,$-=ie;j[k++]=1,j[k++]=$&255,j[k++]=$>>8&255,j[k++]=~$&65535&255,j[k++]=(~$&65535)>>8&255,j.set(ee.subarray(E),k),k+=ee.length-E;let y=N(ee,0,ee.length);return j[k++]=y>>24&255,j[k++]=y>>16&255,j[k++]=y>>8&255,j[k++]=y&255,j}function Q(ee,$,ie,J){let j=ee.width,k=ee.height,E,y,M,O=ee.data;switch($){case i.ImageKind.GRAYSCALE_1BPP:y=0,E=1,M=j+7>>3;break;case i.ImageKind.RGB_24BPP:y=2,E=8,M=j*3;break;case i.ImageKind.RGBA_32BPP:y=6,E=8,M=j*4;break;default:throw new Error("invalid format")}let L=new Uint8Array((1+M)*k),I=0,D=0;for(let z=0;z<k;++z)L[I++]=0,L.set(O.subarray(D,D+M),I),D+=M,I+=M;if($===i.ImageKind.GRAYSCALE_1BPP&&J){I=0;for(let z=0;z<k;z++){I++;for(let W=0;W<M;W++)L[I++]^=255}}let g=new Uint8Array([j>>24&255,j>>16&255,j>>8&255,j&255,k>>24&255,k>>16&255,k>>8&255,k&255,E,y,0,0,0]),S=q(L),A=T.length+_*3+g.length+S.length,R=new Uint8Array(A),F=0;return R.set(T,F),F+=T.length,V("IHDR",g,R,F),F+=_+g.length,V("IDATA",S,R,F),F+=_+S.length,V("IEND",new Uint8Array(0),R,F),a(R,"image/png",ie)}return function($,ie,J){let j=$.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:$.kind;return Q($,j,ie,J)}}();class h{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(_,P){this.x=_,this.y=P}}function u(T){let _=[],P=[];for(let B of T){if(B.fn==="save"){_.push({fnId:92,fn:"group",items:[]}),P.push(_),_=_.at(-1).items;continue}B.fn==="restore"?_=P.pop():_.push(B)}return _}function c(T){if(Number.isInteger(T))return T.toString();let _=T.toFixed(10),P=_.length-1;if(_[P]!=="0")return _;do P--;while(_[P]==="0");return _.substring(0,_[P]==="."?P:P+1)}function p(T){if(T[4]===0&&T[5]===0){if(T[1]===0&&T[2]===0)return T[0]===1&&T[3]===1?"":`scale(${c(T[0])} ${c(T[3])})`;if(T[0]===T[3]&&T[1]===-T[2]){let _=Math.acos(T[0])*180/Math.PI;return`rotate(${c(_)})`}}else if(T[0]===1&&T[1]===0&&T[2]===0&&T[3]===1)return`translate(${c(T[4])} ${c(T[5])})`;return`matrix(${c(T[0])} ${c(T[1])} ${c(T[2])} ${c(T[3])} ${c(T[4])} ${c(T[5])})`}let b=0,v=0,w=0;class x{constructor(_,P,B=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new h,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_,this.objs=P,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!B,this._operatorIdMapping=[];for(let V in i.OPS)this._operatorIdMapping[i.OPS[V]]=V}getObject(_,P=null){return typeof _=="string"?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):P}save(){this.transformStack.push(this.transformMatrix);let _=this.current;this.extraStack.push(_),this.current=_.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(_){this.save(),this.executeOpTree(_),this.restore()}loadDependencies(_){let P=_.fnArray,B=_.argsArray;for(let V=0,N=P.length;V<N;V++)if(P[V]===i.OPS.dependency)for(let q of B[V]){let U=q.startsWith("g_")?this.commonObjs:this.objs,Q=new Promise(ee=>{U.get(q,ee)});this.current.dependencies.push(Q)}return Promise.all(this.current.dependencies)}transform(_,P,B,V,N,q){let U=[_,P,B,V,N,q];this.transformMatrix=i.Util.transform(this.transformMatrix,U),this.tgrp=null}getSVG(_,P){this.viewport=P;let B=this._initialize(P);return this.loadDependencies(_).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(_)),B))}convertOpList(_){let P=this._operatorIdMapping,B=_.argsArray,V=_.fnArray,N=[];for(let q=0,U=V.length;q<U;q++){let Q=V[q];N.push({fnId:Q,fn:P[Q],args:B[q]})}return u(N)}executeOpTree(_){for(let P of _){let B=P.fn,V=P.fnId,N=P.args;switch(V|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(N);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(N[0],N[1]);break;case i.OPS.setFont:this.setFont(N);break;case i.OPS.showText:this.showText(N[0]);break;case i.OPS.showSpacedText:this.showText(N[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(N[0],N[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(N[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(N[0]);break;case i.OPS.setHScale:this.setHScale(N[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(N[0],N[1],N[2],N[3],N[4],N[5]);break;case i.OPS.setTextRise:this.setTextRise(N[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(N[0]);break;case i.OPS.setLineWidth:this.setLineWidth(N[0]);break;case i.OPS.setLineJoin:this.setLineJoin(N[0]);break;case i.OPS.setLineCap:this.setLineCap(N[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(N[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(N[0],N[1],N[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(N[0],N[1],N[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(N);break;case i.OPS.setFillColorN:this.setFillColorN(N);break;case i.OPS.shadingFill:this.shadingFill(N[0]);break;case i.OPS.setDash:this.setDash(N[0],N[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(N[0]);break;case i.OPS.setFlatness:this.setFlatness(N[0]);break;case i.OPS.setGState:this.setGState(N[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(N[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(N[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(N[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(N[0],N[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(N[0],N[1],N[2],N[3],N[4],N[5]);break;case i.OPS.constructPath:this.constructPath(N[0],N[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(P.items);break;default:(0,i.warn)(`Unimplemented operator ${B}`);break}}}setWordSpacing(_){this.current.wordSpacing=_}setCharSpacing(_){this.current.charSpacing=_}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(_,P,B,V,N,q){let U=this.current;U.textMatrix=U.lineMatrix=[_,P,B,V,N,q],U.textMatrixScale=Math.hypot(_,P),U.x=U.lineX=0,U.y=U.lineY=0,U.xcoords=[],U.ycoords=[],U.tspan=this.svgFactory.createElement("svg:tspan"),U.tspan.setAttributeNS(null,"font-family",U.fontFamily),U.tspan.setAttributeNS(null,"font-size",`${c(U.fontSize)}px`),U.tspan.setAttributeNS(null,"y",c(-U.y)),U.txtElement=this.svgFactory.createElement("svg:text"),U.txtElement.append(U.tspan)}beginText(){let _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=i.IDENTITY_MATRIX,_.lineMatrix=i.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}moveText(_,P){let B=this.current;B.x=B.lineX+=_,B.y=B.lineY+=P,B.xcoords=[],B.ycoords=[],B.tspan=this.svgFactory.createElement("svg:tspan"),B.tspan.setAttributeNS(null,"font-family",B.fontFamily),B.tspan.setAttributeNS(null,"font-size",`${c(B.fontSize)}px`),B.tspan.setAttributeNS(null,"y",c(-B.y))}showText(_){let P=this.current,B=P.font,V=P.fontSize;if(V===0)return;let N=P.fontSizeScale,q=P.charSpacing,U=P.wordSpacing,Q=P.fontDirection,ee=P.textHScale*Q,$=B.vertical,ie=$?1:-1,J=B.defaultVMetrics,j=V*P.fontMatrix[0],k=0;for(let M of _){if(M===null){k+=Q*U;continue}else if(typeof M=="number"){k+=ie*M*V/1e3;continue}let O=(M.isSpace?U:0)+q,L=M.fontChar,I,D,g=M.width;if($){let A,R=M.vmetric||J;A=M.vmetric?R[1]:g*.5,A=-A*j;let F=R[2]*j;g=R?-R[0]:g,I=A/N,D=(k+F)/N}else I=k/N,D=0;(M.isInFont||B.missingFile)&&(P.xcoords.push(P.x+I),$&&P.ycoords.push(-P.y+D),P.tspan.textContent+=L);let S=$?g*j-O*Q:g*j+O*Q;k+=S}P.tspan.setAttributeNS(null,"x",P.xcoords.map(c).join(" ")),$?P.tspan.setAttributeNS(null,"y",P.ycoords.map(c).join(" ")):P.tspan.setAttributeNS(null,"y",c(-P.y)),$?P.y-=k:P.x+=k*ee,P.tspan.setAttributeNS(null,"font-family",P.fontFamily),P.tspan.setAttributeNS(null,"font-size",`${c(P.fontSize)}px`),P.fontStyle!==l.fontStyle&&P.tspan.setAttributeNS(null,"font-style",P.fontStyle),P.fontWeight!==l.fontWeight&&P.tspan.setAttributeNS(null,"font-weight",P.fontWeight);let E=P.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(E===i.TextRenderingMode.FILL||E===i.TextRenderingMode.FILL_STROKE?(P.fillColor!==l.fillColor&&P.tspan.setAttributeNS(null,"fill",P.fillColor),P.fillAlpha<1&&P.tspan.setAttributeNS(null,"fill-opacity",P.fillAlpha)):P.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?P.tspan.setAttributeNS(null,"fill","transparent"):P.tspan.setAttributeNS(null,"fill","none"),E===i.TextRenderingMode.STROKE||E===i.TextRenderingMode.FILL_STROKE){let M=1/(P.textMatrixScale||1);this._setStrokeAttributes(P.tspan,M)}let y=P.textMatrix;P.textRise!==0&&(y=y.slice(),y[5]+=P.textRise),P.txtElement.setAttributeNS(null,"transform",`${p(y)} scale(${c(ee)}, -1)`),P.txtElement.setAttributeNS(d,"xml:space","preserve"),P.txtElement.append(P.tspan),P.txtgrp.append(P.txtElement),this._ensureTransformGroup().append(P.txtElement)}setLeadingMoveText(_,P){this.setLeading(-P),this.moveText(_,P)}addFontStyle(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let P=a(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${_.loadedName}"; src: url(${P}); }
`}setFont(_){let P=this.current,B=this.commonObjs.get(_[0]),V=_[1];P.font=B,this.embedFonts&&!B.missingFile&&!this.embeddedFonts[B.loadedName]&&(this.addFontStyle(B),this.embeddedFonts[B.loadedName]=B),P.fontMatrix=B.fontMatrix||i.FONT_IDENTITY_MATRIX;let N="normal";B.black?N="900":B.bold&&(N="bold");let q=B.italic?"italic":"normal";V<0?(V=-V,P.fontDirection=-1):P.fontDirection=1,P.fontSize=V,P.fontFamily=B.loadedName,P.fontWeight=N,P.fontStyle=q,P.tspan=this.svgFactory.createElement("svg:tspan"),P.tspan.setAttributeNS(null,"y",c(-P.y)),P.xcoords=[],P.ycoords=[]}endText(){let _=this.current;_.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&_.txtElement?.hasChildNodes()&&(_.element=_.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(_){_>0&&(this.current.lineWidth=_)}setLineCap(_){this.current.lineCap=m[_]}setLineJoin(_){this.current.lineJoin=o[_]}setMiterLimit(_){this.current.miterLimit=_}setStrokeAlpha(_){this.current.strokeAlpha=_}setStrokeRGBColor(_,P,B){this.current.strokeColor=i.Util.makeHexColor(_,P,B)}setFillAlpha(_){this.current.fillAlpha=_}setFillRGBColor(_,P,B){this.current.fillColor=i.Util.makeHexColor(_,P,B),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(_){this.current.strokeColor=this._makeColorN_Pattern(_)}setFillColorN(_){this.current.fillColor=this._makeColorN_Pattern(_)}shadingFill(_){let{width:P,height:B}=this.viewport,V=i.Util.inverseTransform(this.transformMatrix),[N,q,U,Q]=i.Util.getAxialAlignedBoundingBox([0,0,P,B],V),ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x",N),ee.setAttributeNS(null,"y",q),ee.setAttributeNS(null,"width",U-N),ee.setAttributeNS(null,"height",Q-q),ee.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&ee.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ee)}_makeColorN_Pattern(_){return _[0]==="TilingPattern"?this._makeTilingPattern(_):this._makeShadingPattern(_)}_makeTilingPattern(_){let P=_[1],B=_[2],V=_[3]||i.IDENTITY_MATRIX,[N,q,U,Q]=_[4],ee=_[5],$=_[6],ie=_[7],J=`shading${w++}`,[j,k,E,y]=i.Util.normalizeRect([...i.Util.applyTransform([N,q],V),...i.Util.applyTransform([U,Q],V)]),[M,O]=i.Util.singularValueDecompose2dScale(V),L=ee*M,I=$*O,D=this.svgFactory.createElement("svg:pattern");D.setAttributeNS(null,"id",J),D.setAttributeNS(null,"patternUnits","userSpaceOnUse"),D.setAttributeNS(null,"width",L),D.setAttributeNS(null,"height",I),D.setAttributeNS(null,"x",`${j}`),D.setAttributeNS(null,"y",`${k}`);let g=this.svg,S=this.transformMatrix,A=this.current.fillColor,R=this.current.strokeColor,F=this.svgFactory.create(E-j,y-k);if(this.svg=F,this.transformMatrix=V,ie===2){let z=i.Util.makeHexColor(...P);this.current.fillColor=z,this.current.strokeColor=z}return this.executeOpTree(this.convertOpList(B)),this.svg=g,this.transformMatrix=S,this.current.fillColor=A,this.current.strokeColor=R,D.append(F.childNodes[0]),this.defs.append(D),`url(#${J})`}_makeShadingPattern(_){switch(typeof _=="string"&&(_=this.objs.get(_)),_[0]){case"RadialAxial":let P=`shading${w++}`,B=_[3],V;switch(_[1]){case"axial":let N=_[4],q=_[5];V=this.svgFactory.createElement("svg:linearGradient"),V.setAttributeNS(null,"id",P),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"x1",N[0]),V.setAttributeNS(null,"y1",N[1]),V.setAttributeNS(null,"x2",q[0]),V.setAttributeNS(null,"y2",q[1]);break;case"radial":let U=_[4],Q=_[5],ee=_[6],$=_[7];V=this.svgFactory.createElement("svg:radialGradient"),V.setAttributeNS(null,"id",P),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"cx",Q[0]),V.setAttributeNS(null,"cy",Q[1]),V.setAttributeNS(null,"r",$),V.setAttributeNS(null,"fx",U[0]),V.setAttributeNS(null,"fy",U[1]),V.setAttributeNS(null,"fr",ee);break;default:throw new Error(`Unknown RadialAxial type: ${_[1]}`)}for(let N of B){let q=this.svgFactory.createElement("svg:stop");q.setAttributeNS(null,"offset",N[0]),q.setAttributeNS(null,"stop-color",N[1]),V.append(q)}return this.defs.append(V),`url(#${P})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${_[0]}`)}}setDash(_,P){this.current.dashArray=_,this.current.dashPhase=P}constructPath(_,P){let B=this.current,V=B.x,N=B.y,q=[],U=0;for(let Q of _)switch(Q|0){case i.OPS.rectangle:V=P[U++],N=P[U++];let ee=P[U++],$=P[U++],ie=V+ee,J=N+$;q.push("M",c(V),c(N),"L",c(ie),c(N),"L",c(ie),c(J),"L",c(V),c(J),"Z");break;case i.OPS.moveTo:V=P[U++],N=P[U++],q.push("M",c(V),c(N));break;case i.OPS.lineTo:V=P[U++],N=P[U++],q.push("L",c(V),c(N));break;case i.OPS.curveTo:V=P[U+4],N=P[U+5],q.push("C",c(P[U]),c(P[U+1]),c(P[U+2]),c(P[U+3]),c(V),c(N)),U+=6;break;case i.OPS.curveTo2:q.push("C",c(V),c(N),c(P[U]),c(P[U+1]),c(P[U+2]),c(P[U+3])),V=P[U+2],N=P[U+3],U+=4;break;case i.OPS.curveTo3:V=P[U+2],N=P[U+3],q.push("C",c(P[U]),c(P[U+1]),c(V),c(N),c(V),c(N)),U+=4;break;case i.OPS.closePath:q.push("Z");break}q=q.join(" "),B.path&&_.length>0&&_[0]!==i.OPS.rectangle&&_[0]!==i.OPS.moveTo?q=B.path.getAttributeNS(null,"d")+q:(B.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(B.path)),B.path.setAttributeNS(null,"d",q),B.path.setAttributeNS(null,"fill","none"),B.element=B.path,B.setCurrentPoint(V,N)}endPath(){let _=this.current;if(_.path=null,!this.pendingClip)return;if(!_.element){this.pendingClip=null;return}let P=`clippath${b++}`,B=this.svgFactory.createElement("svg:clipPath");B.setAttributeNS(null,"id",P),B.setAttributeNS(null,"transform",p(this.transformMatrix));let V=_.element.cloneNode(!0);if(this.pendingClip==="evenodd"?V.setAttributeNS(null,"clip-rule","evenodd"):V.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,B.append(V),this.defs.append(B),_.activeClipUrl){_.clipGroup=null;for(let N of this.extraStack)N.clipGroup=null;B.setAttributeNS(null,"clip-path",_.activeClipUrl)}_.activeClipUrl=`url(#${P})`,this.tgrp=null}clip(_){this.pendingClip=_}closePath(){let _=this.current;if(_.path){let P=`${_.path.getAttributeNS(null,"d")}Z`;_.path.setAttributeNS(null,"d",P)}}setLeading(_){this.current.leading=-_}setTextRise(_){this.current.textRise=_}setTextRenderingMode(_){this.current.textRenderingMode=_}setHScale(_){this.current.textHScale=_/100}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(let[P,B]of _)switch(P){case"LW":this.setLineWidth(B);break;case"LC":this.setLineCap(B);break;case"LJ":this.setLineJoin(B);break;case"ML":this.setMiterLimit(B);break;case"D":this.setDash(B[0],B[1]);break;case"RI":this.setRenderingIntent(B);break;case"FL":this.setFlatness(B);break;case"Font":this.setFont(B);break;case"CA":this.setStrokeAlpha(B);break;case"ca":this.setFillAlpha(B);break;default:(0,i.warn)(`Unimplemented graphic state operator ${P}`);break}}fill(){let _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}stroke(){let _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(_,P=1){let B=this.current,V=B.dashArray;P!==1&&V.length>0&&(V=V.map(function(N){return P*N})),_.setAttributeNS(null,"stroke",B.strokeColor),_.setAttributeNS(null,"stroke-opacity",B.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",c(B.miterLimit)),_.setAttributeNS(null,"stroke-linecap",B.lineCap),_.setAttributeNS(null,"stroke-linejoin",B.lineJoin),_.setAttributeNS(null,"stroke-width",c(P*B.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",V.map(c).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",c(P*B.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(_)}paintImageXObject(_){let P=this.getObject(_);if(!P){(0,i.warn)(`Dependent image with object ID ${_} is not ready yet`);return}this.paintInlineImageXObject(P)}paintInlineImageXObject(_,P){let B=_.width,V=_.height,N=s(_,this.forceDataSchema,!!P),q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x","0"),q.setAttributeNS(null,"y","0"),q.setAttributeNS(null,"width",c(B)),q.setAttributeNS(null,"height",c(V)),this.current.element=q,this.clip("nonzero");let U=this.svgFactory.createElement("svg:image");U.setAttributeNS(f,"xlink:href",N),U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y",c(-V)),U.setAttributeNS(null,"width",c(B)+"px"),U.setAttributeNS(null,"height",c(V)+"px"),U.setAttributeNS(null,"transform",`scale(${c(1/B)} ${c(-1/V)})`),P?P.append(U):this._ensureTransformGroup().append(U)}paintImageMaskXObject(_){let P=this.getObject(_.data,_);if(P.bitmap){(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let B=this.current,V=P.width,N=P.height,q=B.fillColor;B.maskId=`mask${v++}`;let U=this.svgFactory.createElement("svg:mask");U.setAttributeNS(null,"id",B.maskId);let Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width",c(V)),Q.setAttributeNS(null,"height",c(N)),Q.setAttributeNS(null,"fill",q),Q.setAttributeNS(null,"mask",`url(#${B.maskId})`),this.defs.append(U),this._ensureTransformGroup().append(Q),this.paintInlineImageXObject(P,U)}paintFormXObjectBegin(_,P){if(Array.isArray(_)&&_.length===6&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),P){let B=P[2]-P[0],V=P[3]-P[1],N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",P[0]),N.setAttributeNS(null,"y",P[1]),N.setAttributeNS(null,"width",c(B)),N.setAttributeNS(null,"height",c(V)),this.current.element=N,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(_){let P=this.svgFactory.create(_.width,_.height),B=this.svgFactory.createElement("svg:defs");P.append(B),this.defs=B;let V=this.svgFactory.createElement("svg:g");return V.setAttributeNS(null,"transform",p(_.transform)),P.append(V),this.svg=V,P}_ensureClipGroup(){if(!this.current.clipGroup){let _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(_),this.current.clipGroup=_}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",p(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=x},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class r{static textContent(i){let l=[],d={items:l,styles:Object.create(null)};function f(m){if(!m)return;let o=null,a=m.name;if(a==="#text")o=m.value;else if(r.shouldBuildText(a))m?.attributes?.textContent?o=m.attributes.textContent:m.value&&(o=m.value);else return;if(o!==null&&l.push({str:o}),!!m.children)for(let s of m.children)f(s)}return f(i),d}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=r},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=p,e.updateTextLayer=b;var n=r(1),i=r(6);let l=1e5,d=30,f=.8,m=new Map;function o(v,w){let x;if(w&&n.FeatureTest.isOffscreenCanvasSupported)x=new OffscreenCanvas(v,v).getContext("2d",{alpha:!1});else{let T=document.createElement("canvas");T.width=T.height=v,x=T.getContext("2d",{alpha:!1})}return x}function a(v,w){let x=m.get(v);if(x)return x;let T=o(d,w);T.font=`${d}px ${v}`;let _=T.measureText(""),P=_.fontBoundingBoxAscent,B=Math.abs(_.fontBoundingBoxDescent);if(P){let N=P/(P+B);return m.set(v,N),T.canvas.width=T.canvas.height=0,N}T.strokeStyle="red",T.clearRect(0,0,d,d),T.strokeText("g",0,0);let V=T.getImageData(0,0,d,d).data;B=0;for(let N=V.length-1-3;N>=0;N-=4)if(V[N]>0){B=Math.ceil(N/4/d);break}T.clearRect(0,0,d,d),T.strokeText("A",0,d),V=T.getImageData(0,0,d,d).data,P=0;for(let N=0,q=V.length;N<q;N+=4)if(V[N]>0){P=d-Math.floor(N/4/d);break}if(T.canvas.width=T.canvas.height=0,P){let N=P/(P+B);return m.set(v,N),N}return m.set(v,f),f}function s(v,w,x){let T=document.createElement("span"),_={angle:0,canvasWidth:0,hasText:w.str!=="",hasEOL:w.hasEOL,fontSize:0};v._textDivs.push(T);let P=n.Util.transform(v._transform,w.transform),B=Math.atan2(P[1],P[0]),V=x[w.fontName];V.vertical&&(B+=Math.PI/2);let N=Math.hypot(P[2],P[3]),q=N*a(V.fontFamily,v._isOffscreenCanvasSupported),U,Q;B===0?(U=P[4],Q=P[5]-q):(U=P[4]+q*Math.sin(B),Q=P[5]-q*Math.cos(B));let ee="calc(var(--scale-factor)*",$=T.style;v._container===v._rootContainer?($.left=`${(100*U/v._pageWidth).toFixed(2)}%`,$.top=`${(100*Q/v._pageHeight).toFixed(2)}%`):($.left=`${ee}${U.toFixed(2)}px)`,$.top=`${ee}${Q.toFixed(2)}px)`),$.fontSize=`${ee}${N.toFixed(2)}px)`,$.fontFamily=V.fontFamily,_.fontSize=N,T.setAttribute("role","presentation"),T.textContent=w.str,T.dir=w.dir,v._fontInspectorEnabled&&(T.dataset.fontName=w.fontName),B!==0&&(_.angle=B*(180/Math.PI));let ie=!1;if(w.str.length>1)ie=!0;else if(w.str!==" "&&w.transform[0]!==w.transform[3]){let J=Math.abs(w.transform[0]),j=Math.abs(w.transform[3]);J!==j&&Math.max(J,j)/Math.min(J,j)>1.5&&(ie=!0)}ie&&(_.canvasWidth=V.vertical?w.height:w.width),v._textDivProperties.set(T,_),v._isReadableStream&&v._layoutText(T)}function h(v){let{div:w,scale:x,properties:T,ctx:_,prevFontSize:P,prevFontFamily:B}=v,{style:V}=w,N="";if(T.canvasWidth!==0&&T.hasText){let{fontFamily:q}=V,{canvasWidth:U,fontSize:Q}=T;(P!==Q||B!==q)&&(_.font=`${Q*x}px ${q}`,v.prevFontSize=Q,v.prevFontFamily=q);let{width:ee}=_.measureText(w.textContent);ee>0&&(N=`scaleX(${U*x/ee})`)}T.angle!==0&&(N=`rotate(${T.angle}deg) ${N}`),N.length>0&&(V.transform=N)}function u(v){if(v._canceled)return;let w=v._textDivs,x=v._capability;if(w.length>l){x.resolve();return}if(!v._isReadableStream)for(let _ of w)v._layoutText(_);x.resolve()}class c{constructor({textContentSource:w,container:x,viewport:T,textDivs:_,textDivProperties:P,textContentItemsStr:B,isOffscreenCanvasSupported:V}){this._textContentSource=w,this._isReadableStream=w instanceof ReadableStream,this._container=this._rootContainer=x,this._textDivs=_||[],this._textContentItemsStr=B||[],this._isOffscreenCanvasSupported=V,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=P||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:o(0,V)};let{pageWidth:N,pageHeight:q,pageX:U,pageY:Q}=T.rawDims;this._transform=[1,0,0,-1,-U,Q+q],this._pageWidth=N,this._pageHeight=q,(0,i.setLayerDimensions)(x,T),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(w,x){for(let T of w){if(T.str===void 0){if(T.type==="beginMarkedContentProps"||T.type==="beginMarkedContent"){let _=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),T.id!==null&&this._container.setAttribute("id",`${T.id}`),_.append(this._container)}else T.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(T.str),s(this,T,x)}}_layoutText(w){let x=this._layoutTextParams.properties=this._textDivProperties.get(w);if(this._layoutTextParams.div=w,h(this._layoutTextParams),x.hasText&&this._container.append(w),x.hasEOL){let T=document.createElement("br");T.setAttribute("role","presentation"),this._container.append(T)}}_render(){let w=new n.PromiseCapability,x=Object.create(null);if(this._isReadableStream){let T=()=>{this._reader.read().then(({value:_,done:P})=>{if(P){w.resolve();return}Object.assign(x,_.styles),this._processItems(_.items,x),T()},w.reject)};this._reader=this._textContentSource.getReader(),T()}else if(this._textContentSource){let{items:T,styles:_}=this._textContentSource;this._processItems(T,_),w.resolve()}else throw new Error('No "textContentSource" parameter specified.');w.promise.then(()=>{x=null,u(this)},this._capability.reject)}}e.TextLayerRenderTask=c;function p(v){!v.textContentSource&&(v.textContent||v.textContentStream)&&((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),v.textContentSource=v.textContent||v.textContentStream);let{container:w,viewport:x}=v,T=getComputedStyle(w),_=T.getPropertyValue("visibility"),P=parseFloat(T.getPropertyValue("--scale-factor"));_==="visible"&&(!P||Math.abs(P-x.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let B=new c(v);return B._render(),B}function b({container:v,viewport:w,textDivs:x,textDivProperties:T,isOffscreenCanvasSupported:_,mustRotate:P=!0,mustRescale:B=!0}){if(P&&(0,i.setLayerDimensions)(v,{rotation:w.rotation}),B){let V=o(0,_),q={prevFontSize:null,prevFontFamily:null,div:null,scale:w.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:V};for(let U of x)q.properties=T.get(U),q.div=U,h(q)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=r(1),i=r(4),l=r(28),d=r(33),f=r(6),m=r(34);class o{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#s=this.pointerdown.bind(this);#o=new Map;#a=!1;#c=!1;#l=!1;#i;static _initialized=!1;constructor({uiManager:s,pageIndex:h,div:u,accessibilityManager:c,annotationLayer:p,viewport:b,l10n:v}){let w=[l.FreeTextEditor,d.InkEditor,m.StampEditor];if(!o._initialized){o._initialized=!0;for(let x of w)x.initialize(v)}s.registerEditorTypes(w),this.#i=s,this.pageIndex=h,this.div=u,this.#e=c,this.#n=p,this.viewport=b,this.#i.addLayer(this)}get isEmpty(){return this.#o.size===0}updateToolbar(s){this.#i.updateToolbar(s)}updateMode(s=this.#i.getMode()){this.#p(),s===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),s!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",s===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",s===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",s===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(s){if(!s&&this.#i.getMode()!==n.AnnotationEditorType.INK)return;if(!s){for(let u of this.#o.values())if(u.isEmpty()){u.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(s){this.#i.setEditingState(s)}addCommands(s){this.#i.addCommands(s)}enable(){this.div.style.pointerEvents="auto";let s=new Set;for(let u of this.#o.values())u.enableEditing(),u.annotationElementId&&s.add(u.annotationElementId);if(!this.#n)return;let h=this.#n.getEditableAnnotations();for(let u of h){if(u.hide(),this.#i.isDeletedAnnotationElement(u.data.id)||s.has(u.data.id))continue;let c=this.deserialize(u);c&&(this.addOrRebuild(c),c.enableEditing())}}disable(){this.#l=!0,this.div.style.pointerEvents="none";let s=new Set;for(let h of this.#o.values()){if(h.disableEditing(),!h.annotationElementId||h.serialize()!==null){s.add(h.annotationElementId);continue}this.getEditableAnnotation(h.annotationElementId)?.show(),h.remove()}if(this.#n){let h=this.#n.getEditableAnnotations();for(let u of h){let{id:c}=u.data;s.has(c)||this.#i.isDeletedAnnotationElement(c)||u.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#l=!1}getEditableAnnotation(s){return this.#n?.getEditableAnnotation(s)||null}setActiveEditor(s){this.#i.getActive()!==s&&this.#i.setActiveEditor(s)}enableClick(){this.div.addEventListener("pointerdown",this.#s),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#r)}attach(s){this.#o.set(s.id,s);let{annotationElementId:h}=s;h&&this.#i.isDeletedAnnotationElement(h)&&this.#i.removeDeletedAnnotationElement(s)}detach(s){this.#o.delete(s.id),this.#e?.removePointerInTextLayer(s.contentDiv),!this.#l&&s.annotationElementId&&this.#i.addDeletedAnnotationElement(s)}remove(s){this.detach(s),this.#i.removeEditor(s),s.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),s.div.remove(),s.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(s){s.parent!==this&&(s.annotationElementId&&(this.#i.addDeletedAnnotationElement(s.annotationElementId),i.AnnotationEditor.deleteAnnotationElement(s),s.annotationElementId=null),this.attach(s),s.parent?.detach(s),s.setParent(this),s.div&&s.isAttachedToDOM&&(s.div.remove(),this.div.append(s.div)))}add(s){if(this.changeParent(s),this.#i.addEditor(s),this.attach(s),!s.isAttachedToDOM){let h=s.render();this.div.append(h),s.isAttachedToDOM=!0}s.fixAndSetPosition(),s.onceAdded(),this.#i.addToAnnotationStorage(s)}moveEditorInDOM(s){if(!s.isAttachedToDOM)return;let{activeElement:h}=document;s.div.contains(h)&&(s._focusEventsAllowed=!1,setTimeout(()=>{s.div.contains(document.activeElement)?s._focusEventsAllowed=!0:(s.div.addEventListener("focusin",()=>{s._focusEventsAllowed=!0},{once:!0}),h.focus())},0)),s._structTreeParentId=this.#e?.moveElementInDOM(this.div,s.div,s.contentDiv,!0)}addOrRebuild(s){s.needsToBeRebuilt()?s.rebuild():this.add(s)}addUndoableEditor(s){let h=()=>s._uiManager.rebuild(s),u=()=>{s.remove()};this.addCommands({cmd:h,undo:u,mustExec:!1})}getNextId(){return this.#i.getId()}#f(s){switch(this.#i.getMode()){case n.AnnotationEditorType.FREETEXT:return new l.FreeTextEditor(s);case n.AnnotationEditorType.INK:return new d.InkEditor(s);case n.AnnotationEditorType.STAMP:return new m.StampEditor(s)}return null}pasteEditor(s,h){this.#i.updateToolbar(s),this.#i.updateMode(s);let{offsetX:u,offsetY:c}=this.#h(),p=this.getNextId(),b=this.#f({parent:this,id:p,x:u,y:c,uiManager:this.#i,isCentered:!0,...h});b&&this.add(b)}deserialize(s){switch(s.annotationType??s.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return l.FreeTextEditor.deserialize(s,this,this.#i);case n.AnnotationEditorType.INK:return d.InkEditor.deserialize(s,this,this.#i);case n.AnnotationEditorType.STAMP:return m.StampEditor.deserialize(s,this,this.#i)}return null}#d(s,h){let u=this.getNextId(),c=this.#f({parent:this,id:u,x:s.offsetX,y:s.offsetY,uiManager:this.#i,isCentered:h});return c&&this.add(c),c}#h(){let{x:s,y:h,width:u,height:c}=this.div.getBoundingClientRect(),p=Math.max(0,s),b=Math.max(0,h),v=Math.min(window.innerWidth,s+u),w=Math.min(window.innerHeight,h+c),x=(p+v)/2-s,T=(b+w)/2-h,[_,P]=this.viewport.rotation%180===0?[x,T]:[T,x];return{offsetX:_,offsetY:P}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(s){this.#i.setSelected(s)}toggleSelected(s){this.#i.toggleSelected(s)}isSelected(s){return this.#i.isSelected(s)}unselect(s){this.#i.unselect(s)}pointerup(s){let{isMac:h}=n.FeatureTest.platform;if(!(s.button!==0||s.ctrlKey&&h)&&s.target===this.div&&this.#a){if(this.#a=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===n.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(s,!1)}}pointerdown(s){if(this.#a){this.#a=!1;return}let{isMac:h}=n.FeatureTest.platform;if(s.button!==0||s.ctrlKey&&h||s.target!==this.div)return;this.#a=!0;let u=this.#i.getActive();this.#t=!u||u.isEmpty()}findNewParent(s,h,u){let c=this.#i.findParent(h,u);return c===null||c===this?!1:(c.changeParent(s),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(let s of this.#o.values())this.#e?.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,this.#o.clear(),this.#i.removeLayer(this)}#p(){this.#c=!0;for(let s of this.#o.values())s.isEmpty()&&s.remove();this.#c=!1}render({viewport:s}){this.viewport=s,(0,f.setLayerDimensions)(this.div,s);for(let h of this.#i.getEditors(this.pageIndex))this.add(h);this.updateMode()}update({viewport:s}){this.#i.commitOrRemove(),this.viewport=s,(0,f.setLayerDimensions)(this.div,{rotation:s.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:s,pageHeight:h}=this.viewport.rawDims;return[s,h]}}e.AnnotationEditorLayer=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=r(1),i=r(5),l=r(4),d=r(29);class f extends l.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#s;#o="";#a=`${this.id}-editor`;#c;#l=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let o=f.prototype,a=u=>u.isEmpty(),s=i.AnnotationEditorUIManager.TRANSLATE_SMALL,h=i.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new i.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],o.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],o.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],o._translateEmpty,{args:[-s,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],o._translateEmpty,{args:[-h,0],checker:a}],[["ArrowRight","mac+ArrowRight"],o._translateEmpty,{args:[s,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],o._translateEmpty,{args:[h,0],checker:a}],[["ArrowUp","mac+ArrowUp"],o._translateEmpty,{args:[0,-s],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],o._translateEmpty,{args:[0,-h],checker:a}],[["ArrowDown","mac+ArrowDown"],o._translateEmpty,{args:[0,s],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],o._translateEmpty,{args:[0,h],checker:a}]]))}static _type="freetext";constructor(o){super({...o,name:"freeTextEditor"}),this.#s=o.color||f._defaultColor||l.AnnotationEditor._defaultLineColor,this.#c=o.fontSize||f._defaultFontSize}static initialize(o){l.AnnotationEditor.initialize(o,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});let a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(o,a){switch(o){case n.AnnotationEditorParamsType.FREETEXT_SIZE:f._defaultFontSize=a;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:f._defaultColor=a;break}}updateParams(o,a){switch(o){case n.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(a);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(a);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,f._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,f._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,this.#c],[n.AnnotationEditorParamsType.FREETEXT_COLOR,this.#s]]}#i(o){let a=h=>{this.editorDiv.style.fontSize=`calc(${h}px * var(--scale-factor))`,this.translate(0,-(h-this.#c)*this.parentScale),this.#c=h,this.#h()},s=this.#c;this.addCommands({cmd:()=>{a(o)},undo:()=>{a(s)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(o){let a=this.#s;this.addCommands({cmd:()=>{this.#s=this.editorDiv.style.color=o},undo:()=>{this.#s=this.editorDiv.style.color=a},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(o,a){this._uiManager.translateSelectedEditors(o,a,!0)}getInitialTranslation(){let o=this.parentScale;return[-f._internalPadding*o,-(f._internalPadding+this.#c)*o]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#a),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(o){this._focusEventsAllowed&&(super.focusin(o),o.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){let o=this.editorDiv.getElementsByTagName("div");if(o.length===0)return this.editorDiv.innerText;let a=[];for(let s of o)a.push(s.innerText.replace(/\r\n?|\n/,""));return a.join(`
`)}#h(){let[o,a]=this.parentDimensions,s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{let{currentLayer:h,div:u}=this,c=u.style.display;u.style.display="hidden",h.div.append(this.div),s=u.getBoundingClientRect(),u.remove(),u.style.display=c}this.rotation%180===this.parentRotation%180?(this.width=s.width/o,this.height=s.height/a):(this.width=s.height/o,this.height=s.width/a),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let o=this.#o,a=this.#o=this.#d().trimEnd();if(o===a)return;let s=h=>{if(this.#o=h,!h){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{s(a)},undo:()=>{s(o)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(o){this.enterInEditMode()}keydown(o){o.target===this.div&&o.key==="Enter"&&(this.enterInEditMode(),o.preventDefault())}editorDivKeydown(o){f._keyboardManager.exec(this,o)}editorDivFocus(o){this.isEditing=!0}editorDivBlur(o){this.isEditing=!1}editorDivInput(o){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let o,a;this.width&&(o=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#a),this.enableEditing(),l.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(h=>this.editorDiv?.setAttribute("aria-label",h)),l.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(h=>this.editorDiv?.setAttribute("default-content",h)),this.editorDiv.contentEditable=!0;let{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#c}px * var(--scale-factor))`,s.color=this.#s,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[h,u]=this.parentDimensions;if(this.annotationElementId){let{position:c}=this.#l,[p,b]=this.getInitialTranslation();[p,b]=this.pageTranslationToScreen(p,b);let[v,w]=this.pageDimensions,[x,T]=this.pageTranslation,_,P;switch(this.rotation){case 0:_=o+(c[0]-x)/v,P=a+this.height-(c[1]-T)/w;break;case 90:_=o+(c[0]-x)/v,P=a-(c[1]-T)/w,[p,b]=[b,-p];break;case 180:_=o-this.width+(c[0]-x)/v,P=a-(c[1]-T)/w,[p,b]=[-p,-b];break;case 270:_=o+(c[0]-x-this.height*w)/v,P=a+(c[1]-T-this.width*v)/w,[p,b]=[-b,p];break}this.setAt(_*h,P*u,p,b)}else this.setAt(o*h,a*u,this.width*h,this.height*u);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#o)for(let o of this.#o.split(`
`)){let a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),this.editorDiv.append(a)}}get contentDiv(){return this.editorDiv}static deserialize(o,a,s){let h=null;if(o instanceof d.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:c,fontColor:p},rect:b,rotation:v,id:w},textContent:x,textPosition:T,parent:{page:{pageNumber:_}}}=o;if(!x||x.length===0)return null;h=o={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(p),fontSize:c,value:x.join(`
`),position:T,pageIndex:_-1,rect:b,rotation:v,id:w,deleted:!1}}let u=super.deserialize(o,a,s);return u.#c=o.fontSize,u.#s=n.Util.makeHexColor(...o.color),u.#o=o.value,u.annotationElementId=o.id||null,u.#l=h,u}serialize(o=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let a=f._internalPadding*this.parentScale,s=this.getRect(a,a),h=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#s),u={annotationType:n.AnnotationEditorType.FREETEXT,color:h,fontSize:this.#c,value:this.#o,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return o?u:this.annotationElementId&&!this.#v(u)?null:(u.id=this.annotationElementId,u)}#v(o){let{value:a,fontSize:s,color:h,rect:u,pageIndex:c}=this.#l;return o.value!==a||o.fontSize!==s||o.rect.some((p,b)=>Math.abs(p-u[b])>=1)||o.color.some((p,b)=>p!==h[b])||o.pageIndex!==c}#g(o=!1){if(!this.annotationElementId)return;if(this.#h(),!o&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}let a=f._internalPadding*this.parentScale;this.#l.rect=this.getRect(a,a)}}e.FreeTextEditor=f},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var n=r(1),i=r(6),l=r(3),d=r(30),f=r(31),m=r(32);let o=1e3,a=9,s=new WeakSet;function h(D){return{width:D[2]-D[0],height:D[3]-D[1]}}class u{static create(g){switch(g.data.annotationType){case n.AnnotationType.LINK:return new p(g);case n.AnnotationType.TEXT:return new b(g);case n.AnnotationType.WIDGET:switch(g.data.fieldType){case"Tx":return new w(g);case"Btn":return g.data.radioButton?new _(g):g.data.checkBox?new T(g):new P(g);case"Ch":return new B(g);case"Sig":return new x(g)}return new v(g);case n.AnnotationType.POPUP:return new V(g);case n.AnnotationType.FREETEXT:return new q(g);case n.AnnotationType.LINE:return new U(g);case n.AnnotationType.SQUARE:return new Q(g);case n.AnnotationType.CIRCLE:return new ee(g);case n.AnnotationType.POLYLINE:return new $(g);case n.AnnotationType.CARET:return new J(g);case n.AnnotationType.INK:return new j(g);case n.AnnotationType.POLYGON:return new ie(g);case n.AnnotationType.HIGHLIGHT:return new k(g);case n.AnnotationType.UNDERLINE:return new E(g);case n.AnnotationType.SQUIGGLY:return new y(g);case n.AnnotationType.STRIKEOUT:return new M(g);case n.AnnotationType.STAMP:return new O(g);case n.AnnotationType.FILEATTACHMENT:return new L(g);default:return new c(g)}}}class c{#e=!1;constructor(g,{isRenderable:S=!1,ignoreBorder:A=!1,createQuadrilaterals:R=!1}={}){this.isRenderable=S,this.data=g.data,this.layer=g.layer,this.linkService=g.linkService,this.downloadManager=g.downloadManager,this.imageResourcesPath=g.imageResourcesPath,this.renderForms=g.renderForms,this.svgFactory=g.svgFactory,this.annotationStorage=g.annotationStorage,this.enableScripting=g.enableScripting,this.hasJSActions=g.hasJSActions,this._fieldObjects=g.fieldObjects,this.parent=g.parent,S&&(this.container=this._createContainer(A)),R&&this._createQuadrilaterals()}static _hasPopupData({titleObj:g,contentsObj:S,richText:A}){return!!(g?.str||S?.str||A?.str)}get hasPopupData(){return c._hasPopupData(this.data)}_createContainer(g){let{data:S,parent:{page:A,viewport:R}}=this,F=document.createElement("section");F.setAttribute("data-annotation-id",S.id),this instanceof v||(F.tabIndex=o),F.style.zIndex=this.parent.zIndex++,this.data.popupRef&&F.setAttribute("aria-haspopup","dialog"),S.noRotate&&F.classList.add("norotate");let{pageWidth:z,pageHeight:W,pageX:G,pageY:Z}=R.rawDims;if(!S.rect||this instanceof V){let{rotation:ae}=S;return!S.hasOwnCanvas&&ae!==0&&this.setRotation(ae,F),F}let{width:X,height:Y}=h(S.rect),re=n.Util.normalizeRect([S.rect[0],A.view[3]-S.rect[1]+A.view[1],S.rect[2],A.view[3]-S.rect[3]+A.view[1]]);if(!g&&S.borderStyle.width>0){F.style.borderWidth=`${S.borderStyle.width}px`;let ae=S.borderStyle.horizontalCornerRadius,de=S.borderStyle.verticalCornerRadius;if(ae>0||de>0){let me=`calc(${ae}px * var(--scale-factor)) / calc(${de}px * var(--scale-factor))`;F.style.borderRadius=me}else if(this instanceof _){let me=`calc(${X}px * var(--scale-factor)) / calc(${Y}px * var(--scale-factor))`;F.style.borderRadius=me}switch(S.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:F.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:F.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:F.style.borderBottomStyle="solid";break;default:break}let oe=S.borderColor||null;oe?(this.#e=!0,F.style.borderColor=n.Util.makeHexColor(oe[0]|0,oe[1]|0,oe[2]|0)):F.style.borderWidth=0}F.style.left=`${100*(re[0]-G)/z}%`,F.style.top=`${100*(re[1]-Z)/W}%`;let{rotation:ne}=S;return S.hasOwnCanvas||ne===0?(F.style.width=`${100*X/z}%`,F.style.height=`${100*Y/W}%`):this.setRotation(ne,F),F}setRotation(g,S=this.container){if(!this.data.rect)return;let{pageWidth:A,pageHeight:R}=this.parent.viewport.rawDims,{width:F,height:z}=h(this.data.rect),W,G;g%180===0?(W=100*F/A,G=100*z/R):(W=100*z/A,G=100*F/R),S.style.width=`${W}%`,S.style.height=`${G}%`,S.setAttribute("data-main-rotation",(360-g)%360)}get _commonActions(){let g=(S,A,R)=>{let F=R.detail[S],z=F[0],W=F.slice(1);R.target.style[A]=d.ColorConverters[`${z}_HTML`](W),this.annotationStorage.setValue(this.data.id,{[A]:d.ColorConverters[`${z}_rgb`](W)})};return(0,n.shadow)(this,"_commonActions",{display:S=>{let{display:A}=S.detail,R=A%2===1;this.container.style.visibility=R?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:R,noPrint:A===1||A===2})},print:S=>{this.annotationStorage.setValue(this.data.id,{noPrint:!S.detail.print})},hidden:S=>{let{hidden:A}=S.detail;this.container.style.visibility=A?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:A,noView:A})},focus:S=>{setTimeout(()=>S.target.focus({preventScroll:!1}),0)},userName:S=>{S.target.title=S.detail.userName},readonly:S=>{S.target.disabled=S.detail.readonly},required:S=>{this._setRequired(S.target,S.detail.required)},bgColor:S=>{g("bgColor","backgroundColor",S)},fillColor:S=>{g("fillColor","backgroundColor",S)},fgColor:S=>{g("fgColor","color",S)},textColor:S=>{g("textColor","color",S)},borderColor:S=>{g("borderColor","borderColor",S)},strokeColor:S=>{g("strokeColor","borderColor",S)},rotation:S=>{let A=S.detail.rotation;this.setRotation(A),this.annotationStorage.setValue(this.data.id,{rotation:A})}})}_dispatchEventFromSandbox(g,S){let A=this._commonActions;for(let R of Object.keys(S.detail))(g[R]||A[R])?.(S)}_setDefaultPropertiesFromJS(g){if(!this.enableScripting)return;let S=this.annotationStorage.getRawValue(this.data.id);if(!S)return;let A=this._commonActions;for(let[R,F]of Object.entries(S)){let z=A[R];if(z){let W={detail:{[R]:F},target:g};z(W),delete S[R]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:g}=this.data;if(!g)return;let[S,A,R,F]=this.data.rect;if(g.length===1){let[,{x:de,y:oe},{x:me,y:fe}]=g[0];if(R===de&&F===oe&&S===me&&A===fe)return}let{style:z}=this.container,W;if(this.#e){let{borderColor:de,borderWidth:oe}=z;z.borderWidth=0,W=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${de}" stroke-width="${oe}">`],this.container.classList.add("hasBorder")}let G=R-S,Z=F-A,{svgFactory:X}=this,Y=X.createElement("svg");Y.classList.add("quadrilateralsContainer"),Y.setAttribute("width",0),Y.setAttribute("height",0);let re=X.createElement("defs");Y.append(re);let ne=X.createElement("clipPath"),ae=`clippath_${this.data.id}`;ne.setAttribute("id",ae),ne.setAttribute("clipPathUnits","objectBoundingBox"),re.append(ne);for(let[,{x:de,y:oe},{x:me,y:fe}]of g){let ve=X.createElement("rect"),Ae=(me-S)/G,ke=(F-oe)/Z,Xe=(de-me)/G,yt=(oe-fe)/Z;ve.setAttribute("x",Ae),ve.setAttribute("y",ke),ve.setAttribute("width",Xe),ve.setAttribute("height",yt),ne.append(ve),W?.push(`<rect vector-effect="non-scaling-stroke" x="${Ae}" y="${ke}" width="${Xe}" height="${yt}"/>`)}this.#e&&(W.push("</g></svg>')"),z.backgroundImage=W.join("")),this.container.append(Y),this.container.style.clipPath=`url(#${ae})`}_createPopup(){let{container:g,data:S}=this;g.setAttribute("aria-haspopup","dialog");let A=new V({data:{color:S.color,titleObj:S.titleObj,modificationDate:S.modificationDate,contentsObj:S.contentsObj,richText:S.richText,parentRect:S.rect,borderStyle:0,id:`popup_${S.id}`,rotation:S.rotation},parent:this.parent,elements:[this]});this.parent.div.append(A.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(g,S=null){let A=[];if(this._fieldObjects){let R=this._fieldObjects[g];if(R)for(let{page:F,id:z,exportValues:W}of R){if(F===-1||z===S)continue;let G=typeof W=="string"?W:null,Z=document.querySelector(`[data-element-id="${z}"]`);if(Z&&!s.has(Z)){(0,n.warn)(`_getElementsByName - element not allowed: ${z}`);continue}A.push({id:z,exportValue:G,domElement:Z})}return A}for(let R of document.getElementsByName(g)){let{exportValue:F}=R,z=R.getAttribute("data-element-id");z!==S&&s.has(R)&&A.push({id:z,exportValue:F,domElement:R})}return A}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let g=this.getElementsToTriggerPopup();if(Array.isArray(g))for(let S of g)S.classList.add("highlightArea");else g.classList.add("highlightArea")}_editOnDoubleClick(){let{annotationEditorType:g,data:{id:S}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:g,editId:S})})}}class p extends c{constructor(g,S=null){super(g,{isRenderable:!0,ignoreBorder:!!S?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=g.data.isTooltipOnly}render(){let{data:g,linkService:S}=this,A=document.createElement("a");A.setAttribute("data-element-id",g.id);let R=!1;return g.url?(S.addLinkAttributes(A,g.url,g.newWindow),R=!0):g.action?(this._bindNamedAction(A,g.action),R=!0):g.attachment?(this._bindAttachment(A,g.attachment),R=!0):g.setOCGState?(this.#t(A,g.setOCGState),R=!0):g.dest?(this._bindLink(A,g.dest),R=!0):(g.actions&&(g.actions.Action||g.actions["Mouse Up"]||g.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(A,g),R=!0),g.resetForm?(this._bindResetFormAction(A,g.resetForm),R=!0):this.isTooltipOnly&&!R&&(this._bindLink(A,""),R=!0)),this.container.classList.add("linkAnnotation"),R&&this.container.append(A),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(g,S){g.href=this.linkService.getDestinationHash(S),g.onclick=()=>(S&&this.linkService.goToDestination(S),!1),(S||S==="")&&this.#e()}_bindNamedAction(g,S){g.href=this.linkService.getAnchorUrl(""),g.onclick=()=>(this.linkService.executeNamedAction(S),!1),this.#e()}_bindAttachment(g,S){g.href=this.linkService.getAnchorUrl(""),g.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,S.content,S.filename),!1),this.#e()}#t(g,S){g.href=this.linkService.getAnchorUrl(""),g.onclick=()=>(this.linkService.executeSetOCGState(S),!1),this.#e()}_bindJSAction(g,S){g.href=this.linkService.getAnchorUrl("");let A=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let R of Object.keys(S.actions)){let F=A.get(R);F&&(g[F]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S.id,name:R}}),!1))}g.onclick||(g.onclick=()=>!1),this.#e()}_bindResetFormAction(g,S){let A=g.onclick;if(A||(g.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),A||(g.onclick=()=>!1);return}g.onclick=()=>{A?.();let{fields:R,refs:F,include:z}=S,W=[];if(R.length!==0||F.length!==0){let X=new Set(F);for(let Y of R){let re=this._fieldObjects[Y]||[];for(let{id:ne}of re)X.add(ne)}for(let Y of Object.values(this._fieldObjects))for(let re of Y)X.has(re.id)===z&&W.push(re)}else for(let X of Object.values(this._fieldObjects))W.push(...X);let G=this.annotationStorage,Z=[];for(let X of W){let{id:Y}=X;switch(Z.push(Y),X.type){case"text":{let ne=X.defaultValue||"";G.setValue(Y,{value:ne});break}case"checkbox":case"radiobutton":{let ne=X.defaultValue===X.exportValues;G.setValue(Y,{value:ne});break}case"combobox":case"listbox":{let ne=X.defaultValue||"";G.setValue(Y,{value:ne});break}default:continue}let re=document.querySelector(`[data-element-id="${Y}"]`);if(re){if(!s.has(re)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${Y}`);continue}}else continue;re.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Z,name:"ResetForm"}}),!1}}}class b extends c{constructor(g){super(g,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let g=document.createElement("img");return g.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",g.alt="[{{type}} Annotation]",g.dataset.l10nId="text_annotation_type",g.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(g),this.container}}class v extends c{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(g){this.data.hasOwnCanvas&&(g.previousSibling?.nodeName==="CANVAS"&&(g.previousSibling.hidden=!0),g.hidden=!1)}_getKeyModifier(g){let{isWin:S,isMac:A}=n.FeatureTest.platform;return S&&g.ctrlKey||A&&g.metaKey}_setEventListener(g,S,A,R,F){A.includes("mouse")?g.addEventListener(A,z=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:R,value:F(z),shift:z.shiftKey,modifier:this._getKeyModifier(z)}})}):g.addEventListener(A,z=>{if(A==="blur"){if(!S.focused||!z.relatedTarget)return;S.focused=!1}else if(A==="focus"){if(S.focused)return;S.focused=!0}F&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:R,value:F(z)}})})}_setEventListeners(g,S,A,R){for(let[F,z]of A)(z==="Action"||this.data.actions?.[z])&&((z==="Focus"||z==="Blur")&&(S||={focused:!1}),this._setEventListener(g,S,F,z,R),z==="Focus"&&!this.data.actions?.Blur?this._setEventListener(g,S,"blur","Blur",null):z==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(g,S,"focus","Focus",null))}_setBackgroundColor(g){let S=this.data.backgroundColor||null;g.style.backgroundColor=S===null?"transparent":n.Util.makeHexColor(S[0],S[1],S[2])}_setTextStyle(g){let S=["left","center","right"],{fontColor:A}=this.data.defaultAppearanceData,R=this.data.defaultAppearanceData.fontSize||a,F=g.style,z,W=2,G=Z=>Math.round(10*Z)/10;if(this.data.multiLine){let Z=Math.abs(this.data.rect[3]-this.data.rect[1]-W),X=Math.round(Z/(n.LINE_FACTOR*R))||1,Y=Z/X;z=Math.min(R,G(Y/n.LINE_FACTOR))}else{let Z=Math.abs(this.data.rect[3]-this.data.rect[1]-W);z=Math.min(R,G(Z/n.LINE_FACTOR))}F.fontSize=`calc(${z}px * var(--scale-factor))`,F.color=n.Util.makeHexColor(A[0],A[1],A[2]),this.data.textAlignment!==null&&(F.textAlign=S[this.data.textAlignment])}_setRequired(g,S){S?g.setAttribute("required",!0):g.removeAttribute("required"),g.setAttribute("aria-required",S)}}class w extends v{constructor(g){let S=g.renderForms||!g.data.hasAppearance&&!!g.data.fieldValue;super(g,{isRenderable:S})}setPropertyOnSiblings(g,S,A,R){let F=this.annotationStorage;for(let z of this._getElementsByName(g.name,g.id))z.domElement&&(z.domElement[S]=A),F.setValue(z.id,{[R]:A})}render(){let g=this.annotationStorage,S=this.data.id;this.container.classList.add("textWidgetAnnotation");let A=null;if(this.renderForms){let R=g.getValue(S,{value:this.data.fieldValue}),F=R.value||"",z=g.getValue(S,{charLimit:this.data.maxLen}).charLimit;z&&F.length>z&&(F=F.slice(0,z));let W=R.formattedValue||this.data.textContent?.join(`
`)||null;W&&this.data.comb&&(W=W.replaceAll(/\s+/g,""));let G={userValue:F,formattedValue:W,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(A=document.createElement("textarea"),A.textContent=W??F,this.data.doNotScroll&&(A.style.overflowY="hidden")):(A=document.createElement("input"),A.type="text",A.setAttribute("value",W??F),this.data.doNotScroll&&(A.style.overflowX="hidden")),this.data.hasOwnCanvas&&(A.hidden=!0),s.add(A),A.setAttribute("data-element-id",S),A.disabled=this.data.readOnly,A.name=this.data.fieldName,A.tabIndex=o,this._setRequired(A,this.data.required),z&&(A.maxLength=z),A.addEventListener("input",X=>{g.setValue(S,{value:X.target.value}),this.setPropertyOnSiblings(A,"value",X.target.value,"value"),G.formattedValue=null}),A.addEventListener("resetform",X=>{let Y=this.data.defaultFieldValue??"";A.value=G.userValue=Y,G.formattedValue=null});let Z=X=>{let{formattedValue:Y}=G;Y!=null&&(X.target.value=Y),X.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){A.addEventListener("focus",Y=>{if(G.focused)return;let{target:re}=Y;G.userValue&&(re.value=G.userValue),G.lastCommittedValue=re.value,G.commitKey=1,G.focused=!0}),A.addEventListener("updatefromsandbox",Y=>{this.showElementAndHideCanvas(Y.target);let re={value(ne){G.userValue=ne.detail.value??"",g.setValue(S,{value:G.userValue.toString()}),ne.target.value=G.userValue},formattedValue(ne){let{formattedValue:ae}=ne.detail;G.formattedValue=ae,ae!=null&&ne.target!==document.activeElement&&(ne.target.value=ae),g.setValue(S,{formattedValue:ae})},selRange(ne){ne.target.setSelectionRange(...ne.detail.selRange)},charLimit:ne=>{let{charLimit:ae}=ne.detail,{target:de}=ne;if(ae===0){de.removeAttribute("maxLength");return}de.setAttribute("maxLength",ae);let oe=G.userValue;!oe||oe.length<=ae||(oe=oe.slice(0,ae),de.value=G.userValue=oe,g.setValue(S,{value:oe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:oe,willCommit:!0,commitKey:1,selStart:de.selectionStart,selEnd:de.selectionEnd}}))}};this._dispatchEventFromSandbox(re,Y)}),A.addEventListener("keydown",Y=>{G.commitKey=1;let re=-1;if(Y.key==="Escape"?re=0:Y.key==="Enter"&&!this.data.multiLine?re=2:Y.key==="Tab"&&(G.commitKey=3),re===-1)return;let{value:ne}=Y.target;G.lastCommittedValue!==ne&&(G.lastCommittedValue=ne,G.userValue=ne,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:ne,willCommit:!0,commitKey:re,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}))});let X=Z;Z=null,A.addEventListener("blur",Y=>{if(!G.focused||!Y.relatedTarget)return;G.focused=!1;let{value:re}=Y.target;G.userValue=re,G.lastCommittedValue!==re&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:re,willCommit:!0,commitKey:G.commitKey,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}),X(Y)}),this.data.actions?.Keystroke&&A.addEventListener("beforeinput",Y=>{G.lastCommittedValue=null;let{data:re,target:ne}=Y,{value:ae,selectionStart:de,selectionEnd:oe}=ne,me=de,fe=oe;switch(Y.inputType){case"deleteWordBackward":{let ve=ae.substring(0,de).match(/\w*[^\w]*$/);ve&&(me-=ve[0].length);break}case"deleteWordForward":{let ve=ae.substring(de).match(/^[^\w]*\w*/);ve&&(fe+=ve[0].length);break}case"deleteContentBackward":de===oe&&(me-=1);break;case"deleteContentForward":de===oe&&(fe+=1);break}Y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:ae,change:re||"",willCommit:!1,selStart:me,selEnd:fe}})}),this._setEventListeners(A,G,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.value)}if(Z&&A.addEventListener("blur",Z),this.data.comb){let Y=(this.data.rect[2]-this.data.rect[0])/z;A.classList.add("comb"),A.style.letterSpacing=`calc(${Y}px * var(--scale-factor) - 1ch)`}}else A=document.createElement("div"),A.textContent=this.data.fieldValue,A.style.verticalAlign="middle",A.style.display="table-cell";return this._setTextStyle(A),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}class x extends v{constructor(g){super(g,{isRenderable:!!g.data.hasOwnCanvas})}}class T extends v{constructor(g){super(g,{isRenderable:g.renderForms})}render(){let g=this.annotationStorage,S=this.data,A=S.id,R=g.getValue(A,{value:S.exportValue===S.fieldValue}).value;typeof R=="string"&&(R=R!=="Off",g.setValue(A,{value:R})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let F=document.createElement("input");return s.add(F),F.setAttribute("data-element-id",A),F.disabled=S.readOnly,this._setRequired(F,this.data.required),F.type="checkbox",F.name=S.fieldName,R&&F.setAttribute("checked",!0),F.setAttribute("exportValue",S.exportValue),F.tabIndex=o,F.addEventListener("change",z=>{let{name:W,checked:G}=z.target;for(let Z of this._getElementsByName(W,A)){let X=G&&Z.exportValue===S.exportValue;Z.domElement&&(Z.domElement.checked=X),g.setValue(Z.id,{value:X})}g.setValue(A,{value:G})}),F.addEventListener("resetform",z=>{let W=S.defaultFieldValue||"Off";z.target.checked=W===S.exportValue}),this.enableScripting&&this.hasJSActions&&(F.addEventListener("updatefromsandbox",z=>{let W={value(G){G.target.checked=G.detail.value!=="Off",g.setValue(A,{value:G.target.checked})}};this._dispatchEventFromSandbox(W,z)}),this._setEventListeners(F,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],z=>z.target.checked)),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class _ extends v{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let g=this.annotationStorage,S=this.data,A=S.id,R=g.getValue(A,{value:S.fieldValue===S.buttonValue}).value;typeof R=="string"&&(R=R!==S.buttonValue,g.setValue(A,{value:R}));let F=document.createElement("input");if(s.add(F),F.setAttribute("data-element-id",A),F.disabled=S.readOnly,this._setRequired(F,this.data.required),F.type="radio",F.name=S.fieldName,R&&F.setAttribute("checked",!0),F.tabIndex=o,F.addEventListener("change",z=>{let{name:W,checked:G}=z.target;for(let Z of this._getElementsByName(W,A))g.setValue(Z.id,{value:!1});g.setValue(A,{value:G})}),F.addEventListener("resetform",z=>{let W=S.defaultFieldValue;z.target.checked=W!=null&&W===S.buttonValue}),this.enableScripting&&this.hasJSActions){let z=S.buttonValue;F.addEventListener("updatefromsandbox",W=>{let G={value:Z=>{let X=z===Z.detail.value;for(let Y of this._getElementsByName(Z.target.name)){let re=X&&Y.id===A;Y.domElement&&(Y.domElement.checked=re),g.setValue(Y.id,{value:re})}}};this._dispatchEventFromSandbox(G,W)}),this._setEventListeners(F,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)}return this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class P extends p{constructor(g){super(g,{ignoreBorder:g.data.hasAppearance})}render(){let g=super.render();g.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(g.title=this.data.alternativeText);let S=g.lastChild;return this.enableScripting&&this.hasJSActions&&S&&(this._setDefaultPropertiesFromJS(S),S.addEventListener("updatefromsandbox",A=>{this._dispatchEventFromSandbox({},A)})),g}}class B extends v{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let g=this.annotationStorage,S=this.data.id,A=g.getValue(S,{value:this.data.fieldValue}),R=document.createElement("select");s.add(R),R.setAttribute("data-element-id",S),R.disabled=this.data.readOnly,this._setRequired(R,this.data.required),R.name=this.data.fieldName,R.tabIndex=o;let F=this.data.combo&&this.data.options.length>0;this.data.combo||(R.size=this.data.options.length,this.data.multiSelect&&(R.multiple=!0)),R.addEventListener("resetform",X=>{let Y=this.data.defaultFieldValue;for(let re of R.options)re.selected=re.value===Y});for(let X of this.data.options){let Y=document.createElement("option");Y.textContent=X.displayValue,Y.value=X.exportValue,A.value.includes(X.exportValue)&&(Y.setAttribute("selected",!0),F=!1),R.append(Y)}let z=null;if(F){let X=document.createElement("option");X.value=" ",X.setAttribute("hidden",!0),X.setAttribute("selected",!0),R.prepend(X),z=()=>{X.remove(),R.removeEventListener("input",z),z=null},R.addEventListener("input",z)}let W=X=>{let Y=X?"value":"textContent",{options:re,multiple:ne}=R;return ne?Array.prototype.filter.call(re,ae=>ae.selected).map(ae=>ae[Y]):re.selectedIndex===-1?null:re[re.selectedIndex][Y]},G=W(!1),Z=X=>{let Y=X.target.options;return Array.prototype.map.call(Y,re=>({displayValue:re.textContent,exportValue:re.value}))};return this.enableScripting&&this.hasJSActions?(R.addEventListener("updatefromsandbox",X=>{let Y={value(re){z?.();let ne=re.detail.value,ae=new Set(Array.isArray(ne)?ne:[ne]);for(let de of R.options)de.selected=ae.has(de.value);g.setValue(S,{value:W(!0)}),G=W(!1)},multipleSelection(re){R.multiple=!0},remove(re){let ne=R.options,ae=re.detail.remove;ne[ae].selected=!1,R.remove(ae),ne.length>0&&Array.prototype.findIndex.call(ne,oe=>oe.selected)===-1&&(ne[0].selected=!0),g.setValue(S,{value:W(!0),items:Z(re)}),G=W(!1)},clear(re){for(;R.length!==0;)R.remove(0);g.setValue(S,{value:null,items:[]}),G=W(!1)},insert(re){let{index:ne,displayValue:ae,exportValue:de}=re.detail.insert,oe=R.children[ne],me=document.createElement("option");me.textContent=ae,me.value=de,oe?oe.before(me):R.append(me),g.setValue(S,{value:W(!0),items:Z(re)}),G=W(!1)},items(re){let{items:ne}=re.detail;for(;R.length!==0;)R.remove(0);for(let ae of ne){let{displayValue:de,exportValue:oe}=ae,me=document.createElement("option");me.textContent=de,me.value=oe,R.append(me)}R.options.length>0&&(R.options[0].selected=!0),g.setValue(S,{value:W(!0),items:Z(re)}),G=W(!1)},indices(re){let ne=new Set(re.detail.indices);for(let ae of re.target.options)ae.selected=ne.has(ae.index);g.setValue(S,{value:W(!0)}),G=W(!1)},editable(re){re.target.disabled=!re.detail.editable}};this._dispatchEventFromSandbox(Y,X)}),R.addEventListener("input",X=>{let Y=W(!0);g.setValue(S,{value:Y}),X.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:G,changeEx:Y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(R,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],X=>X.target.value)):R.addEventListener("input",function(X){g.setValue(S,{value:W(!0)})}),this.data.combo&&this._setTextStyle(R),this._setBackgroundColor(R),this._setDefaultPropertiesFromJS(R),this.container.append(R),this.container}}class V extends c{constructor(g){let{data:S,elements:A}=g;super(g,{isRenderable:c._hasPopupData(S)}),this.elements=A}render(){this.container.classList.add("popupAnnotation");let g=new N({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),S=[];for(let A of this.elements)A.popup=g,S.push(A.data.id),A.addHighlightArea();return this.container.setAttribute("aria-controls",S.map(A=>`${n.AnnotationPrefix}${A}`).join(",")),this.container}}class N{#e=null;#t=this.#u.bind(this);#n=this.#S.bind(this);#r=this.#w.bind(this);#s=this.#b.bind(this);#o=null;#a=null;#c=null;#l=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#g=null;#m=!1;constructor({container:g,color:S,elements:A,titleObj:R,modificationDate:F,contentsObj:z,richText:W,parent:G,rect:Z,parentRect:X,open:Y}){this.#a=g,this.#g=R,this.#c=z,this.#v=W,this.#i=G,this.#o=S,this.#p=Z,this.#f=X,this.#l=A;let re=i.PDFDateString.toDateObject(F);re&&(this.#e=G.l10n.get("annotation_date_string",{date:re.toLocaleDateString(),time:re.toLocaleTimeString()})),this.trigger=A.flatMap(ne=>ne.getElementsToTriggerPopup());for(let ne of this.trigger)ne.addEventListener("click",this.#s),ne.addEventListener("mouseenter",this.#r),ne.addEventListener("mouseleave",this.#n),ne.classList.add("popupTriggerArea");for(let ne of A)ne.container?.addEventListener("keydown",this.#t);this.#a.hidden=!0,Y&&this.#b()}render(){if(this.#h)return;let{page:{view:g},viewport:{rawDims:{pageWidth:S,pageHeight:A,pageX:R,pageY:F}}}=this.#i,z=this.#h=document.createElement("div");if(z.className="popup",this.#o){let ve=z.style.outlineColor=n.Util.makeHexColor(...this.#o);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?z.style.backgroundColor=`color-mix(in srgb, ${ve} 30%, white)`:z.style.backgroundColor=n.Util.makeHexColor(...this.#o.map(ke=>Math.floor(.7*(255-ke)+ke)))}let W=document.createElement("span");W.className="header";let G=document.createElement("h1");if(W.append(G),{dir:G.dir,str:G.textContent}=this.#g,z.append(W),this.#e){let ve=document.createElement("span");ve.classList.add("popupDate"),this.#e.then(Ae=>{ve.textContent=Ae}),W.append(ve)}let Z=this.#c,X=this.#v;if(X?.str&&(!Z?.str||Z.str===X.str))m.XfaLayer.render({xfaHtml:X.html,intent:"richText",div:z}),z.lastChild.classList.add("richText","popupContent");else{let ve=this._formatContents(Z);z.append(ve)}let Y=!!this.#f,re=Y?this.#f:this.#p;for(let ve of this.#l)if(!re||n.Util.intersect(ve.data.rect,re)!==null){re=ve.data.rect,Y=!0;break}let ne=n.Util.normalizeRect([re[0],g[3]-re[1]+g[1],re[2],g[3]-re[3]+g[1]]),ae=5,de=Y?re[2]-re[0]+ae:0,oe=ne[0]+de,me=ne[1],{style:fe}=this.#a;fe.left=`${100*(oe-R)/S}%`,fe.top=`${100*(me-F)/A}%`,this.#a.append(z)}_formatContents({str:g,dir:S}){let A=document.createElement("p");A.classList.add("popupContent"),A.dir=S;let R=g.split(/(?:\r\n?|\n)/);for(let F=0,z=R.length;F<z;++F){let W=R[F];A.append(document.createTextNode(W)),F<z-1&&A.append(document.createElement("br"))}return A}#u(g){g.altKey||g.shiftKey||g.ctrlKey||g.metaKey||(g.key==="Enter"||g.key==="Escape"&&this.#d)&&this.#b()}#b(){this.#d=!this.#d,this.#d?(this.#w(),this.#a.addEventListener("click",this.#s),this.#a.addEventListener("keydown",this.#t)):(this.#S(),this.#a.removeEventListener("click",this.#s),this.#a.removeEventListener("keydown",this.#t))}#w(){this.#h||this.render(),this.isVisible?this.#d&&this.#a.classList.add("focused"):(this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#S(){this.#a.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#a.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#a.hidden=!1)}get isVisible(){return this.#a.hidden===!1}}class q extends c{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0}),this.textContent=g.data.textContent,this.textPosition=g.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let g=document.createElement("div");g.classList.add("annotationTextContent"),g.setAttribute("role","comment");for(let S of this.textContent){let A=document.createElement("span");A.textContent=S,g.append(A)}this.container.append(g)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=q;class U extends c{#e=null;constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let g=this.data,{width:S,height:A}=h(g.rect),R=this.svgFactory.create(S,A,!0),F=this.#e=this.svgFactory.createElement("svg:line");return F.setAttribute("x1",g.rect[2]-g.lineCoordinates[0]),F.setAttribute("y1",g.rect[3]-g.lineCoordinates[1]),F.setAttribute("x2",g.rect[2]-g.lineCoordinates[2]),F.setAttribute("y2",g.rect[3]-g.lineCoordinates[3]),F.setAttribute("stroke-width",g.borderStyle.width||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","transparent"),R.append(F),this.container.append(R),!g.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Q extends c{#e=null;constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let g=this.data,{width:S,height:A}=h(g.rect),R=this.svgFactory.create(S,A,!0),F=g.borderStyle.width,z=this.#e=this.svgFactory.createElement("svg:rect");return z.setAttribute("x",F/2),z.setAttribute("y",F/2),z.setAttribute("width",S-F),z.setAttribute("height",A-F),z.setAttribute("stroke-width",F||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),R.append(z),this.container.append(R),!g.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ee extends c{#e=null;constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let g=this.data,{width:S,height:A}=h(g.rect),R=this.svgFactory.create(S,A,!0),F=g.borderStyle.width,z=this.#e=this.svgFactory.createElement("svg:ellipse");return z.setAttribute("cx",S/2),z.setAttribute("cy",A/2),z.setAttribute("rx",S/2-F/2),z.setAttribute("ry",A/2-F/2),z.setAttribute("stroke-width",F||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),R.append(z),this.container.append(R),!g.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class $ extends c{#e=null;constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let g=this.data,{width:S,height:A}=h(g.rect),R=this.svgFactory.create(S,A,!0),F=[];for(let W of g.vertices){let G=W.x-g.rect[0],Z=g.rect[3]-W.y;F.push(G+","+Z)}F=F.join(" ");let z=this.#e=this.svgFactory.createElement(this.svgElementName);return z.setAttribute("points",F),z.setAttribute("stroke-width",g.borderStyle.width||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),R.append(z),this.container.append(R),!g.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ie extends ${constructor(g){super(g),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class J extends c{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class j extends c{#e=[];constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let g=this.data,{width:S,height:A}=h(g.rect),R=this.svgFactory.create(S,A,!0);for(let F of g.inkLists){let z=[];for(let G of F){let Z=G.x-g.rect[0],X=g.rect[3]-G.y;z.push(`${Z},${X}`)}z=z.join(" ");let W=this.svgFactory.createElement(this.svgElementName);this.#e.push(W),W.setAttribute("points",z),W.setAttribute("stroke-width",g.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),!g.popupRef&&this.hasPopupData&&this._createPopup(),R.append(W)}return this.container.append(R),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}e.InkAnnotationElement=j;class k extends c{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class E extends c{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class y extends c{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class M extends c{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class O extends c{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=O;class L extends c{#e=null;constructor(g){super(g,{isRenderable:!0});let{filename:S,content:A}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(S,!0),this.content=A,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:S,content:A})}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:g,data:S}=this,A;S.hasAppearance||S.fillAlpha===0?A=document.createElement("div"):(A=document.createElement("img"),A.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(S.name)?"paperclip":"pushpin"}.svg`,S.fillAlpha&&S.fillAlpha<1&&(A.style=`filter: opacity(${Math.round(S.fillAlpha*100)}%);`)),A.addEventListener("dblclick",this.#t.bind(this)),this.#e=A;let{isMac:R}=n.FeatureTest.platform;return g.addEventListener("keydown",F=>{F.key==="Enter"&&(R?F.metaKey:F.ctrlKey)&&this.#t()}),!S.popupRef&&this.hasPopupData?this._createPopup():A.classList.add("popupTriggerArea"),g.append(A),g}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class I{#e=null;#t=null;#n=new Map;constructor({div:g,accessibilityManager:S,annotationCanvasMap:A,l10n:R,page:F,viewport:z}){this.div=g,this.#e=S,this.#t=A,this.l10n=R,this.page=F,this.viewport=z,this.zIndex=0,this.l10n||=f.NullL10n}#r(g,S){let A=g.firstChild||g;A.id=`${n.AnnotationPrefix}${S}`,this.div.append(g),this.#e?.moveElementInDOM(this.div,g,A,!1)}async render(g){let{annotations:S}=g,A=this.div;(0,i.setLayerDimensions)(A,this.viewport);let R=new Map,F={data:null,layer:A,linkService:g.linkService,downloadManager:g.downloadManager,imageResourcesPath:g.imageResourcesPath||"",renderForms:g.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:g.annotationStorage||new l.AnnotationStorage,enableScripting:g.enableScripting===!0,hasJSActions:g.hasJSActions,fieldObjects:g.fieldObjects,parent:this,elements:null};for(let z of S){if(z.noHTML)continue;let W=z.annotationType===n.AnnotationType.POPUP;if(W){let X=R.get(z.id);if(!X)continue;F.elements=X}else{let{width:X,height:Y}=h(z.rect);if(X<=0||Y<=0)continue}F.data=z;let G=u.create(F);if(!G.isRenderable)continue;if(!W&&z.popupRef){let X=R.get(z.popupRef);X?X.push(G):R.set(z.popupRef,[G])}G.annotationEditorType>0&&this.#n.set(G.data.id,G);let Z=G.render();z.hidden&&(Z.style.visibility="hidden"),this.#r(Z,z.id)}this.#s(),await this.l10n.translate(A)}update({viewport:g}){let S=this.div;this.viewport=g,(0,i.setLayerDimensions)(S,{rotation:g.rotation}),this.#s(),S.hidden=!1}#s(){if(!this.#t)return;let g=this.div;for(let[S,A]of this.#t){let R=g.querySelector(`[data-annotation-id="${S}"]`);if(!R)continue;let{firstChild:F}=R;F?F.nodeName==="CANVAS"?F.replaceWith(A):F.before(A):R.append(A)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(g){return this.#n.get(g)}}e.AnnotationLayer=I},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function r(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function n(l){return Math.max(0,Math.min(255,255*l))}class i{static CMYK_G([d,f,m,o]){return["G",1-Math.min(1,.3*d+.59*m+.11*f+o)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=n(d),[d,d,d]}static G_HTML([d]){let f=r(d);return`#${f}${f}${f}`}static RGB_G([d,f,m]){return["G",.3*d+.59*f+.11*m]}static RGB_rgb(d){return d.map(n)}static RGB_HTML(d){return`#${d.map(r).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,f,m,o]){return["RGB",1-Math.min(1,d+o),1-Math.min(1,m+o),1-Math.min(1,f+o)]}static CMYK_rgb([d,f,m,o]){return[n(1-Math.min(1,d+o)),n(1-Math.min(1,m+o)),n(1-Math.min(1,f+o))]}static CMYK_HTML(d){let f=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(f)}static RGB_CMYK([d,f,m]){let o=1-d,a=1-f,s=1-m,h=Math.min(o,a,s);return["CMYK",o,a,s,h]}}e.ColorConverters=i},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=n;let r={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};r.print_progress_percent="{{progress}}%";function n(d,f){switch(d){case"find_match_count":d=`find_match_count[${f.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${f.limit===1?"one":"other"}]`;break}return r[d]||""}function i(d,f){return f?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(m,o)=>o in f?f[o]:"{{"+o+"}}"):d}let l={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,f=null,m=n(d,f)){return i(m,f)},async translate(d){}};e.NullL10n=l},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=r(25);class i{static setupStorage(d,f,m,o,a){let s=o.getValue(f,{value:null});switch(m.name){case"textarea":if(s.value!==null&&(d.textContent=s.value),a==="print")break;d.addEventListener("input",h=>{o.setValue(f,{value:h.target.value})});break;case"input":if(m.attributes.type==="radio"||m.attributes.type==="checkbox"){if(s.value===m.attributes.xfaOn?d.setAttribute("checked",!0):s.value===m.attributes.xfaOff&&d.removeAttribute("checked"),a==="print")break;d.addEventListener("change",h=>{o.setValue(f,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&d.setAttribute("value",s.value),a==="print")break;d.addEventListener("input",h=>{o.setValue(f,{value:h.target.value})})}break;case"select":if(s.value!==null){d.setAttribute("value",s.value);for(let h of m.children)h.attributes.value===s.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}d.addEventListener("input",h=>{let u=h.target.options,c=u.selectedIndex===-1?"":u[u.selectedIndex].value;o.setValue(f,{value:c})});break}}static setAttributes({html:d,element:f,storage:m=null,intent:o,linkService:a}){let{attributes:s}=f,h=d instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${o}`);for(let[u,c]of Object.entries(s))if(c!=null)switch(u){case"class":c.length&&d.setAttribute(u,c.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",c);break;case"style":Object.assign(d.style,c);break;case"textContent":d.textContent=c;break;default:(!h||u!=="href"&&u!=="newWindow")&&d.setAttribute(u,c)}h&&a.addLinkAttributes(d,s.href,s.newWindow),m&&s.dataId&&this.setupStorage(d,s.dataId,f,m)}static render(d){let f=d.annotationStorage,m=d.linkService,o=d.xfaHtml,a=d.intent||"display",s=document.createElement(o.name);o.attributes&&this.setAttributes({html:s,element:o,intent:a,linkService:m});let h=[[o,-1,s]],u=d.div;if(u.append(s),d.viewport){let p=`matrix(${d.viewport.transform.join(",")})`;u.style.transform=p}a!=="richText"&&u.setAttribute("class","xfaLayer xfaFont");let c=[];for(;h.length>0;){let[p,b,v]=h.at(-1);if(b+1===p.children.length){h.pop();continue}let w=p.children[++h.at(-1)[1]];if(w===null)continue;let{name:x}=w;if(x==="#text"){let _=document.createTextNode(w.value);c.push(_),v.append(_);continue}let T=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,x):document.createElement(x);if(v.append(T),w.attributes&&this.setAttributes({html:T,element:w,storage:f,intent:a,linkService:m}),w.children&&w.children.length>0)h.push([w,-1,T]);else if(w.value){let _=document.createTextNode(w.value);n.XfaText.shouldBuildText(x)&&c.push(_),T.append(_)}}for(let p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(d){let f=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=f,d.div.hidden=!1}}e.XfaLayer=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var n=r(1),i=r(4),l=r(29),d=r(6),f=r(5);class m extends i.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#s=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#a=new Path2D;#c=!1;#l=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(a){super({...a,name:"inkEditor"}),this.color=a.color||null,this.thickness=a.thickness||null,this.opacity=a.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(a){i.AnnotationEditor.initialize(a,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(a,s){switch(a){case n.AnnotationEditorParamsType.INK_THICKNESS:m._defaultThickness=s;break;case n.AnnotationEditorParamsType.INK_COLOR:m._defaultColor=s;break;case n.AnnotationEditorParamsType.INK_OPACITY:m._defaultOpacity=s/100;break}}updateParams(a,s){switch(a){case n.AnnotationEditorParamsType.INK_THICKNESS:this.#v(s);break;case n.AnnotationEditorParamsType.INK_COLOR:this.#g(s);break;case n.AnnotationEditorParamsType.INK_OPACITY:this.#m(s);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,m._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,m._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(m._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||m._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||m._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??m._defaultOpacity))]]}#v(a){let s=this.thickness;this.addCommands({cmd:()=>{this.thickness=a,this.#C()},undo:()=>{this.thickness=s,this.#C()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(a){let s=this.color;this.addCommands({cmd:()=>{this.color=a,this.#_()},undo:()=>{this.color=s,this.#_()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(a){a/=100;let s=this.opacity;this.addCommands({cmd:()=>{this.opacity=a,this.#_()},undo:()=>{this.opacity=s,this.#_()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#M(),this.#T()),this.isAttachedToDOM||(this.parent.add(this),this.#E()),this.#C()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(a){!this.parent&&a?this._uiManager.removeShouldRescale(this):this.parent&&a===null&&this._uiManager.addShouldRescale(this),super.setParent(a)}onScaleChanging(){let[a,s]=this.parentDimensions,h=this.width*a,u=this.height*s;this.setDimensions(h,u)}enableEditMode(){this.#c||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#o))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){let{parentRotation:a,parentDimensions:[s,h]}=this;switch(a){case 90:return[0,h,h,s];case 180:return[s,h,s,h];case 270:return[s,0,h,s];default:return[0,0,s,h]}}#b(){let{ctx:a,color:s,opacity:h,thickness:u,parentScale:c,scaleFactor:p}=this;a.lineWidth=u*c/p,a.lineCap="round",a.lineJoin="round",a.miterLimit=10,a.strokeStyle=`${s}${(0,f.opacityToHex)(h)}`}#w(a,s){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#s),this.canvas.removeEventListener("pointerdown",this.#o),this.isEditing=!0,this.#i||(this.#i=!0,this.#E(),this.thickness||=m._defaultThickness,this.color||=m._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=m._defaultOpacity),this.currentPath.push([a,s]),this.#l=!1,this.#b(),this.#p=()=>{this.#I(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#S(a,s){let[h,u]=this.currentPath.at(-1);if(this.currentPath.length>1&&a===h&&s===u)return;let c=this.currentPath,p=this.#a;if(c.push([a,s]),this.#l=!0,c.length<=2){p.moveTo(...c[0]),p.lineTo(a,s);return}c.length===3&&(this.#a=p=new Path2D,p.moveTo(...c[0])),this.#D(p,...c.at(-3),...c.at(-2),a,s)}#P(){if(this.currentPath.length===0)return;let a=this.currentPath.at(-1);this.#a.lineTo(...a)}#k(a,s){this.#p=null,a=Math.min(Math.max(a,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),this.#S(a,s),this.#P();let h;if(this.currentPath.length!==1)h=this.#O();else{let v=[a,s];h=[[v,v.slice(),v.slice(),v]]}let u=this.#a,c=this.currentPath;this.currentPath=[],this.#a=new Path2D;let p=()=>{this.allRawPaths.push(c),this.paths.push(h),this.bezierPath2D.push(u),this.rebuild()},b=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#M(),this.#T()),this.#C())};this.addCommands({cmd:p,undo:b,mustExec:!0})}#I(){if(!this.#l)return;this.#l=!1;let a=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),h=s.map(x=>x[0]),u=s.map(x=>x[1]),c=Math.min(...h)-a,p=Math.max(...h)+a,b=Math.min(...u)-a,v=Math.max(...u)+a,{ctx:w}=this;w.save(),w.clearRect(0,0,this.canvas.width,this.canvas.height);for(let x of this.bezierPath2D)w.stroke(x);w.stroke(this.#a),w.restore()}#D(a,s,h,u,c,p,b){let v=(s+u)/2,w=(h+c)/2,x=(u+p)/2,T=(c+b)/2;a.bezierCurveTo(v+2*(u-v)/3,w+2*(c-w)/3,x+2*(u-x)/3,T+2*(c-T)/3,x,T)}#O(){let a=this.currentPath;if(a.length<=2)return[[a[0],a[0],a.at(-1),a.at(-1)]];let s=[],h,[u,c]=a[0];for(h=1;h<a.length-2;h++){let[_,P]=a[h],[B,V]=a[h+1],N=(_+B)/2,q=(P+V)/2,U=[u+2*(_-u)/3,c+2*(P-c)/3],Q=[N+2*(_-N)/3,q+2*(P-q)/3];s.push([[u,c],U,Q,[N,q]]),[u,c]=[N,q]}let[p,b]=a[h],[v,w]=a[h+1],x=[u+2*(p-u)/3,c+2*(b-c)/3],T=[v+2*(p-v)/3,w+2*(b-w)/3];return s.push([[u,c],x,T,[v,w]]),s}#_(){if(this.isEmpty()){this.#A();return}this.#b();let{canvas:a,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,a.width,a.height),this.#A();for(let h of this.bezierPath2D)s.stroke(h)}commit(){this.#c||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#c=!0,this.div.classList.add("disabled"),this.#C(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(a){this._focusEventsAllowed&&(super.focusin(a),this.enableEditMode())}canvasPointerdown(a){a.button!==0||!this.isInEditMode()||this.#c||(this.setInForeground(),a.preventDefault(),a.type!=="mouse"&&this.div.focus(),this.#w(a.offsetX,a.offsetY))}canvasPointermove(a){a.preventDefault(),this.#S(a.offsetX,a.offsetY)}canvasPointerup(a){a.preventDefault(),this.#L(a)}canvasPointerleave(a){this.#L(a)}#L(a){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#s),this.canvas.addEventListener("pointerdown",this.#o),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),this.#k(a.offsetX,a.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#M(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",i.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(a=>this.canvas?.setAttribute("aria-label",a)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#T(){this.#f=new ResizeObserver(a=>{let s=a[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#c}render(){if(this.div)return this.div;let a,s;this.width&&(a=this.x,s=this.y),super.render(),i.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(b=>this.div?.setAttribute("aria-label",b));let[h,u,c,p]=this.#u();if(this.setAt(h,u,0,0),this.setDims(c,p),this.#M(),this.width){let[b,v]=this.parentDimensions;this.setAspectRatio(this.width*b,this.height*v),this.setAt(a*b,s*v,this.width*b,this.height*v),this.#i=!0,this.#E(),this.setDims(this.width*b,this.height*v),this.#_(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#T(),this.div}#E(){if(!this.#i)return;let[a,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*a),this.canvas.height=Math.ceil(this.height*s),this.#A()}setDimensions(a,s){let h=Math.round(a),u=Math.round(s);if(this.#d===h&&this.#h===u)return;this.#d=h,this.#h=u,this.canvas.style.visibility="hidden";let[c,p]=this.parentDimensions;this.width=a/c,this.height=s/p,this.fixAndSetPosition(),this.#c&&this.#x(a,s),this.#E(),this.#_(),this.canvas.style.visibility="visible",this.fixDims()}#x(a,s){let h=this.#F(),u=(a-h)/this.#t,c=(s-h)/this.#e;this.scaleFactor=Math.min(u,c)}#A(){let a=this.#F()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+a,this.translationY*this.scaleFactor+a)}static#N(a){let s=new Path2D;for(let h=0,u=a.length;h<u;h++){let[c,p,b,v]=a[h];h===0&&s.moveTo(...c),s.bezierCurveTo(p[0],p[1],b[0],b[1],v[0],v[1])}return s}static#B(a,s,h){let[u,c,p,b]=s;switch(h){case 0:for(let v=0,w=a.length;v<w;v+=2)a[v]+=u,a[v+1]=b-a[v+1];break;case 90:for(let v=0,w=a.length;v<w;v+=2){let x=a[v];a[v]=a[v+1]+u,a[v+1]=x+c}break;case 180:for(let v=0,w=a.length;v<w;v+=2)a[v]=p-a[v],a[v+1]+=c;break;case 270:for(let v=0,w=a.length;v<w;v+=2){let x=a[v];a[v]=p-a[v+1],a[v+1]=b-x}break;default:throw new Error("Invalid rotation")}return a}static#j(a,s,h){let[u,c,p,b]=s;switch(h){case 0:for(let v=0,w=a.length;v<w;v+=2)a[v]-=u,a[v+1]=b-a[v+1];break;case 90:for(let v=0,w=a.length;v<w;v+=2){let x=a[v];a[v]=a[v+1]-c,a[v+1]=x-u}break;case 180:for(let v=0,w=a.length;v<w;v+=2)a[v]=p-a[v],a[v+1]-=c;break;case 270:for(let v=0,w=a.length;v<w;v+=2){let x=a[v];a[v]=b-a[v+1],a[v+1]=p-x}break;default:throw new Error("Invalid rotation")}return a}#z(a,s,h,u){let c=[],p=this.thickness/2,b=a*s+p,v=a*h+p;for(let w of this.paths){let x=[],T=[];for(let _=0,P=w.length;_<P;_++){let[B,V,N,q]=w[_],U=a*B[0]+b,Q=a*B[1]+v,ee=a*V[0]+b,$=a*V[1]+v,ie=a*N[0]+b,J=a*N[1]+v,j=a*q[0]+b,k=a*q[1]+v;_===0&&(x.push(U,Q),T.push(U,Q)),x.push(ee,$,ie,J,j,k),T.push(ee,$),_===P-1&&T.push(j,k)}c.push({bezier:m.#B(x,u,this.rotation),points:m.#B(T,u,this.rotation)})}return c}#R(){let a=1/0,s=-1/0,h=1/0,u=-1/0;for(let c of this.paths)for(let[p,b,v,w]of c){let x=n.Util.bezierBoundingBox(...p,...b,...v,...w);a=Math.min(a,x[0]),h=Math.min(h,x[1]),s=Math.max(s,x[2]),u=Math.max(u,x[3])}return[a,h,s,u]}#F(){return this.#c?Math.ceil(this.thickness*this.parentScale):0}#C(a=!1){if(this.isEmpty())return;if(!this.#c){this.#_();return}let s=this.#R(),h=this.#F();this.#t=Math.max(i.AnnotationEditor.MIN_SIZE,s[2]-s[0]),this.#e=Math.max(i.AnnotationEditor.MIN_SIZE,s[3]-s[1]);let u=Math.ceil(h+this.#t*this.scaleFactor),c=Math.ceil(h+this.#e*this.scaleFactor),[p,b]=this.parentDimensions;this.width=u/p,this.height=c/b,this.setAspectRatio(u,c);let v=this.translationX,w=this.translationY;this.translationX=-s[0],this.translationY=-s[1],this.#E(),this.#_(),this.#d=u,this.#h=c,this.setDims(u,c);let x=a?h/this.scaleFactor/2:0;this.translate(v-this.translationX-x,w-this.translationY-x)}static deserialize(a,s,h){if(a instanceof l.InkAnnotationElement)return null;let u=super.deserialize(a,s,h);u.thickness=a.thickness,u.color=n.Util.makeHexColor(...a.color),u.opacity=a.opacity;let[c,p]=u.pageDimensions,b=u.width*c,v=u.height*p,w=u.parentScale,x=a.thickness/2;u.#c=!0,u.#d=Math.round(b),u.#h=Math.round(v);let{paths:T,rect:_,rotation:P}=a;for(let{bezier:V}of T){V=m.#j(V,_,P);let N=[];u.paths.push(N);let q=w*(V[0]-x),U=w*(V[1]-x);for(let ee=2,$=V.length;ee<$;ee+=6){let ie=w*(V[ee]-x),J=w*(V[ee+1]-x),j=w*(V[ee+2]-x),k=w*(V[ee+3]-x),E=w*(V[ee+4]-x),y=w*(V[ee+5]-x);N.push([[q,U],[ie,J],[j,k],[E,y]]),q=E,U=y}let Q=this.#N(N);u.bezierPath2D.push(Q)}let B=u.#R();return u.#t=Math.max(i.AnnotationEditor.MIN_SIZE,B[2]-B[0]),u.#e=Math.max(i.AnnotationEditor.MIN_SIZE,B[3]-B[1]),u.#x(b,v),u}serialize(){if(this.isEmpty())return null;let a=this.getRect(0,0),s=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:this.#z(this.scaleFactor/this.parentScale,this.translationX,this.translationY,a),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}e.InkEditor=m},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var n=r(1),i=r(4),l=r(6),d=r(29);class f extends i.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#s=null;#o=null;#a=null;#c=null;#l=!1;#i=!1;static _type="stamp";constructor(o){super({...o,name:"stampEditor"}),this.#r=o.bitmapUrl,this.#s=o.bitmapFile}static initialize(o){i.AnnotationEditor.initialize(o)}static get supportedTypes(){let o=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",o.map(a=>`image/${a}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(o){return this.supportedTypes.includes(o)}static paste(o,a){a.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:o.getAsFile()})}#f(o,a=!1){if(!o){this.remove();return}this.#e=o.bitmap,a||(this.#t=o.id,this.#l=o.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(a=>this.#f(a,!0)).finally(()=>this.#d());return}if(this.#r){let a=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(a).then(s=>this.#f(s)).finally(()=>this.#d());return}if(this.#s){let a=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(a).then(s=>this.#f(s)).finally(()=>this.#d());return}let o=document.createElement("input");o.type="file",o.accept=f.supportedTypesStr,this.#n=new Promise(a=>{o.addEventListener("change",async()=>{if(!o.files||o.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let s=await this._uiManager.imageManager.getFromFile(o.files[0]);this.#f(s)}a()}),o.addEventListener("cancel",()=>{this.remove(),a()})}).finally(()=>this.#d()),o.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#a?.disconnect(),this.#a=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#s)}get isResizable(){return!0}render(){if(this.div)return this.div;let o,a;if(this.width&&(o=this.x,a=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){let[s,h]=this.parentDimensions;this.setAt(o*s,a*h,this.width*s,this.height*h)}return this.div}#p(){let{div:o}=this,{width:a,height:s}=this.#e,[h,u]=this.pageDimensions,c=.75;if(this.width)a=this.width*h,s=this.height*u;else if(a>c*h||s>c*u){let w=Math.min(c*h/a,c*u/s);a*=w,s*=w}let[p,b]=this.parentDimensions;this.setDims(a*p/h,s*b/u),this._uiManager.enableWaiting(!1);let v=this.#o=document.createElement("canvas");o.append(v),o.hidden=!1,this.#m(a,s),this.#b(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(o,a){let[s,h]=this.parentDimensions;this.width=o/s,this.height=a/h,this.setDims(o,a),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#c!==null&&clearTimeout(this.#c);let u=200;this.#c=setTimeout(()=>{this.#c=null,this.#m(o,a)},u)}#g(o,a){let{width:s,height:h}=this.#e,u=s,c=h,p=this.#e;for(;u>2*o||c>2*a;){let b=u,v=c;u>2*o&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),c>2*a&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));let w=new OffscreenCanvas(u,c);w.getContext("2d").drawImage(p,0,0,b,v,0,0,u,c),p=w.transferToImageBitmap()}return p}#m(o,a){o=Math.ceil(o),a=Math.ceil(a);let s=this.#o;if(!s||s.width===o&&s.height===a)return;s.width=o,s.height=a;let h=this.#l?this.#e:this.#g(o,a),u=s.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(h,0,0,h.width,h.height,0,0,o,a)}#u(o){if(o){if(this.#l){let h=this._uiManager.imageManager.getSvgUrl(this.#t);if(h)return h}let a=document.createElement("canvas");return{width:a.width,height:a.height}=this.#e,a.getContext("2d").drawImage(this.#e,0,0),a.toDataURL()}if(this.#l){let[a,s]=this.pageDimensions,h=Math.round(this.width*a*l.PixelsPerInch.PDF_TO_CSS_UNITS),u=Math.round(this.height*s*l.PixelsPerInch.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(h,u);return c.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,h,u),c.transferToImageBitmap()}return structuredClone(this.#e)}#b(){this.#a=new ResizeObserver(o=>{let a=o[0].contentRect;a.width&&a.height&&this.#v(a.width,a.height)}),this.#a.observe(this.div)}static deserialize(o,a,s){if(o instanceof d.StampAnnotationElement)return null;let h=super.deserialize(o,a,s),{rect:u,bitmapUrl:c,bitmapId:p,isSvg:b,accessibilityData:v}=o;p&&s.imageManager.isValidId(p)?h.#t=p:h.#r=c,h.#l=b;let[w,x]=h.pageDimensions;return h.width=(u[2]-u[0])/w,h.height=(u[3]-u[1])/x,v&&(h.altTextData=v),h}serialize(o=!1,a=null){if(this.isEmpty())return null;let s={annotationType:n.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(o)return s.bitmapUrl=this.#u(!0),s.accessibilityData=this.altTextData,s;let{decorative:h,altText:u}=this.altTextData;if(!h&&u&&(s.accessibilityData={type:"Figure",alt:u}),a===null)return s;a.stamps||=new Map;let c=this.#l?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!a.stamps.has(this.#t))a.stamps.set(this.#t,{area:c,serialized:s}),s.bitmap=this.#u(!1);else if(this.#l){let p=a.stamps.get(this.#t);c>p.area&&(p.area=c,p.serialized.bitmap.close(),p.serialized.bitmap=this.#u(!1))}return s}}e.StampEditor=f}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return l.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return n.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return m.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return r.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return o.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return n.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}});var e=__w_pdfjs_require__(1),r=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),l=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),f=__w_pdfjs_require__(29),m=__w_pdfjs_require__(14),o=__w_pdfjs_require__(32);let a="3.11.174",s="ce8716743"})(),__webpack_exports__})())});var ea=Te(H=>{"use strict";var cs=ot(),ls=Si();function ji(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Be,C=ji(cs),en=ji(ls);H.AnnotationType=void 0,(Be=H.AnnotationType||(H.AnnotationType={}))[Be.Text=1]="Text",Be[Be.Link=2]="Link",Be[Be.FreeText=3]="FreeText",Be[Be.Line=4]="Line",Be[Be.Square=5]="Square",Be[Be.Circle=6]="Circle",Be[Be.Polygon=7]="Polygon",Be[Be.Polyline=8]="Polyline",Be[Be.Highlight=9]="Highlight",Be[Be.Underline=10]="Underline",Be[Be.Squiggly=11]="Squiggly",Be[Be.StrikeOut=12]="StrikeOut",Be[Be.Stamp=13]="Stamp",Be[Be.Caret=14]="Caret",Be[Be.Ink=15]="Ink",Be[Be.Popup=16]="Popup",Be[Be.FileAttachment=17]="FileAttachment";var xr=function(t,e){return xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xr(t,e)};function Un(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}xr(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wi,Pe=function(){return Pe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Pe.apply(this,arguments)};H.TextDirection=void 0,(wi=H.TextDirection||(H.TextDirection={})).RightToLeft="RTL",wi.LeftToRight="LTR";var kr,ut=C.createContext({currentTheme:"light",direction:H.TextDirection.LeftToRight,setCurrentTheme:function(){}}),Ge=function(t){var e=[];return Object.keys(t).forEach(function(r){r&&t[r]&&e.push(r)}),e.join(" ")},qe=typeof window<"u"?C.useLayoutEffect:C.useEffect,zn=function(t){var e=C.useRef(null),r=t.once,n=t.threshold,i=t.onVisibilityChanged;return qe(function(){var l=e.current;if(l){var d=new IntersectionObserver(function(f){f.forEach(function(m){var o=m.isIntersecting,a=m.intersectionRatio;i({isVisible:o,ratio:a}),o&&r&&(d.unobserve(l),d.disconnect())})},{threshold:n||0});return d.observe(l),function(){d.unobserve(l),d.disconnect()}}},[]),e},Ut=function(t){var e=t.children,r=t.ignoreDirection,n=r!==void 0&&r,i=t.size,l=i===void 0?24:i,d=C.useContext(ut).direction,f=!n&&d===H.TextDirection.RightToLeft,m="".concat(l||24,"px");return C.createElement("svg",{"aria-hidden":"true",className:Ge({"rpv-core__icon":!0,"rpv-core__icon--rtl":f}),focusable:"false",height:m,viewBox:"0 0 24 24",width:m},e)},zi=function(){return C.createElement(Ut,{size:16},C.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Hi=function(t){var e=t.children,r=t.testId,n=t.onClick,i=C.useContext(ut).direction===H.TextDirection.RightToLeft,l=r?{"data-testid":r}:{};return C.createElement("button",Pe({className:Ge({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":i}),type:"button",onClick:n},l),e)},qn=function(t){var e=t.size,r=e===void 0?"4rem":e,n=t.testId,i=C.useState(!1),l=i[0],d=i[1],f=n?{"data-testid":n}:{},m=zn({onVisibilityChanged:function(o){d(o.isVisible)}});return C.createElement("div",Pe({},f,{className:Ge({"rpv-core__spinner":!0,"rpv-core__spinner--animating":l}),ref:m,style:{height:r,width:r}}))},Vi=function(t){var e=t.ariaLabel,r=e===void 0?"":e,n=t.autoFocus,i=n!==void 0&&n,l=t.placeholder,d=l===void 0?"":l,f=t.testId,m=t.type,o=m===void 0?"text":m,a=t.value,s=a===void 0?"":a,h=t.onChange,u=t.onKeyDown,c=u===void 0?function(){}:u,p=C.useContext(ut).direction,b=C.useRef(),v=p===H.TextDirection.RightToLeft,w={ref:b,"data-testid":"","aria-label":r,className:Ge({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":v}),placeholder:d,value:s,onChange:function(x){return h(x.target.value)},onKeyDown:c};return f&&(w["data-testid"]=f),qe(function(){if(i){var x=b.current;if(x){var T=window.scrollX,_=window.scrollY;x.focus(),window.scrollTo(T,_)}}},[]),o==="text"?C.createElement("input",Pe({type:"text"},w)):C.createElement("input",Pe({type:"password"},w))};(function(t){t[t.ExitFullScreen=0]="ExitFullScreen",t[t.FullScreenChange=1]="FullScreenChange",t[t.FullScreenElement=2]="FullScreenElement",t[t.FullScreenEnabled=3]="FullScreenEnabled",t[t.RequestFullScreen=4]="RequestFullScreen"})(kr||(kr={}));var wt,Ai={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Ci={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Pi={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},nn=typeof window<"u",rn=nn&&(kr.FullScreenEnabled in document&&Ai||Ci.FullScreenEnabled in document&&Ci||Pi.FullScreenEnabled in document&&Pi)||Ai,Wi=function(){return nn&&rn.FullScreenEnabled in document&&document[rn.FullScreenEnabled]===!0},xi=function(t){return nn?t[rn.ExitFullScreen]():Promise.resolve({})},br=function(){return nn?document[rn.FullScreenElement]:null},Rr=function(t,e){var r=C.useRef(),n=function(){r.current&&clearTimeout(r.current)};return C.useEffect(function(){return function(){return n()}},[]),C.useCallback(function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];n(),r.current=setTimeout(function(){t.apply(void 0,i)},e)},[t,e])},Sn=function(){var t=C.useRef(!1);return C.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),t},tn=function(t){var e=C.useRef(t);return C.useEffect(function(){e.current=t},[t]),e.current};(function(t){t.NotRenderedYet="NotRenderedYet",t.Rendering="Rendering",t.Rendered="Rendered"})(wt||(wt={}));var _r,Dn=-9999,Ui=function(t){var e=t.doc,r=e.numPages,n=e.loadingTask.docId,i=C.useMemo(function(){return Array(r).fill(null).map(function(f,m){return{pageIndex:m,renderStatus:wt.NotRenderedYet,visibility:Dn}})},[n]),l=C.useRef({currentRenderingPage:-1,startRange:0,endRange:r-1,visibilities:i}),d=function(f,m){l.current.visibilities[f].visibility=m};return{getHighestPriorityPage:function(){var f=l.current.visibilities.slice(l.current.startRange,l.current.endRange+1).filter(function(h){return h.visibility>Dn});if(!f.length)return-1;for(var m=f[0].pageIndex,o=f[f.length-1].pageIndex,a=f.length,s=0;s<a;s++){if(f[s].renderStatus===wt.Rendering)return-1;if(f[s].renderStatus===wt.NotRenderedYet)return f[s].pageIndex}return o+1<r&&l.current.visibilities[o+1].renderStatus!==wt.Rendered?o+1:m-1>=0&&l.current.visibilities[m-1].renderStatus!==wt.Rendered?m-1:-1},isInRange:function(f){return f>=l.current.startRange&&f<=l.current.endRange},markNotRendered:function(){for(var f=0;f<r;f++)l.current.visibilities[f].renderStatus=wt.NotRenderedYet},markRendered:function(f){l.current.visibilities[f].renderStatus=wt.Rendered},markRendering:function(f){l.current.currentRenderingPage!==-1&&l.current.currentRenderingPage!==f&&l.current.visibilities[l.current.currentRenderingPage].renderStatus===wt.Rendering&&(l.current.visibilities[l.current.currentRenderingPage].renderStatus=wt.NotRenderedYet),l.current.visibilities[f].renderStatus=wt.Rendering,l.current.currentRenderingPage=f},setOutOfRange:function(f){d(f,Dn)},setRange:function(f,m){l.current.startRange=f,l.current.endRange=m;for(var o=0;o<r;o++)(o<f||o>m)&&(l.current.visibilities[o].visibility=Dn,l.current.visibilities[o].renderStatus=wt.NotRenderedYet)},setVisibility:d}},qi={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Hn=C.createContext({l10n:qi,setL10n:function(){}}),us=0,Er=function(){return us++},Gi=function(t,e,r){var n=function(i){var l=e.current;if(l){var d=i.target;if(d instanceof Element&&d.shadowRoot){var f=i.composedPath();f.length>0&&!l.contains(f[0])&&r()}else l.contains(d)||r()}};C.useEffect(function(){if(t){var i={capture:!0};return document.addEventListener("click",n,i),function(){document.removeEventListener("click",n,i)}}},[])},Fr=function(t){var e=function(r){r.key==="Escape"&&t()};C.useEffect(function(){return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}},[])},ds=function(t){var e=t.ariaControlsSuffix,r=t.children,n=t.closeOnClickOutside,i=t.closeOnEscape,l=t.onToggle,d=C.useRef(),f=C.useContext(ut).direction===H.TextDirection.RightToLeft;return C.useEffect(function(){var m=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=m}},[]),Fr(function(){d.current&&i&&l()}),Gi(n,d,l),qe(function(){var m=d.current;if(m){var o=.75*document.body.clientHeight;m.getBoundingClientRect().height>=o&&(m.style.overflow="auto",m.style.maxHeight="".concat(o,"px"))}},[]),C.createElement("div",{"aria-modal":"true",className:Ge({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":f}),id:"rpv-core__modal-body-".concat(e),ref:d,role:"dialog",tabIndex:-1},r)},hs=function(t){var e=t.children;return C.createElement("div",{className:"rpv-core__modal-overlay"},e)};H.ToggleStatus=void 0,(_r=H.ToggleStatus||(H.ToggleStatus={})).Close="Close",_r.Open="Open",_r.Toggle="Toggle";var At,Vn=function(t){var e=C.useState(t),r=e[0],n=e[1];return{opened:r,toggle:function(i){switch(i){case H.ToggleStatus.Close:n(!1);break;case H.ToggleStatus.Open:n(!0);break;case H.ToggleStatus.Toggle:default:n(function(l){return!l})}}}},fs=function(t){var e=t.content,r=t.isOpened,n=r!==void 0&&r,i=t.target,l=Vn(n),d=l.opened,f=l.toggle;return C.createElement(C.Fragment,null,i&&i(f,d),d&&e(f))};H.Position=void 0,(At=H.Position||(H.Position={})).TopLeft="TOP_LEFT",At.TopCenter="TOP_CENTER",At.TopRight="TOP_RIGHT",At.RightTop="RIGHT_TOP",At.RightCenter="RIGHT_CENTER",At.RightBottom="RIGHT_BOTTOM",At.BottomLeft="BOTTOM_LEFT",At.BottomCenter="BOTTOM_CENTER",At.BottomRight="BOTTOM_RIGHT",At.LeftTop="LEFT_TOP",At.LeftCenter="LEFT_CENTER",At.LeftBottom="LEFT_BOTTOM";var dn,On,hn,ki,Mi,Nn,yr,Sr,Xi=function(t,e,r,n,i){qe(function(){var l=e.current,d=t.current,f=r.current;if(d&&l&&f){var m=f.getBoundingClientRect(),o=function(h,u,c,p){var b=u.getBoundingClientRect(),v=h.getBoundingClientRect(),w=v.height,x=v.width,T=0,_=0;switch(c){case H.Position.TopLeft:T=b.top-w,_=b.left;break;case H.Position.TopCenter:T=b.top-w,_=b.left+b.width/2-x/2;break;case H.Position.TopRight:T=b.top-w,_=b.left+b.width-x;break;case H.Position.RightTop:T=b.top,_=b.left+b.width;break;case H.Position.RightCenter:T=b.top+b.height/2-w/2,_=b.left+b.width;break;case H.Position.RightBottom:T=b.top+b.height-w,_=b.left+b.width;break;case H.Position.BottomLeft:T=b.top+b.height,_=b.left;break;case H.Position.BottomCenter:T=b.top+b.height,_=b.left+b.width/2-x/2;break;case H.Position.BottomRight:T=b.top+b.height,_=b.left+b.width-x;break;case H.Position.LeftTop:T=b.top,_=b.left-x;break;case H.Position.LeftCenter:T=b.top+b.height/2-w/2,_=b.left-x;break;case H.Position.LeftBottom:T=b.top+b.height-w,_=b.left-x}return{left:_+(p.left||0),top:T+(p.top||0)}}(d,l,n,i),a=o.top,s=o.left;d.style.top="".concat(a-m.top,"px"),d.style.left="".concat(s-m.left,"px")}},[])},Ki=function(t){var e,r=t.customClassName,n=t.position;return C.createElement("div",{className:Ge((e={"rpv-core__arrow":!0,"rpv-core__arrow--tl":n===H.Position.TopLeft,"rpv-core__arrow--tc":n===H.Position.TopCenter,"rpv-core__arrow--tr":n===H.Position.TopRight,"rpv-core__arrow--rt":n===H.Position.RightTop,"rpv-core__arrow--rc":n===H.Position.RightCenter,"rpv-core__arrow--rb":n===H.Position.RightBottom,"rpv-core__arrow--bl":n===H.Position.BottomLeft,"rpv-core__arrow--bc":n===H.Position.BottomCenter,"rpv-core__arrow--br":n===H.Position.BottomRight,"rpv-core__arrow--lt":n===H.Position.LeftTop,"rpv-core__arrow--lc":n===H.Position.LeftCenter,"rpv-core__arrow--lb":n===H.Position.LeftBottom},e["".concat(r)]=r!=="",e))})},ps=function(t){var e=t.ariaControlsSuffix,r=t.children,n=t.closeOnClickOutside,i=t.offset,l=t.position,d=t.targetRef,f=t.onClose,m=C.useRef(),o=C.useRef(),a=C.useRef(),s=C.useContext(ut).direction===H.TextDirection.RightToLeft;Gi(n,m,f),Xi(m,d,a,l,i),qe(function(){var u=o.current;if(u){var c=.75*document.body.clientHeight;u.getBoundingClientRect().height>=c&&(u.style.overflow="auto",u.style.maxHeight="".concat(c,"px"))}},[]);var h="rpv-core__popover-body-inner-".concat(e);return C.createElement(C.Fragment,null,C.createElement("div",{ref:a,style:{left:0,position:"absolute",top:0}}),C.createElement("div",{"aria-describedby":h,className:Ge({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":s}),id:"rpv-core__popover-body-".concat(e),ref:m,role:"dialog",tabIndex:-1},C.createElement(Ki,{customClassName:"rpv-core__popover-body-arrow",position:l}),C.createElement("div",{id:h,ref:o},r)))},ms=function(t){var e=t.closeOnEscape,r=t.onClose,n=C.useRef();return Fr(function(){n.current&&e&&r()}),C.createElement("div",{className:"rpv-core__popover-overlay",ref:n})},gs=function(t){var e=t.ariaControlsSuffix,r=t.children,n=t.contentRef,i=t.offset,l=t.position,d=t.targetRef,f=C.useRef(),m=C.useContext(ut).direction===H.TextDirection.RightToLeft;return Xi(n,d,f,l,i),C.createElement(C.Fragment,null,C.createElement("div",{ref:f,style:{left:0,position:"absolute",top:0}}),C.createElement("div",{className:Ge({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":m}),id:"rpv-core__tooltip-body-".concat(e),ref:n,role:"tooltip"},C.createElement(Ki,{customClassName:"rpv-core__tooltip-body-arrow",position:l}),C.createElement("div",{className:"rpv-core__tooltip-body-content"},r)))};H.FullScreenMode=void 0,(dn=H.FullScreenMode||(H.FullScreenMode={})).Normal="Normal",dn.Entering="Entering",dn.Entered="Entered",dn.EnteredCompletely="EnteredCompletely",dn.Exitting="Exitting",dn.Exited="Exited",H.LayerRenderStatus=void 0,(On=H.LayerRenderStatus||(H.LayerRenderStatus={}))[On.PreRender=0]="PreRender",On[On.DidRender=1]="DidRender",H.PageMode=void 0,(hn=H.PageMode||(H.PageMode={})).Attachments="UseAttachments",hn.Bookmarks="UseOutlines",hn.ContentGroup="UseOC",hn.Default="UserNone",hn.FullScreen="FullScreen",hn.Thumbnails="UseThumbs",H.PasswordStatus=void 0,(ki=H.PasswordStatus||(H.PasswordStatus={})).RequiredPassword="RequiredPassword",ki.WrongPassword="WrongPassword",H.RotateDirection=void 0,(Mi=H.RotateDirection||(H.RotateDirection={})).Backward="Backward",Mi.Forward="Forward",H.ScrollMode=void 0,(Nn=H.ScrollMode||(H.ScrollMode={})).Page="Page",Nn.Horizontal="Horizontal",Nn.Vertical="Vertical",Nn.Wrapped="Wrapped",H.SpecialZoomLevel=void 0,(yr=H.SpecialZoomLevel||(H.SpecialZoomLevel={})).ActualSize="ActualSize",yr.PageFit="PageFit",yr.PageWidth="PageWidth",H.ViewMode=void 0,(Sr=H.ViewMode||(H.ViewMode={})).DualPage="DualPage",Sr.DualPageWithCover="DualPageWithCover",Sr.SinglePage="SinglePage";var Wt,pn=function(t,e){return t.reduce(function(r,n,i){return i%e?r[r.length-1].push(n):r.push([n]),r},[])},Ti=function(t,e){switch(e[1].name){case"XYZ":return{bottomOffset:function(r,n){return e[3]===null?n:e[3]},leftOffset:function(r,n){return e[2]===null?0:e[2]},pageIndex:t,scaleTo:e[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:t,scaleTo:H.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:e[2],leftOffset:0,pageIndex:t,scaleTo:H.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:t,scaleTo:1}}},Wn=new Map,Mr=new Map,$i=function(t,e){return"".concat(t.loadingTask.docId,"___").concat(e.num,"R").concat(e.gen===0?"":e.gen)},Yi=function(t,e,r){Wn.set($i(t,e),r)},Gn=function(t,e){if(!t)return Promise.reject("The document is not loaded yet");var r="".concat(t.loadingTask.docId,"___").concat(e),n=Mr.get(r);return n?Promise.resolve(n):new Promise(function(i,l){t.getPage(e+1).then(function(d){Mr.set(r,d),d.ref&&Yi(t,d.ref,e),i(d)})})},Lr=function(t,e){return new Promise(function(r){new Promise(function(n){typeof e=="string"?t.getDestination(e).then(function(i){n(i)}):n(e)}).then(function(n){if(typeof n[0]=="object"&&n[0]!==null){var i=n[0],l=function(f,m){var o=$i(f,m);return Wn.has(o)?Wn.get(o):null}(t,i);l===null?t.getPageIndex(i).then(function(f){Yi(t,i,f),Lr(t,e).then(function(m){return r(m)})}):r(Ti(l,n))}else{var d=Ti(n[0],n);r(d)}})})};(function(t){t[t.Solid=1]="Solid",t[t.Dashed=2]="Dashed",t[t.Beveled=3]="Beveled",t[t.Inset=4]="Inset",t[t.Underline=5]="Underline"})(Wt||(Wt={}));var Dt,vs=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Qt=function(t,e,r,n){var i=parseInt(t,10);return i>=e&&i<=r?i:n},ht=function(t){return t.contentsObj?t.contentsObj.str:t.contents||""},ft=function(t){return t.titleObj?t.titleObj.str:t.title||""},Zi=function(t){var e=t.annotation,r=C.useContext(ut).direction,n=ft(e),i=ht(e),l=r===H.TextDirection.RightToLeft,d=C.useRef(),f="";if(e.modificationDate){var m=function(o){var a=vs.exec(o);if(!a)return null;var s=parseInt(a[1],10),h=Qt(a[2],1,12,1)-1,u=Qt(a[3],1,31,1),c=Qt(a[4],0,23,0),p=Qt(a[5],0,59,0),b=Qt(a[6],0,59,0),v=a[7]||"Z",w=Qt(a[8],0,23,0),x=Qt(a[9],0,59,0);switch(v){case"-":c+=w,p+=x;break;case"+":c-=w,p-=x}return new Date(Date.UTC(s,h,u,c,p,b))}(e.modificationDate);f=m?"".concat(m.toLocaleDateString(),", ").concat(m.toLocaleTimeString()):""}return C.useLayoutEffect(function(){if(d.current){var o=document.querySelector('[data-annotation-id="'.concat(e.id,'"]'));if(o){var a=o;return a.style.zIndex+=1,function(){a.style.zIndex="".concat(parseInt(a.style.zIndex,10)-1)}}}},[]),C.createElement("div",{ref:d,className:Ge({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":l}),style:{top:e.annotationType===H.AnnotationType.Popup?"":"100%"}},n&&C.createElement(C.Fragment,null,C.createElement("div",{className:Ge({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!l,"rpv-core__annotation-popup-title--rtl":l})},n),C.createElement("div",{className:"rpv-core__annotation-popup-date"},f)),i&&C.createElement("div",{className:"rpv-core__annotation-popup-content"},i.split(`
`).map(function(o,a){return C.createElement(C.Fragment,{key:a},o,C.createElement("br",null))})))};(function(t){t.Click="Click",t.Hover="Hover"})(Dt||(Dt={}));var He,pt=function(t){var e,r=t.annotation,n=t.children,i=t.ignoreBorder,l=t.hasPopup,d=t.isRenderable,f=t.page,m=t.viewport,o=r.rect,a=function(){var B=Vn(!1),V=B.opened,N=B.toggle,q=C.useState(Dt.Hover),U=q[0],Q=q[1];return{opened:V,closeOnHover:function(){U===Dt.Hover&&N(H.ToggleStatus.Close)},openOnHover:function(){U===Dt.Hover&&N(H.ToggleStatus.Open)},toggleOnClick:function(){switch(U){case Dt.Click:V&&Q(Dt.Hover),N(H.ToggleStatus.Toggle);break;case Dt.Hover:Q(Dt.Click),N(H.ToggleStatus.Open)}}}}(),s=a.closeOnHover,h=a.opened,u=a.openOnHover,c=a.toggleOnClick,p=(e=[o[0],f.view[3]+f.view[1]-o[1],o[2],f.view[3]+f.view[1]-o[3]],[Math.min(e[0],e[2]),Math.min(e[1],e[3]),Math.max(e[0],e[2]),Math.max(e[1],e[3])]),b=o[2]-o[0],v=o[3]-o[1],w={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!i&&r.borderStyle.width>0){switch(r.borderStyle.style){case Wt.Dashed:w.borderStyle="dashed";break;case Wt.Solid:w.borderStyle="solid";break;case Wt.Underline:w=Object.assign({borderBottomStyle:"solid"},w);case Wt.Beveled:case Wt.Inset:}var x=r.borderStyle.width;w.borderWidth="".concat(x,"px"),r.borderStyle.style!==Wt.Underline&&(b-=2*x,v-=2*x);var T=r.borderStyle,_=T.horizontalCornerRadius,P=T.verticalCornerRadius;(_>0||P>0)&&(w.borderRadius="".concat(_,"px / ").concat(P,"px")),r.color?w.borderColor="rgb(".concat(0|r.color[0],", ").concat(0|r.color[1],", ").concat(0|r.color[2],")"):w.borderWidth="0"}return C.createElement(C.Fragment,null,d&&n({popup:{opened:h,closeOnHover:s,openOnHover:u,toggleOnClick:c},slot:{attrs:{style:Object.assign({height:"".concat(v,"px"),left:"".concat(p[0],"px"),top:"".concat(p[1],"px"),transform:"matrix(".concat(m.transform.join(","),")"),transformOrigin:"-".concat(p[0],"px -").concat(p[1],"px"),width:"".concat(b,"px")},w)},children:C.createElement(C.Fragment,null,l&&h&&C.createElement(Zi,{annotation:r}))}}))},bs=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d);return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(m){return C.createElement("div",Pe({},m.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":e.id,onClick:m.popup.toggleOnClick,onMouseEnter:m.popup.openOnHover,onMouseLeave:m.popup.closeOnHover}),m.slot.children)})},_s=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d),m=e.rect,o=m[2]-m[0],a=m[3]-m[1],s=e.borderStyle.width;return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(h){return C.createElement("div",Pe({},h.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":e.id,onClick:h.popup.toggleOnClick,onMouseEnter:h.popup.openOnHover,onMouseLeave:h.popup.closeOnHover}),C.createElement("svg",{height:"".concat(a,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(o," ").concat(a),width:"".concat(o,"px")},C.createElement("circle",{cy:a/2,fill:"none",rx:o/2-s/2,ry:a/2-s/2,stroke:"transparent",strokeWidth:s||1})),h.slot.children)})},Es=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=ft(e),l=ht(e),d=!(e.hasPopup!==!1||!i&&!l),f=function(){var m,o,a,s,h=e.file;h&&(m=h.filename,o=h.content,a=typeof o=="string"?"":URL.createObjectURL(new Blob([o],{type:""})),(s=document.createElement("a")).style.display="none",s.href=a||m,s.setAttribute("download",function(u){var c=u.split("/").pop();return c?c.split("#")[0].split("?")[0]:u}(m)),document.body.appendChild(s),s.click(),document.body.removeChild(s),a&&URL.revokeObjectURL(a))};return C.createElement(pt,{annotation:e,hasPopup:d,ignoreBorder:!0,isRenderable:!0,page:r,viewport:n},function(m){return C.createElement("div",Pe({},m.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":e.id,onClick:m.popup.toggleOnClick,onDoubleClick:f,onMouseEnter:m.popup.openOnHover,onMouseLeave:m.popup.closeOnHover}),m.slot.children)})},ys=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d);return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(m){return C.createElement("div",Pe({},m.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":e.id,onClick:m.popup.toggleOnClick,onMouseEnter:m.popup.openOnHover,onMouseLeave:m.popup.closeOnHover}),m.slot.children)})},Ir=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=ft(e),l=ht(e),d=!(!i&&!l),f=!e.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(e.parentType)!==-1;return qe(function(){if(e.parentId){var m=document.querySelector('[data-annotation-id="'.concat(e.parentId,'"]')),o=document.querySelector('[data-annotation-id="'.concat(e.id,'"]'));if(m&&o){var a=parseFloat(m.style.left),s=parseFloat(m.style.top)+parseFloat(m.style.height);o.style.left="".concat(a,"px"),o.style.top="".concat(s,"px"),o.style.transformOrigin="-".concat(a,"px -").concat(s,"px")}}},[]),C.createElement(pt,{annotation:e,hasPopup:f,ignoreBorder:!1,isRenderable:d,page:r,viewport:n},function(m){return C.createElement("div",Pe({},m.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":e.id}),C.createElement(Zi,{annotation:e}))})},Ji=function(t){var e=t.annotation,r=t.childAnnotation,n=t.page,i=t.viewport,l=e.hasPopup===!1,d=ft(e),f=ht(e),m=!!(e.hasPopup||d||f);if(e.quadPoints&&e.quadPoints.length>0){var o=e.quadPoints.map(function(a){return Object.assign({},e,{rect:[a[2].x,a[2].y,a[1].x,a[1].y],quadPoints:[]})});return C.createElement(C.Fragment,null,o.map(function(a,s){return C.createElement(Ji,{key:s,annotation:a,childAnnotation:r,page:n,viewport:i})}))}return C.createElement(pt,{annotation:e,hasPopup:l,ignoreBorder:!0,isRenderable:m,page:n,viewport:i},function(a){return C.createElement(C.Fragment,null,C.createElement("div",Pe({},a.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":e.id,onClick:a.popup.toggleOnClick,onMouseEnter:a.popup.openOnHover,onMouseLeave:a.popup.closeOnHover}),a.slot.children),r&&r.annotationType===H.AnnotationType.Popup&&a.popup.opened&&C.createElement(Ir,{annotation:r,page:n,viewport:i}))})},Ss=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d),m=e.rect,o=m[2]-m[0],a=m[3]-m[1],s=e.borderStyle.width;return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(h){return C.createElement("div",Pe({},h.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":e.id,onClick:h.popup.toggleOnClick,onMouseEnter:h.popup.openOnHover,onMouseLeave:h.popup.closeOnHover}),e.inkLists&&e.inkLists.length&&C.createElement("svg",{height:"".concat(a,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(o," ").concat(a),width:"".concat(o,"px")},e.inkLists.map(function(u,c){return C.createElement("polyline",{key:c,fill:"none",stroke:"transparent",strokeWidth:s||1,points:u.map(function(p){return"".concat(p.x-m[0],",").concat(m[3]-p.y)}).join(" ")})})),h.slot.children)})},ws=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d),m=e.rect,o=m[2]-m[0],a=m[3]-m[1],s=e.borderStyle.width;return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(h){return C.createElement("div",Pe({},h.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":e.id,onClick:h.popup.toggleOnClick,onMouseEnter:h.popup.openOnHover,onMouseLeave:h.popup.closeOnHover}),C.createElement("svg",{height:"".concat(a,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(o," ").concat(a),width:"".concat(o,"px")},C.createElement("line",{stroke:"transparent",strokeWidth:s||1,x1:m[2]-e.lineCoordinates[0],x2:m[2]-e.lineCoordinates[2],y1:m[3]-e.lineCoordinates[1],y2:m[3]-e.lineCoordinates[3]})),h.slot.children)})},As=/^([^\w]*)(javascript|data|vbscript)/im,Cs=/&#(\w+)(^\w|;)?/g,Ps=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,xs=/^([^:]+):/gm,ks=function(t,e){e===void 0&&(e="about:blank");var r,n=(r=t||"",r.replace(Cs,function(f,m){return String.fromCharCode(m)})).replace(Ps,"").trim();if(!n)return e;var i=n[0];if(i==="."||i==="/")return n;var l=n.match(xs);if(!l)return n;var d=l[0];return As.test(d)?e:n},Ms=function(t){var e,r=t.annotation,n=t.annotationContainerRef,i=t.doc,l=t.outlines,d=t.page,f=t.pageIndex,m=t.scale,o=t.viewport,a=t.onExecuteNamedAction,s=t.onJumpFromLinkAnnotation,h=t.onJumpToDest,u=C.useRef(),c=l&&l.length&&r.dest&&typeof r.dest=="string"?(e=l.find(function(w){return w.dest===r.dest}))===null||e===void 0?void 0:e.title:"",p=!!(r.url||r.dest||r.action||r.unsafeUrl),b={};if(r.url||r.unsafeUrl){var v=ks(r.url||r.unsafeUrl,"");v?b={"data-target":"external",href:v,rel:"noopener noreferrer nofollow",target:r.newWindow?"_blank":"",title:v}:p=!1}else b={href:"","data-annotation-link":r.id,onClick:function(w){w.preventDefault(),r.action?a(r.action):Lr(i,r.dest).then(function(x){var T=u.current,_=n.current;if(T&&_){var P=T.getBoundingClientRect();_.style.setProperty("height","100%"),_.style.setProperty("width","100%");var B=_.getBoundingClientRect();_.style.removeProperty("height"),_.style.removeProperty("width");var V=(P.left-B.left)/m,N=(B.bottom-P.bottom+P.height)/m;s({bottomOffset:N,label:c,leftOffset:V,pageIndex:f})}h(x)})}};return c&&(b=Object.assign({},b,{title:c,"aria-label":c})),C.createElement(pt,{annotation:r,hasPopup:!1,ignoreBorder:!1,isRenderable:p,page:d,viewport:o},function(w){return C.createElement("div",Pe({},w.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":r.id,"data-testid":"core__annotation--link-".concat(r.id)}),C.createElement("a",Pe({ref:u},b)))})},Ts=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d),m=e.rect,o=m[2]-m[0],a=m[3]-m[1],s=e.borderStyle.width;return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(h){return C.createElement("div",Pe({},h.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":e.id,onClick:h.popup.toggleOnClick,onMouseEnter:h.popup.openOnHover,onMouseLeave:h.popup.closeOnHover}),e.vertices&&e.vertices.length&&C.createElement("svg",{height:"".concat(a,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(o," ").concat(a),width:"".concat(o,"px")},C.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:s||1,points:e.vertices.map(function(u){return"".concat(u.x-m[0],",").concat(m[3]-u.y)}).join(" ")})),h.slot.children)})},Rs=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d),m=e.rect,o=m[2]-m[0],a=m[3]-m[1],s=e.borderStyle.width;return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(h){return C.createElement("div",Pe({},h.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":e.id,onClick:h.popup.toggleOnClick,onMouseEnter:h.popup.openOnHover,onMouseLeave:h.popup.closeOnHover}),e.vertices&&e.vertices.length&&C.createElement("svg",{height:"".concat(a,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(o," ").concat(a),width:"".concat(o,"px")},C.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:s||1,points:e.vertices.map(function(u){return"".concat(u.x-m[0],",").concat(m[3]-u.y)}).join(" ")})),h.slot.children)})},Fs=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d),m=e.rect,o=m[2]-m[0],a=m[3]-m[1],s=e.borderStyle.width;return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(h){return C.createElement("div",Pe({},h.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":e.id,onClick:h.popup.toggleOnClick,onMouseEnter:h.popup.openOnHover,onMouseLeave:h.popup.closeOnHover}),C.createElement("svg",{height:"".concat(a,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(o," ").concat(a),width:"".concat(o,"px")},C.createElement("rect",{height:a-s,fill:"none",stroke:"transparent",strokeWidth:s||1,x:s/2,y:s/2,width:o-s})),h.slot.children)})},Ls=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d);return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(m){return C.createElement("div",Pe({},m.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":e.id,onClick:m.popup.toggleOnClick,onMouseEnter:m.popup.openOnHover,onMouseLeave:m.popup.closeOnHover}),m.slot.children)})},Is=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d);return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(m){return C.createElement("div",Pe({},m.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":e.id,onClick:m.popup.toggleOnClick,onMouseEnter:m.popup.openOnHover,onMouseLeave:m.popup.closeOnHover}),m.slot.children)})},Ds=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d);return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(m){return C.createElement("div",Pe({},m.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":e.id,onClick:m.popup.toggleOnClick,onMouseEnter:m.popup.openOnHover,onMouseLeave:m.popup.closeOnHover}),m.slot.children)})},Os=function(){return C.createElement(Ut,{size:16},C.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),C.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),C.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),C.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Ns=function(){return C.createElement(Ut,{size:16},C.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),C.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),C.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),C.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),C.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),C.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),C.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),C.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),C.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),C.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Bs=function(){return C.createElement(Ut,{size:16},C.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),C.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},js=function(){return C.createElement(Ut,{size:16},C.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),C.createElement("path",{d:"M6 4.5L6 0.5"}),C.createElement("path",{d:"M18 4.5L18 0.5"}),C.createElement("path",{d:"M10 4.5L10 0.5"}),C.createElement("path",{d:"M14 4.5L14 0.5"}))},zs=function(){return C.createElement(Ut,{size:16},C.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),C.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),C.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Hs=function(){return C.createElement(Ut,{size:16},C.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Vs=function(t){var e=t.annotation,r=t.childAnnotation,n=t.page,i=t.viewport,l=e.hasPopup===!1,d=ft(e),f=ht(e),m=!!(e.hasPopup||d||f),o=e.name?e.name.toLowerCase():"";return C.createElement(pt,{annotation:e,hasPopup:l,ignoreBorder:!1,isRenderable:m,page:n,viewport:i},function(a){return C.createElement(C.Fragment,null,C.createElement("div",Pe({},a.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":e.id,onClick:a.popup.toggleOnClick,onMouseEnter:a.popup.openOnHover,onMouseLeave:a.popup.closeOnHover}),o&&C.createElement("div",{className:"rpv-core__annotation-text-icon"},o==="check"&&C.createElement(zi,null),o==="comment"&&C.createElement(Os,null),o==="help"&&C.createElement(Ns,null),o==="insert"&&C.createElement(Hs,null),o==="key"&&C.createElement(Bs,null),o==="note"&&C.createElement(js,null),(o==="newparagraph"||o==="paragraph")&&C.createElement(zs,null)),a.slot.children),r&&r.annotationType===H.AnnotationType.Popup&&a.popup.opened&&C.createElement(Ir,{annotation:r,page:n,viewport:i}))})},Ws=function(t){var e=t.annotation,r=t.page,n=t.viewport,i=e.hasPopup===!1,l=ft(e),d=ht(e),f=!!(e.hasPopup||l||d);return C.createElement(pt,{annotation:e,hasPopup:i,ignoreBorder:!0,isRenderable:f,page:r,viewport:n},function(m){return C.createElement("div",Pe({},m.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":e.id,onClick:m.popup.toggleOnClick,onMouseEnter:m.popup.openOnHover,onMouseLeave:m.popup.closeOnHover}),m.slot.children)})},Us=function(t){var e=t.annotations,r=t.doc,n=t.outlines,i=t.page,l=t.pageIndex,d=t.plugins,f=t.rotation,m=t.scale,o=t.onExecuteNamedAction,a=t.onJumpFromLinkAnnotation,s=t.onJumpToDest,h=C.useRef(),u=i.getViewport({rotation:f,scale:m}).clone({dontFlip:!0}),c=e.filter(function(p){return!p.parentId});return qe(function(){var p=h.current;p&&d.forEach(function(b){b.onAnnotationLayerRender&&b.onAnnotationLayerRender({annotations:c,container:p,pageIndex:l,rotation:f,scale:m})})},[]),C.createElement("div",{ref:h,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(l)},c.map(function(p){var b=e.find(function(v){return v.parentId===p.id});switch(p.annotationType){case H.AnnotationType.Caret:return C.createElement(bs,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Circle:return C.createElement(_s,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.FileAttachment:return C.createElement(Es,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.FreeText:return C.createElement(ys,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Highlight:return C.createElement(Ji,{key:p.id,annotation:p,childAnnotation:b,page:i,viewport:u});case H.AnnotationType.Ink:return C.createElement(Ss,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Line:return C.createElement(ws,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Link:return C.createElement(Ms,{key:p.id,annotation:p,annotationContainerRef:h,doc:r,outlines:n,page:i,pageIndex:l,scale:m,viewport:u,onExecuteNamedAction:o,onJumpFromLinkAnnotation:a,onJumpToDest:s});case H.AnnotationType.Polygon:return C.createElement(Ts,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Polyline:return C.createElement(Rs,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Popup:return C.createElement(Ir,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Square:return C.createElement(Fs,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Squiggly:return C.createElement(Ls,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Stamp:return C.createElement(Is,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.StrikeOut:return C.createElement(Ds,{key:p.id,annotation:p,page:i,viewport:u});case H.AnnotationType.Text:return C.createElement(Vs,{key:p.id,annotation:p,childAnnotation:b,page:i,viewport:u});case H.AnnotationType.Underline:return C.createElement(Ws,{key:p.id,annotation:p,page:i,viewport:u});default:return C.createElement(C.Fragment,{key:p.id})}}))},qs=function(t){var e=t.page,r=t.renderAnnotations,n=Sn(),i=C.useState({loading:!0,annotations:[]}),l=i[0],d=i[1];return C.useEffect(function(){e.getAnnotations({intent:"display"}).then(function(f){n.current&&d({loading:!1,annotations:f})})},[]),l.loading?C.createElement(C.Fragment,null):r(l.annotations)},Gs=function(t){var e=t.doc,r=t.outlines,n=t.page,i=t.pageIndex,l=t.plugins,d=t.rotation,f=t.scale,m=t.onExecuteNamedAction,o=t.onJumpFromLinkAnnotation,a=t.onJumpToDest;return C.createElement(qs,{page:n,renderAnnotations:function(s){return C.createElement(Us,{annotations:s,doc:e,outlines:r,page:n,pageIndex:i,plugins:l,rotation:d,scale:f,onExecuteNamedAction:m,onJumpFromLinkAnnotation:o,onJumpToDest:a})}})},Bn=function(t,e){var r=t%e;return r===0?t:Math.floor(t-r)},Xs=function(t){var e=t.canvasLayerRef,r=t.height,n=t.page,i=t.pageIndex,l=t.plugins,d=t.rotation,f=t.scale,m=t.width,o=t.onRenderCanvasCompleted,a=C.useRef();return qe(function(){var s=a.current;s&&s.cancel();var h=e.current;h.removeAttribute("data-testid"),l.forEach(function(B){B.onCanvasLayerRender&&B.onCanvasLayerRender({ele:h,pageIndex:i,rotation:d,scale:f,status:H.LayerRenderStatus.PreRender})});var u=n.getViewport({rotation:d,scale:f}),c=window.devicePixelRatio||1,p=Math.sqrt(16777216/(u.width*u.height)),b=c>p;b?h.style.transform="scale(1, 1)":h.style.removeProperty("transform");var v=Math.min(p,c),w=function(B,V){var N,q;if(Math.floor(B)===B)return[B,1];var U=1/B;if(U>V)return[1,V];if(Math.floor(U)===U)return[1,U];for(var Q=B>1?U:B,ee=0,$=1,ie=1,J=1;;){var j=ee+ie,k=$+J;if(k>V)break;Q<=j/k?(ie=(N=[j,k])[0],J=N[1]):(ee=(q=[j,k])[0],$=q[1])}return Q<(ee/$+ie/J)/2?Q===B?[ee,$]:[$,ee]:Q===B?[ie,J]:[J,ie]}(v,8),x=w[0],T=w[1];h.width=Bn(u.width*v,x),h.height=Bn(u.height*v,x),h.style.width="".concat(Bn(u.width,T),"px"),h.style.height="".concat(Bn(u.height,T),"px"),h.hidden=!0;var _=h.getContext("2d",{alpha:!1}),P=b||c!==1?[v,0,0,v,0,0]:null;return a.current=n.render({canvasContext:_,transform:P,viewport:u}),a.current.promise.then(function(){h.hidden=!1,h.setAttribute("data-testid","core__canvas-layer-".concat(i)),l.forEach(function(B){B.onCanvasLayerRender&&B.onCanvasLayerRender({ele:h,pageIndex:i,rotation:d,scale:f,status:H.LayerRenderStatus.DidRender})}),o()},function(){o()}),function(){h&&(h.width=0,h.height=0)}},[]),C.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(r,"px"),width:"".concat(m,"px")}},C.createElement("canvas",{ref:e}))},Ks=function(t){var e=t.height,r=t.page,n=t.rotation,i=t.scale,l=t.width,d=C.useRef();return qe(function(){var f=d.current,m=r.getViewport({rotation:n,scale:i});r.getOperatorList().then(function(o){(function(){var a=d.current;a&&(a.innerHTML="")})(),new en.SVGGraphics(r.commonObjs,r.objs).getSVG(o,m).then(function(a){a.style.height="".concat(e,"px"),a.style.width="".concat(l,"px"),f.appendChild(a)})})},[]),C.createElement("div",{className:"rpv-core__svg-layer",ref:d})},$s=function(t){var e=t.containerRef,r=t.page,n=t.pageIndex,i=t.plugins,l=t.rotation,d=t.scale,f=t.onRenderTextCompleted,m=C.useRef(),o=function(){var a=e.current;a&&([].slice.call(a.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(s){return a.removeChild(s)}),[].slice.call(a.querySelectorAll('br[role="presentation"]')).forEach(function(s){return a.removeChild(s)}))};return qe(function(){var a=m.current;a&&a.cancel();var s=e.current;if(s){s.removeAttribute("data-testid");var h=r.getViewport({rotation:l,scale:d});return i.forEach(function(u){u.onTextLayerRender&&u.onTextLayerRender({ele:s,pageIndex:n,scale:d,status:H.LayerRenderStatus.PreRender})}),r.getTextContent().then(function(u){o(),m.current=en.renderTextLayer({container:s,textContent:u,textContentSource:u,viewport:h}),m.current.promise.then(function(){s.setAttribute("data-testid","core__text-layer-".concat(n)),[].slice.call(s.children).forEach(function(c){c.classList.contains("rpv-core__text-layer-text--not")||c.classList.add("rpv-core__text-layer-text")}),i.forEach(function(c){c.onTextLayerRender&&c.onTextLayerRender({ele:s,pageIndex:n,scale:d,status:H.LayerRenderStatus.DidRender})}),f()},function(){s.removeAttribute("data-testid"),f()})}),function(){var u;o(),(u=m.current)===null||u===void 0||u.cancel()}}},[]),C.createElement("div",{className:"rpv-core__text-layer",ref:e})},Ys=function(t){var e=t.doc,r=t.measureRef,n=t.outlines,i=t.pageIndex,l=t.pageRotation,d=t.pageSize,f=t.plugins,m=t.renderPage,o=t.renderQueueKey,a=t.rotation,s=t.scale,h=t.shouldRender,u=t.viewMode,c=t.onExecuteNamedAction,p=t.onJumpFromLinkAnnotation,b=t.onJumpToDest,v=t.onRenderCompleted,w=t.onRotatePage,x=Sn(),T=C.useState(null),_=T[0],P=T[1],B=C.useState(!1),V=B[0],N=B[1],q=C.useState(!1),U=q[0],Q=q[1],ee=C.useRef(),$=C.useRef(),ie=Math.abs(a+l)%180==0,J=d.pageWidth*s,j=d.pageHeight*s,k=ie?J:j,E=ie?j:J,y=(d.rotation+a+l)%360,M=C.useRef(0),O=m||function(L){return C.createElement(C.Fragment,null,L.canvasLayer.children,L.textLayer.children,L.annotationLayer.children)};return C.useEffect(function(){P(null),N(!1),Q(!1)},[l,a,s]),C.useEffect(function(){h&&x.current&&!_&&Gn(e,i).then(function(L){x.current&&(M.current=o,P(L))})},[h,_]),C.useEffect(function(){V&&U&&(o!==M.current?(P(null),N(!1),Q(!1)):v(i))},[V,U]),C.createElement("div",{className:Ge({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":u===H.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":u===H.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":u===H.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(i),ref:r,style:{height:"".concat(E,"px"),width:"".concat(k,"px")}},_?C.createElement(C.Fragment,null,O({annotationLayer:{attrs:{},children:C.createElement(Gs,{doc:e,outlines:n,page:_,pageIndex:i,plugins:f,rotation:y,scale:s,onExecuteNamedAction:c,onJumpFromLinkAnnotation:p,onJumpToDest:b})},canvasLayer:{attrs:{},children:C.createElement(Xs,{canvasLayerRef:ee,height:E,page:_,pageIndex:i,plugins:f,rotation:y,scale:s,width:k,onRenderCanvasCompleted:function(){x.current&&N(!0)}})},canvasLayerRendered:V,doc:e,height:E,pageIndex:i,rotation:y,scale:s,svgLayer:{attrs:{},children:C.createElement(Ks,{height:E,page:_,rotation:y,scale:s,width:k})},textLayer:{attrs:{},children:C.createElement($s,{containerRef:$,page:_,pageIndex:i,plugins:f,rotation:y,scale:s,onRenderTextCompleted:function(){x.current&&Q(!0)}})},textLayerRendered:U,width:k,markRendered:v,onRotatePage:function(L){return w(i,L)}}),f.map(function(L,I){return L.renderPageLayer?C.createElement(C.Fragment,{key:I},L.renderPageLayer({canvasLayerRef:ee,canvasLayerRendered:V,doc:e,height:E,pageIndex:i,rotation:y,scale:s,textLayerRef:$,textLayerRendered:U,width:k})):C.createElement(C.Fragment,{key:I})})):C.createElement(qn,{testId:"core__page-layer-loading-".concat(i)}))},Zs=function(t,e){var r=e.rect;return t.height!==r.height||t.width!==r.width?r:t};(function(t){t.Horizontal="Horizontal",t.Vertical="Vertical",t.Both="Both"})(He||(He={}));var Js=function(t){return 1-Math.pow(1-t,4)},jn=1e-4,Ri={left:0,top:0},Fi={capture:!1,passive:!0},Qs=function(t){var e=t.elementRef,r=t.enableSmoothScroll,n=t.isRtl,i=t.scrollDirection,l=t.onSmoothScroll,d=C.useState(Ri),f=d[0],m=d[1],o=C.useState(e.current),a=o[0],s=o[1],h=n?-1:1,u=C.useRef(i);u.current=i;var c=C.useRef(Ri),p=C.useRef(!0),b=C.useCallback(function(){p.current=!0,r&&m(c.current),l(!1)},[]),v=C.useCallback(function(){if(a){switch(u.current){case He.Horizontal:c.current={left:h*a.scrollLeft,top:0};break;case He.Both:c.current={left:h*a.scrollLeft,top:a.scrollTop};break;case He.Vertical:default:c.current={left:0,top:a.scrollTop}}r&&!p.current||m(c.current)}},[a]);qe(function(){s(e.current)}),qe(function(){if(a)return a.addEventListener("scroll",v,Fi),function(){a.removeEventListener("scroll",v,Fi)}},[a]);var w=C.useCallback(function(x,T){var _=e.current;if(!_)return Promise.resolve();var P={left:0,top:0};switch(u.current){case He.Horizontal:P.left=h*x.left;break;case He.Both:P.left=h*x.left,P.top=x.top;break;case He.Vertical:default:P.top=x.top}return T?(p.current=!1,l(!0),new Promise(function(B,V){(function(N,q,U,Q,ee,$){ee===void 0&&(ee=function(I){return I}),$===void 0&&($=function(){});var ie=0,J=0,j=!1;switch(q){case He.Horizontal:J=N.scrollLeft,ie=0;case He.Both:J=N.scrollLeft,ie=N.scrollTop;break;case He.Vertical:default:J=0,ie=N.scrollTop}var k=function(){j||(j=!0,N.scrollLeft=U.left,N.scrollTop=U.top,$())};if(Math.abs(ie-U.top)<=jn&&q===He.Vertical)k();else if(Math.abs(J-U.left)<=jn&&q===He.Horizontal)k();else{var E,y=-1,M=J-U.left,O=ie-U.top,L=function(I){y===-1&&(y=I);var D=I-y,g=Math.min(D/Q,1),S=ee(g),A={left:J-M*S,top:ie-O*S};switch(q){case He.Horizontal:N.scrollLeft=A.left;break;case He.Both:N.scrollLeft=A.left,N.scrollTop=A.top;break;case He.Vertical:default:N.scrollTop=A.top}Math.abs(A.top-U.top)<=jn&&Math.abs(A.left-U.left)<=jn&&!j&&(window.cancelAnimationFrame(E),k()),D<Q?E=window.requestAnimationFrame(L):window.cancelAnimationFrame(E)};E=window.requestAnimationFrame(L)}})(_,u.current,P,400,Js,function(){b(),B()})})):new Promise(function(B,V){switch(u.current){case He.Horizontal:_.scrollLeft=P.left;break;case He.Both:_.scrollLeft=P.left,_.scrollTop=P.top;break;case He.Vertical:default:_.scrollTop=P.top}B()})},[e]);return{scrollOffset:f,scrollTo:w}},yn=function(t,e,r){return Math.max(t,Math.min(r,e))},ec=function(t,e){if(e!==H.ViewMode.DualPageWithCover)return 0;if(!function(i){var l=i.length;if(l===1)return!1;for(var d=1;d<l;d++)if(i[d].height!==i[0].height||i[d].width!==i[0].width)return!0;return!1}(t))return 2*t[0].width;var r=pn(t.slice(1),2).map(function(i){return i.length===2?i[0].width+i[1].width:i[0].width}),n=[t[0].width].concat(r);return Math.max.apply(Math,n)},tc={left:0,top:0},nc={left:0,top:0},wr={left:0,top:0},rc={left:0,top:0},ic={height:0,width:0},Li={left:0,top:0},Ii="data-virtual-index",ac=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],oc=function(t){var e=t.enableSmoothScroll,r=t.isRtl,n=t.numberOfItems,i=t.parentRef,l=t.setRenderRange,d=t.sizes,f=t.scrollMode,m=t.viewMode,o=C.useState(!1),a=o[0],s=o[1],h=C.useCallback(function(g){return s(g)},[]),u=C.useRef(f);u.current=f;var c=C.useRef(m);c.current=m;var p=f===H.ScrollMode.Wrapped||m===H.ViewMode.DualPageWithCover||m===H.ViewMode.DualPage?He.Both:f===H.ScrollMode.Horizontal?He.Horizontal:He.Vertical,b=Qs({elementRef:i,enableSmoothScroll:e,isRtl:r,scrollDirection:p,onSmoothScroll:h}),v=b.scrollOffset,w=b.scrollTo,x=function(g){var S=g.elementRef,A=C.useState(S.current),R=A[0],F=A[1],z=C.useRef(!1),W=C.useReducer(Zs,{height:0,width:0}),G=W[0],Z=W[1];return qe(function(){S.current!==R&&F(S.current)}),qe(function(){if(R&&!z.current){z.current=!0;var X=R.getBoundingClientRect(),Y=X.height,re=X.width;Z({rect:{height:Y,width:re}})}},[R]),C.useEffect(function(){if(R){var X=new ResizeObserver(function(Y,re){Y.forEach(function(ne){if(ne.target===R){var ae=ne.contentRect,de=ae.height,oe=ae.width;Z({rect:{height:de,width:oe}})}})});return X.observe(R),function(){X.unobserve(R)}}},[R]),G}({elementRef:i}),T=C.useRef({scrollOffset:Li,measurements:[]});T.current.scrollOffset=v;var _=C.useMemo(function(){return Array(n).fill(-1)},[]),P=C.useState(_),B=P[0],V=P[1],N=C.useMemo(function(){var g=new IntersectionObserver(function(S){S.forEach(function(A){var R=A.isIntersecting?A.intersectionRatio:-1,F=A.target.getAttribute(Ii);if(F){var z=parseInt(F,10);0<=z&&z<n&&V(function(W){return W[z]=R,function(G,Z,X){if(X||arguments.length===2)for(var Y,re=0,ne=Z.length;re<ne;re++)!Y&&re in Z||(Y||(Y=Array.prototype.slice.call(Z,0,re)),Y[re]=Z[re]);return G.concat(Y||Array.prototype.slice.call(Z))}([],W,!0)})}})},{threshold:ac});return g},[]),q=C.useMemo(function(){return f===H.ScrollMode.Page&&m===H.ViewMode.SinglePage?function(g,S,A){for(var R=[],F=0;F<g;F++){var z={height:Math.max(S.height,A[F].height),width:Math.max(S.width,A[F].width)},W=F===0?rc:R[F-1].end,G={left:W.left+z.width,top:W.top+z.height};R[F]={index:F,start:W,size:z,end:G,visibility:-1}}return R}(n,x,d):m===H.ViewMode.DualPageWithCover?function(g,S,A,R){for(var F=[],z=0,W=0,G=wr,Z=0;Z<g;Z++){var X=Z===0?{height:R===H.ScrollMode.Page?Math.max(S.height,A[Z].height):A[Z].height,width:R===H.ScrollMode.Page?Math.max(S.width,A[Z].width):A[Z].width}:{height:R===H.ScrollMode.Page?Math.max(S.height,A[Z].height):A[Z].height,width:Math.max(S.width/2,A[Z].width)};R===H.ScrollMode.Page?G=Z===0?wr:{left:Z%2==0?X.width:0,top:Math.floor((Z-1)/2)*X.height+F[0].end.top}:Z===0?(G=wr,z=A[0].height,W=0):Z%2==1?(G={left:0,top:z+=W},W=Z===g-1?A[Z].height:Math.max(A[Z].height,A[Z+1].height)):G={left:F[Z-1].end.left,top:z};var Y={left:G.left+X.width,top:G.top+X.height};F[Z]={index:Z,start:G,size:X,end:Y,visibility:-1}}return F}(n,x,d,f):m===H.ViewMode.DualPage?function(g,S,A,R){for(var F=[],z=0,W=0,G=nc,Z=0;Z<g;Z++){var X={height:R===H.ScrollMode.Page?Math.max(S.height,A[Z].height):A[Z].height,width:Math.max(S.width/2,A[Z].width)};R===H.ScrollMode.Page?G={left:Z%2==0?0:X.width,top:Math.floor(Z/2)*X.height}:Z%2==0?(G={left:0,top:z+=W},W=Z===g-1?A[Z].height:Math.max(A[Z].height,A[Z+1].height)):G={left:F[Z-1].end.left,top:z};var Y={left:G.left+X.width,top:G.top+X.height};F[Z]={index:Z,start:G,size:X,end:Y,visibility:-1}}return F}(n,x,d,f):function(g,S,A,R){for(var F=[],z=0,W={left:0,top:0},G=0,Z=tc,X=0;X<g;X++){var Y=A[X];if(X===0)z=Y.width,W={left:0,top:0},G=Y.height;else switch(R){case H.ScrollMode.Wrapped:(z+=Y.width)<S.width?(Z={left:F[X-1].end.left,top:W.top},G=Math.max(G,Y.height)):(z=Y.width,W={left:(Z={left:W.left,top:W.top+G}).left,top:Z.top},G=Y.height);break;case H.ScrollMode.Horizontal:case H.ScrollMode.Vertical:default:Z=F[X-1].end}var re={left:Z.left+Y.width,top:Z.top+Y.height};F[X]={index:X,start:Z,size:Y,end:re,visibility:-1}}return F}(n,x,d,f)},[f,d,m,x]),U=q[n-1]?{height:q[n-1].end.top,width:q[n-1].end.left}:ic;T.current.measurements=q;var Q=C.useMemo(function(){var g=function(X,Y,re,ne){var ae=0;switch(X){case He.Horizontal:ae=ne.left;break;case He.Vertical:default:ae=ne.top}var de=Y.length-1,oe=function(ke,Xe,yt,Qe){for(;ke<=Xe;){var dt=(ke+Xe)/2|0,It=Qe(dt);if(It<yt)ke=dt+1;else{if(!(It>yt))return dt;Xe=dt-1}}return ke>0?ke-1:0}(0,de,ae,function(ke){switch(X){case He.Horizontal:return Y[ke].start.left;case He.Both:case He.Vertical:default:return Y[ke].start.top}});if(X===He.Both)for(var me=Y[oe].start.top;oe-1>=0&&Y[oe-1].start.top===me&&Y[oe-1].start.left>=ne.left;)oe--;for(var fe=oe;fe<=de;){var ve={top:Y[fe].start.top-ne.top,left:Y[fe].start.left-ne.left},Ae={height:re.height-ve.top,width:re.width-ve.left};if(X===He.Horizontal&&Ae.width<0||X===He.Vertical&&Ae.height<0||X===He.Both&&(Ae.width<0||Ae.height<0))break;fe++}return{start:oe,end:fe}}(p,q,x,v),S=g.start,A=g.end,R=B.slice(yn(0,n,S),yn(0,n,A)),F=S+R.reduce(function(X,Y,re,ne){return Y>ne[X]?re:X},0),z=F=yn(0,n-1,F),W=l({endPage:A,numPages:n,startPage:S}),G=W.startPage,Z=W.endPage;switch(G=Math.max(G,0),Z=Math.min(Z,n-1),m){case H.ViewMode.DualPageWithCover:F>0&&(z=F%2==1?F:F-1),G=G===0?0:G%2==1?G:G-1,n-(Z=Z%2==1?Z-1:Z)<=2&&(Z=n-1);break;case H.ViewMode.DualPage:z=F%2==0?F:F-1,G=G%2==0?G:G-1,Z=Z%2==1?Z:Z-1;break;case H.ViewMode.SinglePage:default:z=F}return{startPage:G,endPage:Z,maxVisbilityIndex:z}},[q,x,v,m,B]),ee=Q.startPage,$=Q.endPage,ie=Q.maxVisbilityIndex,J=C.useMemo(function(){for(var g=[],S=function(R){var F=q[R],z=Pe(Pe({},F),{visibility:B[R]!==void 0?B[R]:-1,measureRef:function(W){W&&(W.setAttribute(Ii,"".concat(R)),N.observe(W))}});g.push(z)},A=ee;A<=$;A++)S(A);return g},[ee,$,B,q]),j=C.useCallback(function(g,S){var A=T.current.measurements[yn(0,n-1,g)],R=u.current===H.ScrollMode.Page?Li:S;return A?w({left:R.left+A.start.left,top:R.top+A.start.top},e):Promise.resolve()},[w,e]),k=C.useCallback(function(g,S){var A=T.current.measurements,R=A[g].start,F=A.find(function(W){return W.start.top-R.top>1e-12});if(!F)return Promise.resolve();var z=F.index;switch(c.current){case H.ViewMode.DualPage:z=z%2==0?z:z+1;break;case H.ViewMode.DualPageWithCover:z=z%2==1?z:z+1}return j(z,S)},[]),E=C.useCallback(function(g,S){for(var A=T.current.measurements,R=A[g].start,F=g,z=!1,W=n-1;W>=0;W--)if(R.top-A[W].start.top>1e-12){z=!0,F=A[W].index;break}if(!z)return Promise.resolve();switch(c.current){case H.ViewMode.DualPage:F=F%2==0?F:F-1;break;case H.ViewMode.DualPageWithCover:F=F%2==0?F-1:F}return F===g&&(F=g-1),j(F,S)},[]),y=C.useCallback(function(g,S){if(c.current===H.ViewMode.DualPageWithCover||c.current===H.ViewMode.DualPage)return k(g,S);switch(u.current){case H.ScrollMode.Wrapped:return k(g,S);case H.ScrollMode.Horizontal:case H.ScrollMode.Vertical:default:return j(g+1,S)}},[]),M=C.useCallback(function(g,S){if(c.current===H.ViewMode.DualPageWithCover||c.current===H.ViewMode.DualPage)return E(g,S);switch(u.current){case H.ScrollMode.Wrapped:return E(g,S);case H.ScrollMode.Horizontal:case H.ScrollMode.Vertical:default:return j(g-1,S)}},[]),O=C.useCallback(function(){return function(g,S){switch(S){case H.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(g.width,"px")};case H.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(g.height,"px"),width:"100%"}}}(U,u.current)},[U]),L=C.useCallback(function(g){return function(S,A,R){return R!==H.ScrollMode.Page?{}:{height:"".concat(A.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(S.start.top,"px)")}}(g,x,u.current)},[x]),I=C.useCallback(function(g){return function(S,A,R,F,z){var W,G,Z,X,Y,re,ne,ae=A?"right":"left",de=A?-1:1,oe=R.length,me=S.start.left*de,fe=S.size,ve=fe.height,Ae=fe.width;if(F===H.ViewMode.DualPageWithCover){var ke=z===H.ScrollMode.Page?0:S.start.top;return S.index===0||oe%2==0&&S.index===oe-1?((W={height:"".concat(ve,"px"),minWidth:"".concat(ec(R,F),"px"),width:"100%"})[ae]=0,W.position="absolute",W.top=0,W.transform="translate(".concat(me,"px, ").concat(ke,"px)"),W):((G={height:"".concat(ve,"px"),width:"".concat(Ae,"px")})[ae]=0,G.position="absolute",G.top=0,G.transform="translate(".concat(me,"px, ").concat(ke,"px)"),G)}if(F===H.ViewMode.DualPage)return(Z={height:"".concat(ve,"px"),width:"".concat(Ae,"px")})[ae]=0,Z.position="absolute",Z.top=0,Z.transform="translate(".concat(me,"px, ").concat(z===H.ScrollMode.Page?0:S.start.top,"px)"),Z;switch(z){case H.ScrollMode.Horizontal:return(X={height:"100%",width:"".concat(Ae,"px")})[ae]=0,X.position="absolute",X.top=0,X.transform="translateX(".concat(me,"px)"),X;case H.ScrollMode.Page:return(Y={height:"".concat(ve,"px"),width:"".concat(Ae,"px")})[ae]=0,Y.position="absolute",Y.top=0,Y;case H.ScrollMode.Wrapped:return(re={height:"".concat(ve,"px"),width:"".concat(Ae,"px")})[ae]=0,re.position="absolute",re.top=0,re.transform="translate(".concat(me,"px, ").concat(S.start.top,"px)"),re;case H.ScrollMode.Vertical:default:return(ne={height:"".concat(ve,"px"),width:"100%"})[ae]=0,ne.position="absolute",ne.top=0,ne.transform="translateY(".concat(S.start.top,"px)"),ne}}(g,r,d,c.current,u.current)},[r,d]),D=C.useCallback(function(g,S){var A=T.current,R=A.measurements,F=A.scrollOffset,z=R[yn(0,n-1,S)];if(z){var W=u.current===H.ScrollMode.Page?{left:z.start.left,top:z.start.top}:{left:F.left*g,top:F.top*g};return w(W,!1)}return Promise.resolve()},[]);return C.useEffect(function(){return function(){N.disconnect()}},[]),{boundingClientRect:x,isSmoothScrolling:a,startPage:ee,endPage:$,maxVisbilityIndex:ie,virtualItems:J,getContainerStyles:O,getItemContainerStyles:L,getItemStyles:I,scrollToItem:j,scrollToNextItem:y,scrollToPreviousItem:M,zoom:D}},Tr=function(t,e,r,n,i,l){var d=r;switch(!0){case(i===H.ViewMode.DualPageWithCover&&l>=3):case(i===H.ViewMode.DualPage&&l>=3):d=2*r;break;default:d=r}switch(n){case H.SpecialZoomLevel.ActualSize:return 1;case H.SpecialZoomLevel.PageFit:return Math.min((t.clientWidth-17)/d,(t.clientHeight-16)/e);case H.SpecialZoomLevel.PageWidth:return(t.clientWidth-17)/d}},sc=function(t){var e,r,n=t.getCurrentPage,i=(e=50,r=C.useRef([]),C.useEffect(function(){return function(){r.current=[]}},[]),{push:function(o){var a=r.current;a.length+1>e&&a.shift(),a.push(o),r.current=a},map:function(o){return r.current.map(function(a){return o(a)})},pop:function(){var o=r.current;if(o.length===0)return null;var a=o.pop();return r.current=o,a}}),l=function(o){var a=C.useRef([]);return C.useEffect(function(){return function(){a.current=[]}},[]),{dequeue:function(){var s=a.current;if(s.length===0)return null;var h=s.shift();return a.current=s,h||null},enqueue:function(s){var h=a.current;h.length+1>o&&h.pop(),a.current=[s].concat(h)},map:function(s){return a.current.map(function(h){return s(h)})}}}(50),d=function(){var o=l.dequeue();return o&&i.push(o),o&&o.pageIndex===n()?d():o},f=function(){var o=i.pop();return o&&l.enqueue(o),o&&o.pageIndex===n()?f():o},m=C.useCallback(function(o){i.push(o)},[]);return{getNextDestination:d,getPreviousDestination:f,markVisitedDestination:m}},Qi=function(t){var e=[];return t.map(function(r){e=e.concat(r).concat(function(n){var i=[];return n.items&&n.items.length>0&&(i=i.concat(Qi(n.items))),i}(r))}),e},Di={capture:!1,passive:!0},cc={height:0,width:0},Ar={height:0,width:0},lc=function(t){var e=t.getCurrentPage,r=t.getCurrentScrollMode,n=t.jumpToPage,i=t.targetRef,l=C.useState(H.FullScreenMode.Normal),d=l[0],f=l[1],m=function(){var B=C.useState(cc),V=B[0],N=B[1],q=Rr(function(){N({height:window.innerHeight,width:window.innerWidth})},100);return qe(function(){return window.addEventListener("resize",q,Di),function(){window.removeEventListener("resize",q,Di)}},[]),V}(),o=C.useState(Ar),a=o[0],s=o[1],h=C.useRef(Ar),u=C.useRef(e()),c=C.useRef(Ar),p=C.useState(i.current),b=p[0],v=p[1],w=C.useRef();qe(function(){i.current!==b&&v(i.current)},[]),qe(function(){if(b){var B=new ResizeObserver(function(V){V.forEach(function(N){var q=N.target.getBoundingClientRect(),U=q.height,Q=q.width;s({height:U,width:Q})})});return B.observe(b),function(){B.unobserve(b),B.disconnect()}}},[b]);var x=C.useCallback(function(B){var V=br();return V&&V!==B?(f(H.FullScreenMode.Normal),xi(V)):Promise.resolve()},[]),T=C.useCallback(function(B){B&&Wi()&&(v(B),x(B).then(function(){w.current=B,f(H.FullScreenMode.Entering),function(V){nn&&V[rn.RequestFullScreen]()}(B)}))},[]),_=C.useCallback(function(){br()&&(f(H.FullScreenMode.Exitting),xi(document))},[]),P=C.useCallback(function(){b&&br()!==b&&f(H.FullScreenMode.Exitting)},[b]);return C.useEffect(function(){switch(d){case H.FullScreenMode.Entering:w.current&&(w.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),u.current=e(),h.current={height:window.innerHeight,width:window.innerWidth};break;case H.FullScreenMode.Entered:r()===H.ScrollMode.Page?n(u.current).then(function(){f(H.FullScreenMode.EnteredCompletely)}):f(H.FullScreenMode.EnteredCompletely);break;case H.FullScreenMode.Exitting:w.current&&(w.current.style.backgroundColor="",w.current=null),u.current=e();break;case H.FullScreenMode.Exited:f(H.FullScreenMode.Normal),r()===H.ScrollMode.Page&&n(u.current)}},[d]),C.useEffect(function(){if(d!==H.FullScreenMode.Normal)return d===H.FullScreenMode.Entering&&m.height===a.height&&m.width===a.width&&m.height>0&&m.width>0&&(c.current.height===0||m.height==c.current.height)?(c.current={height:window.innerHeight,width:window.innerWidth},void f(H.FullScreenMode.Entered)):void(d===H.FullScreenMode.Exitting&&h.current.height===m.height&&h.current.width===m.width&&m.height>0&&m.width>0&&f(H.FullScreenMode.Exited))},[d,m,a]),C.useEffect(function(){var B;return B=P,nn&&document.addEventListener(rn.FullScreenChange,B),function(){(function(V){nn&&document.removeEventListener(rn.FullScreenChange,V)})(P)}},[b]),{enterFullScreenMode:T,exitFullScreenMode:_,fullScreenMode:d}},uc={buildPageStyles:function(){return{}},transformSize:function(t){return t.size}},fn={left:0,top:0},dc=function(t){var e=t.currentFile,r=t.defaultScale,n=t.doc,i=t.enableSmoothScroll,l=t.initialPage,d=t.initialRotation,f=t.initialScale,m=t.pageLayout,o=t.pageSizes,a=t.plugins,s=t.renderPage,h=t.scrollMode,u=t.setRenderRange,c=t.viewMode,p=t.viewerState,b=t.onDocumentLoad,v=t.onOpenFile,w=t.onPageChange,x=t.onRotate,T=t.onRotatePage,_=t.onZoom,P=n.numPages,B=n.loadingTask.docId,V=C.useContext(Hn).l10n,N=C.useContext(ut),q=N.direction===H.TextDirection.RightToLeft,U=C.useRef(),Q=C.useRef(),ee=C.useState(l),$=ee[0],ie=ee[1],J=C.useRef(null),j=sc({getCurrentPage:function(){return oe.current.pageIndex}}),k=C.useState(d),E=k[0],y=k[1],M=tn(E),O=C.useState(!1),L=O[0],I=O[1],D=C.useState(new Map),g=D[0],S=D[1],A=C.useState(h),R=A[0],F=A[1],z=tn(R),W=C.useState(c),G=W[0],Z=W[1],X=tn(G),Y=function(se){var Ce=Sn(),Re=C.useState([]),ze=Re[0],Ne=Re[1];return C.useEffect(function(){se.getOutline().then(function(Fe){if(Ce.current&&Fe!==null){var tt=Qi(Fe);Ne(tt)}})},[]),ze}(n),re=C.useState(f),ne=re[0],ae=re[1],de=tn(ne),oe=C.useRef(p),me=C.useRef(typeof r=="string"?r:null),fe=C.useRef(-1),ve=C.useRef(-1),Ae=C.useRef(l),ke=lc({getCurrentPage:function(){return oe.current.pageIndex},getCurrentScrollMode:function(){return oe.current.scrollMode},jumpToPage:function(se){return St(se)},targetRef:Q}),Xe=C.useState(-1),yt=Xe[0],Qe=Xe[1],dt=C.useState(0),It=dt[0],lr=dt[1],_t=Ui({doc:n});C.useEffect(function(){return function(){Wn.clear(),Mr.clear()}},[B]);var le=C.useMemo(function(){return Object.assign({},uc,m)},[]),te=C.useMemo(function(){return Array(P).fill(0).map(function(se,Ce){var Re=[o[Ce].pageHeight,o[Ce].pageWidth],ze=Math.abs(E)%180==0?{height:Re[0],width:Re[1]}:{height:Re[1],width:Re[0]},Ne={height:ze.height*ne,width:ze.width*ne};return le.transformSize({numPages:P,pageIndex:Ce,size:Ne})})},[E,ne]),K=oc({enableSmoothScroll:i,isRtl:q,numberOfItems:P,parentRef:Q,scrollMode:R,setRenderRange:u,sizes:te,viewMode:G}),ge=Rr(function(){!me.current||oe.current.fullScreenMode!==H.FullScreenMode.Normal||l>0&&Ae.current===l||Je(me.current)},200);(function(se){var Ce=se.targetRef,Re=se.onResize;qe(function(){var ze=new ResizeObserver(function(Fe){Fe.forEach(function(tt){Re(tt.target)})}),Ne=Ce.current;if(Ne)return ze.observe(Ne),function(){ze.unobserve(Ne)}},[])})({targetRef:Q,onResize:ge});var Ie=function(se){var Ce=se;a.forEach(function(Re){Re.onViewerStateChange&&(Ce=Re.onViewerStateChange(Ce))}),oe.current=Ce},it=function(){return Q.current},at=function(){return oe.current},Bt=C.useCallback(function(se){j.markVisitedDestination(se)},[]),Tt=C.useCallback(function(se){var Ce=se.pageIndex,Re=se.bottomOffset,ze=se.leftOffset,Ne=se.scaleTo,Fe=Q.current,tt=oe.current;return Fe&&tt?new Promise(function(Ht,pr){Gn(n,Ce).then(function(Rn){var Vt=Rn.getViewport({scale:1}),Fn=0,hi=(typeof Re=="function"?Re(Vt.width,Vt.height):Re)||0,Ln=(typeof ze=="function"?ze(Vt.width,Vt.height):ze)||0,un=tt.scale;switch(Ne){case H.SpecialZoomLevel.PageFit:Fn=0,Ln=0,Je(H.SpecialZoomLevel.PageFit);break;case H.SpecialZoomLevel.PageWidth:un=Tr(Fe,o[Ce].pageHeight,o[Ce].pageWidth,H.SpecialZoomLevel.PageWidth,c,P),Fn=(Vt.height-hi)*un,Ln*=un,Je(un);break;default:Fn=(Vt.height-hi)*un,Ln*=un}switch(tt.scrollMode){case H.ScrollMode.Horizontal:K.scrollToItem(Ce,{left:Ln,top:0}).then(function(){Ht()});break;case H.ScrollMode.Vertical:default:K.scrollToItem(Ce,{left:0,top:Fn}).then(function(){Ht()})}})}):Promise.resolve()},[]),Rt=C.useCallback(function(se){return j.markVisitedDestination(se),Tt(se)},[]),bt=C.useCallback(function(){var se=j.getNextDestination();return se?Tt(se):Promise.resolve()},[]),jt=C.useCallback(function(){var se=j.getPreviousDestination();return se?Tt(se):Promise.resolve()},[]),Ft=C.useCallback(function(){return K.scrollToNextItem(oe.current.pageIndex,fn)},[]),St=C.useCallback(function(se){return 0<=se&&se<P?K.scrollToItem(se,fn):Promise.resolve()},[]),et=C.useCallback(function(){return K.scrollToPreviousItem(oe.current.pageIndex,fn)},[]),$t=C.useCallback(function(se){var Ce,Re;(Ce=se.name,Re=Ce.split(/\./).pop(),Re?Re.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(ze){var Ne=new FileReader;Ne.readAsArrayBuffer(se),Ne.onload=function(){var Fe=new Uint8Array(Ne.result);ze(Fe)}}).then(function(ze){v(se.name,ze)})},[v]),Yt=C.useCallback(function(se){var Ce=se===H.RotateDirection.Backward?-90:90,Re=oe.current.rotation,ze=Re===360||Re===-360?Ce:Re+Ce;_t.markNotRendered(),y(ze),Ie(Pe(Pe({},oe.current),{rotation:ze})),x({direction:se,doc:n,rotation:ze})},[]),Zt=C.useCallback(function(se,Ce){var Re=Ce===H.RotateDirection.Backward?-90:90,ze=oe.current.pagesRotation,Ne=(ze.has(se)?ze.get(se):d)+Re,Fe=ze.set(se,Ne);S(Fe),I(function(tt){return!tt}),Ie(Pe(Pe({},oe.current),{pagesRotation:Fe,rotatedPage:se})),T({direction:Ce,doc:n,pageIndex:se,rotation:Ne}),_t.markRendering(se),Qe(se)},[]),ln=C.useCallback(function(se){Ie(Pe(Pe({},oe.current),{scrollMode:se})),F(se)},[]),zt=C.useCallback(function(se){Ie(Pe(Pe({},oe.current),{viewMode:se})),Z(se)},[]),Je=C.useCallback(function(se){var Ce=Q.current,Re=oe.current.pageIndex;if(!(Re<0||Re>=P)){var ze=o[Re].pageHeight,Ne=o[Re].pageWidth,Fe=Ce?typeof se=="string"?Tr(Ce,ze,Ne,se,oe.current.viewMode,P):se:1;me.current=typeof se=="string"?se:null,Fe!==oe.current.scale&&(lr(function(tt){return tt+1}),_t.markNotRendered(),ae(Fe),_({doc:n,scale:Fe}),Ie(Pe(Pe({},oe.current),{scale:Fe})))}},[]),Jt=C.useCallback(function(se){ke.enterFullScreenMode(se)},[]),_n=C.useCallback(function(){ke.exitFullScreenMode()},[]);C.useEffect(function(){Ie(Pe(Pe({},oe.current),{fullScreenMode:ke.fullScreenMode}))},[ke.fullScreenMode]),C.useEffect(function(){var se={enterFullScreenMode:Jt,exitFullScreenMode:_n,getPagesContainer:it,getViewerState:at,jumpToDestination:Rt,jumpToNextDestination:bt,jumpToPreviousDestination:jt,jumpToNextPage:Ft,jumpToPreviousPage:et,jumpToPage:St,openFile:$t,rotate:Yt,rotatePage:Zt,setViewerState:Ie,switchScrollMode:ln,switchViewMode:zt,zoom:Je};return a.forEach(function(Ce){Ce.install&&Ce.install(se)}),function(){a.forEach(function(Ce){Ce.uninstall&&Ce.uninstall(se)})}},[B]),C.useEffect(function(){b({doc:n,file:e}),a.forEach(function(se){se.onDocumentLoad&&se.onDocumentLoad({doc:n,file:e})})},[B]);var ur,dr,hr,ui=K.boundingClientRect;ur=function(){l&&St(l)},dr=ui.height>0&&ui.width>0,hr=C.useRef(!1),qe(function(){dr&&!hr.current&&(hr.current=!0,ur())},[ur,dr]),qe(function(){var se=oe.current.pageIndex;se>-1&&z!==R&&K.scrollToItem(se,fn).then(function(){ke.fullScreenMode===H.FullScreenMode.EnteredCompletely&&(i||_t.markNotRendered(),fe.current=-1)})},[R]),qe(function(){var se=oe.current.pageIndex;se>-1&&M!==E&&K.scrollToItem(se,fn)},[E]),qe(function(){de!=0&&de!=oe.current.scale&&K.zoom(oe.current.scale/de,oe.current.pageIndex).then(function(){ke.fullScreenMode===H.FullScreenMode.EnteredCompletely&&(ve.current=-1)})},[ne]),qe(function(){if(X!==oe.current.viewMode){var se=K.startPage,Ce=K.endPage,Re=K.virtualItems;_t.markNotRendered(),_t.setRange(se,Ce);for(var ze=function(Fe){var tt=Re.find(function(Ht){return Ht.index===Fe});tt&&_t.setVisibility(Fe,tt.visibility)},Ne=se;Ne<=Ce;Ne++)ze(Ne);fr()}},[G]),qe(function(){var se=oe.current.pageIndex;se>-1&&X!==G&&K.scrollToItem(se,fn)},[G]),qe(function(){var se=oe.current.pageIndex;se>0&&se===l&&Ae.current===l&&me.current&&(Ae.current=-1,Je(me.current))},[$]),C.useEffect(function(){K.isSmoothScrolling||J.current!==null&&J.current===$||(J.current=$,w({currentPage:$,doc:n}))},[$,K.isSmoothScrolling]),C.useEffect(function(){ke.fullScreenMode===H.FullScreenMode.Entering&&oe.current.scrollMode===H.ScrollMode.Page&&(fe.current=oe.current.pageIndex),ke.fullScreenMode===H.FullScreenMode.EnteredCompletely&&oe.current.scrollMode===H.ScrollMode.Page&&i&&(fe.current=-1),ke.fullScreenMode===H.FullScreenMode.EnteredCompletely&&me.current&&(ve.current=oe.current.pageIndex,Je(me.current))},[ke.fullScreenMode]),C.useEffect(function(){if(ke.fullScreenMode!==H.FullScreenMode.Entering&&ke.fullScreenMode!==H.FullScreenMode.Exitting&&!K.isSmoothScrolling){var se=K.startPage,Ce=K.endPage,Re=K.maxVisbilityIndex,ze=K.virtualItems,Ne=Re,Fe=ke.fullScreenMode===H.FullScreenMode.Entered||ke.fullScreenMode===H.FullScreenMode.EnteredCompletely;if(!(Fe&&Ne!==fe.current&&fe.current>-1||Fe&&Ne!==ve.current&&ve.current>-1)){ie(Ne),Ie(Pe(Pe({},oe.current),{pageIndex:Ne})),_t.setRange(se,Ce);for(var tt=function(pr){var Rn=ze.find(function(Vt){return Vt.index===pr});Rn&&_t.setVisibility(pr,Rn.visibility)},Ht=se;Ht<=Ce;Ht++)tt(Ht);fr()}}},[K.startPage,K.endPage,K.isSmoothScrolling,K.maxVisbilityIndex,ke.fullScreenMode,L,E,ne]);var is=C.useCallback(function(se){_t.markRendered(se),fr()},[It]),fr=function(){var se=_t.getHighestPriorityPage();se>-1&&_t.isInRange(se)&&(_t.markRendering(se),Qe(se))},as=function(se){var Ce=$-1,Re=$+1;switch(se){case"FirstPage":St(0);break;case"LastPage":St(P-1);break;case"NextPage":Re<P&&St(Re);break;case"PrevPage":Ce>=0&&St(Ce)}},os=C.useCallback(function(){var se=K.virtualItems,Ce=[];switch(G){case H.ViewMode.DualPage:Ce=pn(se,2);break;case H.ViewMode.DualPageWithCover:se.length&&(Ce=se[0].index===0?[[se[0]]].concat(pn(se.slice(1),2)):pn(se,2));break;case H.ViewMode.SinglePage:default:Ce=pn(se,1)}var Re=V&&V.core?V.core.pageLabel:"Page {{pageIndex}}",ze={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:U,style:{height:"100%"}},children:C.createElement(C.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:Ge({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":R===H.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":q,"rpv-core__inner-pages--single":R===H.ScrollMode.Page,"rpv-core__inner-pages--vertical":R===H.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":R===H.ScrollMode.Wrapped}),ref:Q,style:{height:"100%",position:"relative"}},children:C.createElement("div",{"data-testid":"core__inner-current-page-".concat($),style:Object.assign({"--scale-factor":ne},K.getContainerStyles())},Ce.map(function(Ne){return C.createElement("div",{className:Ge({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":R===H.ScrollMode.Page}),style:K.getItemContainerStyles(Ne[0]),key:"".concat(Ne[0].index,"-").concat(G)},Ne.map(function(Fe){var tt=G===H.ViewMode.DualPageWithCover&&(Fe.index===0||P%2==0&&Fe.index===P-1);return C.createElement("div",{"aria-label":Re.replace("{{pageIndex}}","".concat(Fe.index+1)),className:Ge({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":G===H.ViewMode.DualPage&&Fe.index%2==0,"rpv-core__inner-page--dual-odd":G===H.ViewMode.DualPage&&Fe.index%2==1,"rpv-core__inner-page--dual-cover":tt,"rpv-core__inner-page--dual-cover-even":G===H.ViewMode.DualPageWithCover&&!tt&&Fe.index%2==0,"rpv-core__inner-page--dual-cover-odd":G===H.ViewMode.DualPageWithCover&&!tt&&Fe.index%2==1,"rpv-core__inner-page--single":G===H.ViewMode.SinglePage&&R===H.ScrollMode.Page}),role:"region",key:"".concat(Fe.index,"-").concat(G),style:Object.assign({},K.getItemStyles(Fe),le.buildPageStyles({numPages:P,pageIndex:Fe.index,scrollMode:R,viewMode:G}))},C.createElement(Ys,{doc:n,measureRef:Fe.measureRef,outlines:Y,pageIndex:Fe.index,pageRotation:g.has(Fe.index)?g.get(Fe.index):0,pageSize:o[Fe.index],plugins:a,renderPage:s,renderQueueKey:It,rotation:E,scale:ne,shouldRender:yt===Fe.index,viewMode:G,onExecuteNamedAction:as,onJumpFromLinkAnnotation:Bt,onJumpToDest:Rt,onRenderCompleted:is,onRotatePage:Zt}))}))}))}};return a.forEach(function(Ne){Ne.renderViewer&&(ze=Ne.renderViewer({containerRef:U,doc:n,pagesContainerRef:Q,pagesRotation:g,pageSizes:o,rotation:E,slot:ze,themeContext:N,jumpToPage:St,openFile:$t,rotate:Yt,rotatePage:Zt,switchScrollMode:ln,switchViewMode:zt,zoom:Je}))}),ze},[a,K]),di=C.useCallback(function(se){return C.createElement("div",Pe({},se.attrs,{style:se.attrs&&se.attrs.style?se.attrs.style:{}}),se.children,se.subSlot&&di(se.subSlot))},[]);return di(os())},Oi=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],hc=function(t){var e=t.defaultScale,r=t.doc,n=t.render,i=t.scrollMode,l=t.viewMode,d=C.useRef(),f=C.useState({pageSizes:[],scale:0}),m=f[0],o=f[1];return C.useLayoutEffect(function(){var a=Array(r.numPages).fill(0).map(function(s,h){return new Promise(function(u,c){Gn(r,h).then(function(p){var b=p.getViewport({scale:1});u({pageHeight:b.height,pageWidth:b.width,rotation:b.rotation})})})});Promise.all(a).then(function(s){var h=d.current;if(h&&s.length!==0){var u=s[0].pageWidth,c=s[0].pageHeight,p=h.parentElement,b=(p.clientWidth-45)/u,v=(p.clientHeight-45)/c,w=b;switch(i){case H.ScrollMode.Horizontal:w=Math.min(b,v);break;case H.ScrollMode.Vertical:default:w=b}var x,T,_=e?typeof e=="string"?Tr(p,c,u,e,l,r.numPages):e:(x=w,(T=Oi.findIndex(function(P){return P>=x}))===-1||T===0?x:Oi[T-1]);o({pageSizes:s,scale:_})}})},[r.loadingTask.docId]),m.pageSizes.length===0||m.scale===0?C.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:d},C.createElement(qn,null)):n(m.pageSizes,m.scale)},Xn=function(){},Cr=function(t){function e(r,n){var i=t.call(this)||this;return i.verifyPassword=r,i.passwordStatus=n,i}return Un(e,t),e}(Xn),fc=function(t){var e=t.passwordStatus,r=t.renderProtectedView,n=t.verifyPassword,i=t.onDocumentAskPassword,l=C.useContext(Hn).l10n,d=C.useState(""),f=d[0],m=d[1],o=C.useContext(ut).direction===H.TextDirection.RightToLeft,a=function(){return n(f)};return C.useEffect(function(){i&&i({verifyPassword:n})},[]),r?r({passwordStatus:e,verifyPassword:n}):C.createElement("div",{className:"rpv-core__asking-password-wrapper"},C.createElement("div",{className:Ge({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":o})},C.createElement("div",{className:"rpv-core__asking-password-message"},e===H.PasswordStatus.RequiredPassword&&l.core.askingPassword.requirePasswordToOpen,e===H.PasswordStatus.WrongPassword&&l.core.wrongPassword.tryAgain),C.createElement("div",{className:"rpv-core__asking-password-body"},C.createElement("div",{className:Ge({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!o,"rpv-core__asking-password-input--rtl":o})},C.createElement(Vi,{testId:"core__asking-password-input",type:"password",value:f,onChange:m,onKeyDown:function(s){s.key==="Enter"&&a()}})),C.createElement(Hi,{onClick:a},l.core.askingPassword.submit))))},Ni=function(t){function e(r){var n=t.call(this)||this;return n.doc=r,n}return Un(e,t),e}(Xn),Bi=function(t){function e(r){var n=t.call(this)||this;return n.error=r,n}return Un(e,t),e}(Xn),Pr=function(t){function e(r){var n=t.call(this)||this;return n.percentages=r,n}return Un(e,t),e}(Xn),pc=function(t){var e=t.characterMap,r=t.file,n=t.httpHeaders,i=t.render,l=t.renderError,d=t.renderLoader,f=t.renderProtectedView,m=t.transformGetDocumentParams,o=t.withCredentials,a=t.onDocumentAskPassword,s=C.useContext(ut).direction===H.TextDirection.RightToLeft,h=C.useState(new Pr(0)),u=h[0],c=h[1],p=C.useRef(""),b=Sn();return C.useEffect(function(){p.current="",c(new Pr(0));var v=new en.PDFWorker({name:"PDFWorker_".concat(Date.now())}),w=Object.assign({httpHeaders:n,withCredentials:o,worker:v},typeof r=="string"?{url:r}:{data:r},e?{cMapUrl:e.url,cMapPacked:e.isCompressed}:{}),x=m?m(w):w,T=en.getDocument(x);return T.onPassword=function(_,P){switch(P){case en.PasswordResponses.NEED_PASSWORD:b.current&&c(new Cr(_,H.PasswordStatus.RequiredPassword));break;case en.PasswordResponses.INCORRECT_PASSWORD:b.current&&c(new Cr(_,H.PasswordStatus.WrongPassword))}},T.onProgress=function(_){var P=_.total>0?Math.min(100,100*_.loaded/_.total):100;b.current&&p.current===""&&c(new Pr(P))},T.promise.then(function(_){p.current=_.loadingTask.docId,b.current&&c(new Ni(_))},function(_){return b.current&&!v.destroyed&&c(new Bi({message:_.message||"Cannot load document",name:_.name}))}),function(){T.destroy(),v.destroy()}},[r]),u instanceof Cr?C.createElement(fc,{passwordStatus:u.passwordStatus,renderProtectedView:f,verifyPassword:u.verifyPassword,onDocumentAskPassword:a}):u instanceof Ni?i(u.doc):u instanceof Bi?l?l(u.error):C.createElement("div",{className:Ge({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":s})},C.createElement("div",{className:"rpv-core__doc-error-text"},u.error.message)):C.createElement("div",{"data-testid":"core__doc-loading",className:Ge({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":s})},d?d(u.percentages):C.createElement(qn,null))},mc=function(t,e){var r=C.useMemo(function(){return t==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t},[]),n=C.useState(r),i=n[0],l=n[1],d=tn(i);return C.useEffect(function(){if(t==="auto"){var f=window.matchMedia("(prefers-color-scheme: dark)"),m=function(o){l(o.matches?"dark":"light")};return f.addEventListener("change",m),function(){return f.removeEventListener("change",m)}}},[]),C.useEffect(function(){i!==d&&e&&e(i)},[i]),C.useEffect(function(){t!==i&&l(t)},[t]),{currentTheme:i,setCurrentTheme:l}},gc=function(t){return{startPage:t.startPage-3,endPage:t.endPage+3}};H.Button=function(t){var e=t.children,r=t.testId,n=t.onClick,i=C.useContext(ut).direction===H.TextDirection.RightToLeft,l=r?{"data-testid":r}:{};return C.createElement("button",Pe({className:Ge({"rpv-core__button":!0,"rpv-core__button--rtl":i}),type:"button",onClick:n},l),e)},H.Icon=Ut,H.LazyRender=function(t){var e=t.attrs,r=t.children,n=t.testId,i=C.useState(!1),l=i[0],d=i[1],f=n?Pe(Pe({},e),{"data-testid":n}):e,m=zn({once:!0,onVisibilityChanged:function(o){o.isVisible&&d(!0)}});return C.createElement("div",Pe({ref:m},f),l&&r)},H.LocalizationContext=Hn,H.Menu=function(t){var e=t.children,r=C.useRef(),n=C.useRef([]),i=C.useContext(ut).direction===H.TextDirection.RightToLeft,l=function(f){if(r.current)switch(f.key){case"Tab":f.preventDefault();break;case"ArrowDown":f.preventDefault(),d(function(m,o){return o+1});break;case"ArrowUp":f.preventDefault(),d(function(m,o){return o-1});break;case"End":f.preventDefault(),d(function(m,o){return m.length-1});break;case"Home":f.preventDefault(),d(function(m,o){return 0})}},d=function(f){if(r.current){var m=n.current,o=m.findIndex(function(s){return s.getAttribute("tabindex")==="0"}),a=Math.min(m.length-1,Math.max(0,f(m,o)));o>=0&&o<=m.length-1&&m[o].setAttribute("tabindex","-1"),m[a].setAttribute("tabindex","0"),m[a].focus()}};return qe(function(){var f=r.current;if(f){var m=function(o){var a=[];return o.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(s){if(s instanceof HTMLElement){var h=s.parentElement;(h===o||window.getComputedStyle(h).display!=="none")&&a.push(s)}}),a}(f);n.current=m}},[]),qe(function(){return document.addEventListener("keydown",l),function(){document.removeEventListener("keydown",l)}},[]),C.createElement("div",{ref:r,"aria-orientation":"vertical",className:Ge({"rpv-core__menu":!0,"rpv-core__menu--rtl":i}),role:"menu",tabIndex:0},e)},H.MenuDivider=function(){return C.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},H.MenuItem=function(t){var e=t.checked,r=e!==void 0&&e,n=t.children,i=t.icon,l=i===void 0?null:i,d=t.isDisabled,f=d!==void 0&&d,m=t.testId,o=t.onClick,a=C.useContext(ut).direction===H.TextDirection.RightToLeft,s=m?{"data-testid":m}:{};return C.createElement("button",Pe({className:Ge({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":f,"rpv-core__menu-item--ltr":!a,"rpv-core__menu-item--rtl":a}),role:"menuitem",tabIndex:-1,type:"button",onClick:o},s),C.createElement("div",{className:Ge({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!a,"rpv-core__menu-item-icon--rtl":a})},l),C.createElement("div",{className:Ge({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!a,"rpv-core__menu-item-label--rtl":a})},n),C.createElement("div",{className:Ge({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!a,"rpv-core__menu-item-check--rtl":a})},r&&C.createElement(zi,null)))},H.MinimalButton=function(t){var e=t.ariaLabel,r=e===void 0?"":e,n=t.ariaKeyShortcuts,i=n===void 0?"":n,l=t.children,d=t.isDisabled,f=d!==void 0&&d,m=t.isSelected,o=m!==void 0&&m,a=t.testId,s=t.onClick,h=C.useContext(ut).direction===H.TextDirection.RightToLeft,u=a?{"data-testid":a}:{};return C.createElement("button",Pe({"aria-label":r},i&&{"aria-keyshortcuts":i},f&&{"aria-disabled":!0},{className:Ge({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":f,"rpv-core__minimal-button--rtl":h,"rpv-core__minimal-button--selected":o}),type:"button",onClick:s},u),l)},H.Modal=function(t){var e=t.ariaControlsSuffix,r=t.closeOnClickOutside,n=t.closeOnEscape,i=t.content,l=t.isOpened,d=l!==void 0&&l,f=t.target,m=e||"".concat(Er());return C.createElement(fs,{target:f?function(o,a){return C.createElement("div",{"aria-expanded":a?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(m)},f(o,a))}:null,content:function(o){return C.createElement(hs,null,C.createElement(ds,{ariaControlsSuffix:m,closeOnClickOutside:r,closeOnEscape:n,onToggle:o},i(o)))},isOpened:d})},H.Popover=function(t){var e=t.ariaHasPopup,r=e===void 0?"dialog":e,n=t.ariaControlsSuffix,i=t.closeOnClickOutside,l=t.closeOnEscape,d=t.content,f=t.lockScroll,m=f===void 0||f,o=t.offset,a=t.position,s=t.target,h=Vn(!1),u=h.opened,c=h.toggle,p=C.useRef(),b=C.useMemo(function(){return n||"".concat(Er())},[]);return C.createElement("div",{ref:p,"aria-expanded":u?"true":"false","aria-haspopup":r,"aria-controls":"rpv-core__popver-body-".concat(b)},s(c,u),u&&C.createElement(C.Fragment,null,m&&C.createElement(ms,{closeOnEscape:l,onClose:c}),C.createElement(ps,{ariaControlsSuffix:b,closeOnClickOutside:i,offset:o,position:a,targetRef:p,onClose:c},d(c))))},H.PrimaryButton=Hi,H.ProgressBar=function(t){var e=t.progress,r=C.useContext(ut).direction===H.TextDirection.RightToLeft;return C.createElement("div",{className:Ge({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":r})},C.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(e,"%")}},e,"%"))},H.Separator=function(){return C.createElement("div",{className:"rpv-core__separator"})},H.Spinner=qn,H.Splitter=function(t){var e=t.constrain,r=C.useContext(ut).direction===H.TextDirection.RightToLeft,n=C.useRef(),i=C.useRef(),l=C.useRef(),d=C.useRef(0),f=C.useRef(0),m=C.useRef(0),o=C.useRef(0),a={capture:!0},s=function(u){var c=n.current,p=i.current,b=l.current;if(c&&p&&b){var v=o.current,w=u.clientX-d.current,x=m.current+(r?-w:w),T=c.parentElement.getBoundingClientRect().width,_=100*x/T;if(c.classList.add("rpv-core__splitter--resizing"),e){var P=T-x-v;if(!e({firstHalfPercentage:_,firstHalfSize:x,secondHalfPercentage:100*P/T,secondHalfSize:P}))return}p.style.width="".concat(_,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),p.classList.add("rpv-core__splitter-sibling--resizing"),b.classList.add("rpv-core__splitter-sibling--resizing")}},h=function(u){var c=n.current,p=i.current,b=l.current;c&&p&&b&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),c.classList.remove("rpv-core__splitter--resizing"),p.classList.remove("rpv-core__splitter-sibling--resizing"),b.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",s,a),document.removeEventListener("mouseup",h,a))};return C.useEffect(function(){var u=n.current;u&&(o.current=u.getBoundingClientRect().width,i.current=u.previousElementSibling,l.current=u.nextElementSibling)},[]),C.createElement("div",{ref:n,className:"rpv-core__splitter",onMouseDown:function(u){var c=i.current;c&&(d.current=u.clientX,f.current=u.clientY,m.current=c.getBoundingClientRect().width,document.addEventListener("mousemove",s,a),document.addEventListener("mouseup",h,a))}})},H.TextBox=Vi,H.ThemeContext=ut,H.Tooltip=function(t){var e=t.ariaControlsSuffix,r=t.content,n=t.offset,i=t.position,l=t.target,d=Vn(!1),f=d.opened,m=d.toggle,o=C.useRef(),a=C.useRef(),s=C.useMemo(function(){return e||"".concat(Er())},[]);Fr(function(){o.current&&document.activeElement&&o.current.contains(document.activeElement)&&u()});var h=function(){m(H.ToggleStatus.Open)},u=function(){m(H.ToggleStatus.Close)};return C.createElement(C.Fragment,null,C.createElement("div",{ref:o,"aria-describedby":"rpv-core__tooltip-body-".concat(s),onBlur:function(c){c.relatedTarget instanceof HTMLElement&&c.currentTarget.parentElement&&c.currentTarget.parentElement.contains(c.relatedTarget)?a.current&&(a.current.style.display="none"):u()},onFocus:h,onMouseEnter:h,onMouseLeave:u},l),f&&C.createElement(gs,{ariaControlsSuffix:s,contentRef:a,offset:n,position:i,targetRef:o},r()))},H.Viewer=function(t){var e=t.characterMap,r=t.defaultScale,n=t.enableSmoothScroll,i=n===void 0||n,l=t.fileUrl,d=t.httpHeaders,f=d===void 0?{}:d,m=t.initialPage,o=m===void 0?0:m,a=t.pageLayout,s=t.initialRotation,h=s===void 0?0:s,u=t.localization,c=t.plugins,p=c===void 0?[]:c,b=t.renderError,v=t.renderLoader,w=t.renderPage,x=t.renderProtectedView,T=t.scrollMode,_=T===void 0?H.ScrollMode.Vertical:T,P=t.setRenderRange,B=P===void 0?gc:P,V=t.transformGetDocumentParams,N=t.theme,q=N===void 0?{direction:H.TextDirection.LeftToRight,theme:"light"}:N,U=t.viewMode,Q=U===void 0?H.ViewMode.SinglePage:U,ee=t.withCredentials,$=ee!==void 0&&ee,ie=t.onDocumentAskPassword,J=t.onDocumentLoad,j=J===void 0?function(){}:J,k=t.onPageChange,E=k===void 0?function(){}:k,y=t.onRotate,M=y===void 0?function(){}:y,O=t.onRotatePage,L=O===void 0?function(){}:O,I=t.onSwitchTheme,D=I===void 0?function(){}:I,g=t.onZoom,S=g===void 0?function(){}:g,A=C.useState({data:l,name:typeof l=="string"?l:"",shouldLoad:!1}),R=A[0],F=A[1],z=function(fe,ve){F({data:ve,name:fe,shouldLoad:!0})},W=C.useState(!1),G=W[0],Z=W[1],X=tn(R);C.useEffect(function(){var fe,ve,Ae,ke;fe=X.data,ke=typeof(ve=l),(Ae=typeof fe)=="string"&&ke==="string"&&fe===ve||Ae==="object"&&ke==="object"&&fe.length===ve.length&&fe.every(function(Xe,yt){return Xe===ve[yt]})||F({data:l,name:typeof l=="string"?l:"",shouldLoad:G})},[l,G]);var Y=zn({onVisibilityChanged:function(fe){Z(fe.isVisible),fe.isVisible&&F(function(ve){return Object.assign({},ve,{shouldLoad:!0})})}}),re=typeof q=="string"?{direction:H.TextDirection.LeftToRight,theme:q}:q,ne=C.useState(u||qi),ae=ne[0],de=ne[1],oe={l10n:ae,setL10n:de},me=Object.assign({},{direction:re.direction},mc(re.theme||"light",D));return C.useEffect(function(){u&&de(u)},[u]),C.createElement(Hn.Provider,{value:oe},C.createElement(ut.Provider,{value:me},C.createElement("div",{ref:Y,className:"rpv-core__viewer rpv-core__viewer--".concat(me.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},R.shouldLoad&&C.createElement(pc,{characterMap:e,file:R.data,httpHeaders:f,render:function(fe){return C.createElement(hc,{defaultScale:r,doc:fe,render:function(ve,Ae){return C.createElement(dc,{currentFile:{data:R.data,name:R.name},defaultScale:r,doc:fe,enableSmoothScroll:i,initialPage:o,initialRotation:h,initialScale:Ae,pageLayout:a,pageSizes:ve,plugins:p,renderPage:w,scrollMode:_,setRenderRange:B,viewMode:Q,viewerState:{file:R,fullScreenMode:H.FullScreenMode.Normal,pageIndex:-1,pageHeight:ve[0].pageHeight,pageWidth:ve[0].pageWidth,pagesRotation:new Map,rotation:h,scale:Ae,scrollMode:_,viewMode:Q},onDocumentLoad:j,onOpenFile:z,onPageChange:E,onRotate:M,onRotatePage:L,onZoom:S})},scrollMode:_,viewMode:Q})},renderError:b,renderLoader:v,renderProtectedView:x,transformGetDocumentParams:V,withCredentials:$,onDocumentAskPassword:ie}))))},H.Worker=function(t){var e=t.children,r=t.workerUrl;return en.GlobalWorkerOptions.workerSrc=r,C.createElement(C.Fragment,null,e)},H.chunk=pn,H.classNames=Ge,H.createStore=function(t){var e=t||{},r={},n=function(l,d){var f;e=Pe(Pe({},e),((f={})[l]=d,f)),(r[l]||[]).forEach(function(m){return m(e[l])})},i=function(l){return e[l]};return{subscribe:function(l,d){r[l]=(r[l]||[]).concat(d)},unsubscribe:function(l,d){r[l]=(r[l]||[]).filter(function(f){return f!==d})},update:function(l,d){n(l,d)},updateCurrentValue:function(l,d){var f=i(l);f!==void 0&&n(l,d(f))},get:function(l){return i(l)}}},H.getDestination=Lr,H.getPage=Gn,H.isFullScreenEnabled=Wi,H.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},H.useDebounceCallback=Rr,H.useIntersectionObserver=zn,H.useIsMounted=Sn,H.useIsomorphicLayoutEffect=qe,H.usePrevious=tn,H.useRenderQueue=Ui});var st=Te((fd,ta)=>{"use strict";ta.exports=ea()});var ra=Te(na=>{"use strict";var Ct=st();function vc(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var nt=vc(ot()),bc=function(t){var e=t.files,r=nt.useRef(),n=nt.useContext(Ct.LocalizationContext).l10n,i=nt.useContext(Ct.ThemeContext).direction===Ct.TextDirection.RightToLeft,l=nt.useRef([]),d=n&&n.attachment?n.attachment.clickToDownload:"Click to download",f=function(m){var o=r.current,a=[].slice.call(o.getElementsByClassName("rpv-attachment__item"));if(a.length!==0){a.forEach(function(u){return u.setAttribute("tabindex","-1")});var s=document.activeElement,h=a[Math.min(a.length-1,Math.max(0,m(a,s)))];h.setAttribute("tabindex","0"),h.focus()}};return Ct.useIsomorphicLayoutEffect(function(){var m=r.current;if(m){var o=[].slice.call(m.getElementsByClassName("rpv-attachment__item"));if(l.current=o,o.length>0){var a=o[0];a.focus(),a.setAttribute("tabindex","0")}}},[]),nt.createElement("div",{"data-testid":"attachment__list",className:Ct.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":i}),ref:r,tabIndex:-1,onKeyDown:function(m){switch(m.key){case"ArrowDown":m.preventDefault(),f(function(o,a){return o.indexOf(a)+1});break;case"ArrowUp":m.preventDefault(),f(function(o,a){return o.indexOf(a)-1});break;case"End":m.preventDefault(),f(function(o,a){return o.length-1});break;case"Home":m.preventDefault(),f(function(o,a){return 0})}}},e.map(function(m){return nt.createElement("button",{className:"rpv-attachment__item",key:m.fileName,tabIndex:-1,title:d,type:"button",onClick:function(){return o=m.fileName,a=m.data,s=typeof a=="string"?"":URL.createObjectURL(new Blob([a],{type:""})),(h=document.createElement("a")).style.display="none",h.href=s||o,h.setAttribute("download",function(u){var c=u.split("/").pop();return c?c.split("#")[0].split("?")[0]:u}(o)),document.body.appendChild(h),h.click(),document.body.removeChild(h),void(s&&URL.revokeObjectURL(s));var o,a,s,h}},m.fileName)}))},_c=function(t){var e=t.doc,r=nt.useContext(Ct.LocalizationContext).l10n,n=nt.useContext(Ct.ThemeContext).direction===Ct.TextDirection.RightToLeft,i=r&&r.attachment?r.attachment.noAttachment:"There is no attachment",l=nt.useState({files:[],isLoaded:!1}),d=l[0],f=l[1];return nt.useEffect(function(){e.getAttachments().then(function(m){var o=m?Object.keys(m).map(function(a){return{data:m[a].content,fileName:m[a].filename}}):[];f({files:o,isLoaded:!0})})},[e]),d.isLoaded?d.files.length===0?nt.createElement("div",{"data-testid":"attachment__empty",className:Ct.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":n})},i):nt.createElement(bc,{files:d.files}):nt.createElement(Ct.Spinner,null)},Ec=function(t){var e=t.store,r=nt.useState(e.get("doc")),n=r[0],i=r[1],l=function(d){i(d)};return nt.useEffect(function(){return e.subscribe("doc",l),function(){e.unsubscribe("doc",l)}},[]),n?nt.createElement(_c,{doc:n}):nt.createElement("div",{className:"rpv-attachment__loader"},nt.createElement(Ct.Spinner,null))};na.attachmentPlugin=function(){var t=nt.useMemo(function(){return Ct.createStore({})},[]);return{onDocumentLoad:function(e){t.update("doc",e.doc)},Attachments:function(){return nt.createElement(Ec,{store:t})}}}});var aa=Te((vd,ia)=>{"use strict";ia.exports=ra()});var la=Te(Kn=>{"use strict";var xt=st();function yc(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var wn,Le=yc(ot()),Dr=function(){return Dr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Dr.apply(this,arguments)},oa=function(){return Le.createElement(xt.Icon,{size:16},Le.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},sa=function(){return Le.createElement(xt.Icon,{size:16},Le.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},Sc=function(t){var e=t.bookmark,r=t.depth,n=t.doc,i=t.index,l=t.isBookmarkExpanded,d=t.numberOfSiblings,f=t.pathFromRoot,m=t.renderBookmarkItem,o=t.store,a=f?"".concat(f,".").concat(i):"".concat(i),s=Le.useMemo(function(){return function(N){var q=N.count,U=N.items;if(q>=0)return!1;var Q=U.length;if(Q===0)return!1;for(var ee=U.concat([]);ee.length>0;){var $=ee.shift(),ie=$.items;$.count&&ie&&$.count>0&&ie.length>0&&(Q+=ie.length,ee=ee.concat(ie))}return Math.abs(q)===Q}(e)},[e]),h=o.get("bookmarkExpandedMap"),u=l?l({bookmark:e,doc:n,depth:r,index:i}):h.has(a)?h.get(a):!s,c=Le.useState(u),p=c[0],b=c[1],v=e.items&&e.items.length>0,w=function(){var N=!p;o.updateCurrentValue("bookmarkExpandedMap",function(q){return q.set(a,N)}),b(N)},x=function(){var N=e.dest,q=o.get("jumpToDestination");xt.getDestination(n,N).then(function(U){q&&q(Dr({label:e.title},U))})},T=function(){v&&e.dest&&x()},_=function(){!v&&e.dest&&x()},P=function(N,q){return Le.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*r,"rem")},onClick:N},q)},B=function(N,q){return v?Le.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(r,"-").concat(i),onClick:w},p?N:q):Le.createElement("span",{className:"rpv-bookmark__toggle"})},V=function(N){return e.url?Le.createElement("a",{className:"rpv-bookmark__title",href:e.url,rel:"noopener noreferrer nofollow",target:e.newWindow?"_blank":""},e.title):Le.createElement("div",{className:"rpv-bookmark__title","aria-label":e.title,onClick:N},e.title)};return Le.createElement("li",{"aria-expanded":p?"true":"false","aria-label":e.title,"aria-level":r+1,"aria-posinset":i+1,"aria-setsize":d,role:"treeitem",tabIndex:-1},m?m({bookmark:e,depth:r,hasSubItems:v,index:i,isExpanded:p,path:a,defaultRenderItem:P,defaultRenderTitle:V,defaultRenderToggle:B,onClickItem:_,onClickTitle:T,onToggleSubItems:w}):P(_,Le.createElement(Le.Fragment,null,B(Le.createElement(oa,null),Le.createElement(sa,null)),V(T))),v&&p&&Le.createElement(ca,{bookmarks:e.items,depth:r+1,doc:n,isBookmarkExpanded:l,isRoot:!1,pathFromRoot:a,renderBookmarkItem:m,store:o}))},ca=function(t){var e=t.bookmarks,r=t.depth,n=r===void 0?0:r,i=t.doc,l=t.isBookmarkExpanded,d=t.isRoot,f=t.pathFromRoot,m=t.renderBookmarkItem,o=t.store;return Le.createElement("ul",{className:"rpv-bookmark__list",role:d?"tree":"group",tabIndex:-1},e.map(function(a,s){return Le.createElement(Sc,{bookmark:a,depth:n,doc:i,index:s,isBookmarkExpanded:l,key:s,numberOfSiblings:e.length,pathFromRoot:f,renderBookmarkItem:m,store:o})}))};(function(t){t[t.Collapse=0]="Collapse",t[t.Expand=1]="Expand"})(wn||(wn={}));var wc=function(t){var e=t.bookmarks,r=t.doc,n=t.isBookmarkExpanded,i=t.renderBookmarkItem,l=t.store,d=Le.useRef(),f=function(s){var h=d.current;if(h&&s.target instanceof HTMLElement&&h.contains(s.target))switch(s.key){case"ArrowDown":s.preventDefault(),o(function(u,c){return u.indexOf(c)+1});break;case"ArrowLeft":s.preventDefault(),a(wn.Collapse);break;case"ArrowRight":s.preventDefault(),a(wn.Expand);break;case"ArrowUp":s.preventDefault,o(function(u,c){return u.indexOf(c)-1});break;case"End":s.preventDefault(),o(function(u,c){return u.length-1});break;case" ":case"Enter":case"Space":s.preventDefault(),m();break;case"Home":s.preventDefault(),o(function(u,c){return 0})}},m=function(){var s=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");s&&s.click()},o=function(s){var h=d.current,u=[].slice.call(h.getElementsByClassName("rpv-bookmark__item"));if(u.length!==0){var c=document.activeElement,p=u[Math.min(u.length-1,Math.max(0,s(u,c)))];c.setAttribute("tabindex","-1"),p.setAttribute("tabindex","0"),p.focus()}},a=function(s){var h=d.current;if([].slice.call(h.getElementsByClassName("rpv-bookmark__item")).length!==0){var u=document.activeElement.closest(".rpv-bookmark__item"),c=s===wn.Collapse?"true":"false";if(u&&u.parentElement.getAttribute("aria-expanded")===c){var p=u.querySelector(".rpv-bookmark__toggle");p&&p.click()}}};return Le.useEffect(function(){return document.addEventListener("keydown",f),function(){document.removeEventListener("keydown",f)}},[]),Le.useEffect(function(){var s=d.current;if(s){var h=[].slice.call(s.getElementsByClassName("rpv-bookmark__item"));h.length>0&&(h[0].focus(),h[0].setAttribute("tabindex","0"))}},[]),Le.createElement("div",{ref:d},Le.createElement(ca,{bookmarks:e,depth:0,doc:r,isBookmarkExpanded:n,isRoot:!0,pathFromRoot:"",renderBookmarkItem:i,store:l}))},Ac=function(t){var e=t.doc,r=t.isBookmarkExpanded,n=t.renderBookmarkItem,i=t.store,l=Le.useContext(xt.LocalizationContext).l10n,d=Le.useContext(xt.ThemeContext).direction===xt.TextDirection.RightToLeft,f=Le.useState({isLoaded:!1,items:[]}),m=f[0],o=f[1];return Le.useEffect(function(){o({isLoaded:!1,items:[]}),e.getOutline().then(function(a){o({isLoaded:!0,items:a||[]})})},[e]),m.isLoaded?m.items.length===0?Le.createElement("div",{"data-testid":"bookmark__empty",className:xt.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":d})},l&&l.bookmark?l.bookmark.noBookmark:"There is no bookmark"):Le.createElement("div",{"data-testid":"bookmark__container",className:xt.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":d})},Le.createElement(wc,{bookmarks:m.items,doc:e,isBookmarkExpanded:r,renderBookmarkItem:n,store:i})):Le.createElement("div",{className:"rpv-bookmark__loader"},Le.createElement(xt.Spinner,null))},Cc=function(t){var e=t.isBookmarkExpanded,r=t.renderBookmarkItem,n=t.store,i=Le.useState(n.get("doc")),l=i[0],d=i[1],f=function(m){d(m)};return Le.useEffect(function(){return n.subscribe("doc",f),function(){n.unsubscribe("doc",f)}},[]),l?Le.createElement(Ac,{doc:l,isBookmarkExpanded:e,renderBookmarkItem:r,store:n}):Le.createElement("div",{className:"rpv-bookmark__loader"},Le.createElement(xt.Spinner,null))};Kn.DownArrowIcon=oa,Kn.RightArrowIcon=sa,Kn.bookmarkPlugin=function(){var t=Le.useMemo(function(){return xt.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function(e){t.update("jumpToDestination",e.jumpToDestination)},onDocumentLoad:function(e){t.update("doc",e.doc)},Bookmarks:function(e){return Le.createElement(Cc,{isBookmarkExpanded:e?.isBookmarkExpanded,renderBookmarkItem:e?.renderBookmarkItem,store:t})}}}});var da=Te((_d,ua)=>{"use strict";ua.exports=la()});var pa=Te(Ot=>{"use strict";var Me=st();function Pc(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var ha,pe=Pc(ot());Ot.ThumbnailDirection=void 0,(ha=Ot.ThumbnailDirection||(Ot.ThumbnailDirection={})).Horizontal="Horizontal",ha.Vertical="Vertical";var Or=function(){return Or=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Or.apply(this,arguments)},xc=function(t){var e=t.doc,r=t.getPageIndex,n=t.renderSpinner,i=t.store,l=t.width,d=e.numPages,f=r?r({numPages:d}):0,m=Math.max(0,Math.min(f,d-1)),o=i.get("pagesRotation")||new Map,a=o.has(m)?o.get(m):0,s=pe.useState(""),h=s[0],u=s[1],c=Me.useIsMounted(),p=pe.useRef(),b=pe.useState(i.get("rotation")||0),v=b[0],w=b[1],x=pe.useState(a),T=x[0],_=x[1],P=pe.useState(!1),B=P[0],V=P[1],N=function(Q){var ee=Q.has(m)?Q.get(m):0;_(ee)},q=function(Q){w(Q)},U=Me.useIntersectionObserver({onVisibilityChanged:function(Q){V(Q.isVisible)}});return pe.useEffect(function(){if(B){var Q=U.current;Q&&(u(""),Me.getPage(e,m).then(function(ee){var $=ee.getViewport({scale:1}),ie=($.rotation+v+T)%360,J=Math.abs(v+T)%180==0,j=J?$.width:$.height,k=J?$.height:$.width,E=document.createElement("canvas"),y=E.getContext("2d",{alpha:!1}),M=Q.clientWidth,O=Q.clientHeight,L=l?l/j:Math.min(M/j,O/k),I=L*j,D=L*k;E.height=D,E.width=I,E.style.opacity="0";var g=ee.getViewport({rotation:ie,scale:L});p.current=ee.render({canvasContext:y,viewport:g}),p.current.promise.then(function(){c.current&&u(E.toDataURL()),E.width=0,E.height=0},function(){})}))}},[T,B]),pe.useEffect(function(){return i.subscribe("pagesRotation",N),i.subscribe("rotation",q),function(){i.unsubscribe("pagesRotation",N),i.unsubscribe("rotation",q)}},[]),pe.useEffect(function(){return function(){var Q;(Q=p.current)===null||Q===void 0||Q.cancel()}},[]),pe.createElement("div",{ref:U,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},h?pe.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:h}):pe.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},n?n():pe.createElement(Me.Spinner,null)))},kc=function(t){var e=t.getPageIndex,r=t.renderSpinner,n=t.store,i=t.width,l=pe.useState(n.get("doc")),d=l[0],f=l[1],m=function(o){f(o)};return pe.useEffect(function(){return n.subscribe("doc",m),function(){n.unsubscribe("doc",m)}},[]),pe.createElement("div",{className:"rpv-thumbnail__cover"},d?pe.createElement(xc,{doc:d,getPageIndex:e,renderSpinner:r,store:n,width:i}):pe.createElement("div",{className:"rpv-thumbnail__cover-loader"},r?r():pe.createElement(Me.Spinner,null)))},fa=function(){return pe.createElement(Me.Spinner,null)},$n=pe.createContext({renderSpinner:fa}),Mc=function(t){var e=t.children,r=t.doc,n=Me.useIsMounted(),i=pe.useState({loading:!0,labels:[]}),l=i[0],d=i[1];return pe.useEffect(function(){r.getPageLabels().then(function(f){n.current&&d({loading:!1,labels:f||[]})})},[r.loadingTask.docId]),l.loading?pe.createElement(pe.Fragment,null):e(l.labels)},Tc=function(t){var e=t.page,r=t.pageHeight,n=t.pageIndex,i=t.pageWidth,l=t.rotation,d=t.thumbnailHeight,f=t.thumbnailWidth,m=t.onRenderCompleted,o=pe.useContext(Me.LocalizationContext).l10n,a=pe.useRef(),s=pe.useState(""),h=s[0],u=s[1],c=o&&o.thumbnail?o.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return pe.useEffect(function(){var p=a.current;p&&p.cancel();var b=document.createElement("canvas"),v=b.getContext("2d",{alpha:!1}),w=f,x=w/(i/r),T=w/i;b.height=x,b.width=w,b.style.height="".concat(x,"px"),b.style.width="".concat(w,"px");var _=e.getViewport({rotation:l,scale:T});return a.current=e.render({canvasContext:v,viewport:_}),a.current.promise.then(function(){u(b.toDataURL()),m(n)},function(){m(n)}),function(){var P;(P=a.current)===null||P===void 0||P.cancel()}},[l]),h?pe.createElement("img",{"aria-label":c.replace("{{pageIndex}}","".concat(n+1)),src:h,height:"".concat(d,"px"),width:"".concat(f,"px")}):pe.useContext($n).renderSpinner()},Rc=function(t){var e=t.doc,r=t.pageHeight,n=t.pageIndex,i=t.pageRotation,l=t.pageWidth,d=t.rotation,f=t.shouldRender,m=t.thumbnailWidth,o=t.onRenderCompleted,a=t.onVisibilityChanged,s=Me.useIsMounted(),h=pe.useState({height:r,page:null,viewportRotation:0,width:l}),u=h[0],c=h[1],p=u.page,b=u.height,v=u.width,w=v/b,x=Math.abs(d+i)%180==0,T=x?m:m/w,_=x?m/w:m;pe.useEffect(function(){f&&Me.getPage(e,n).then(function(V){var N=V.getViewport({scale:1});s.current&&c({height:N.height,page:V,viewportRotation:N.rotation,width:N.width})})},[f]);var P=(u.viewportRotation+d+i)%360,B=Me.useIntersectionObserver({onVisibilityChanged:function(V){a(n,V)}});return pe.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(n),ref:B,style:{height:"".concat(_,"px"),width:"".concat(T,"px")}},p?pe.createElement(Tc,{page:p,pageHeight:x?b:v,pageIndex:n,pageWidth:x?v:b,rotation:P,thumbnailHeight:_,thumbnailWidth:T,onRenderCompleted:o}):pe.useContext($n).renderSpinner())},Fc=function(t){var e=t.currentPage,r=t.doc,n=t.labels,i=t.pagesRotation,l=t.pageHeight,d=t.pageWidth,f=t.renderCurrentPageLabel,m=t.renderThumbnailItem,o=t.rotatedPage,a=t.rotation,s=t.thumbnailDirection,h=t.thumbnailWidth,u=t.viewMode,c=t.onJumpToPage,p=t.onRotatePage,b=r.numPages,v=r.loadingTask.docId,w=pe.useRef(null),x=pe.useRef([]),T=pe.useState(e),_=T[0],P=T[1],B=pe.useContext(Me.ThemeContext).direction===Me.TextDirection.RightToLeft,V=pe.useState(-1),N=V[0],q=V[1],U=Me.useIsMounted(),Q=Me.usePrevious(u),ee=pe.useRef(!1),$=Me.useRenderQueue({doc:r}),ie=pe.useMemo(function(){return Array(b).fill(0).map(function(L,I){return I})},[v]),J=pe.useMemo(function(){switch(u){case Me.ViewMode.DualPage:return Me.chunk(ie,2);case Me.ViewMode.DualPageWithCover:return[[ie[0]]].concat(Me.chunk(ie.slice(1),2));case Me.ViewMode.SinglePage:default:return Me.chunk(ie,1)}},[v,u]),j=function(){if(w.current){var L=x.current,I=_+1;I<L.length&&(_>=0&&L[_].setAttribute("tabindex","-1"),P(I))}},k=function(){if(w.current){var L=x.current,I=_-1;I>=0&&(_>=0&&L[_].setAttribute("tabindex","-1"),P(I))}},E=function(){_>=0&&_<b&&c(_)};Me.useIsomorphicLayoutEffect(function(){var L=w.current;L&&(x.current=Array.from(L.querySelectorAll(".rpv-thumbnail__item")))},[u]),pe.useEffect(function(){var L=x.current;if(!(L.length===0||_<0||_>L.length)){var I=L[_];I.setAttribute("tabindex","0"),I.focus()}},[_]),Me.useIsomorphicLayoutEffect(function(){var L=w.current,I=x.current;if(!(!L||I.length===0||e<0||e>I.length)){var D=I[e].closest(".rpv-thumbnail__items");D&&(s===Ot.ThumbnailDirection.Vertical?function(g,S){var A=g.getBoundingClientRect().top-S.getBoundingClientRect().top,R=g.clientHeight,F=S.clientHeight;A<0?S.scrollTop+=A:A+R<=F||(S.scrollTop+=A+R-F)}(D,L):function(g,S){var A=g.getBoundingClientRect().left-S.getBoundingClientRect().left,R=g.clientWidth,F=S.clientWidth;A<0?S.scrollLeft+=A:A+R<=F||(S.scrollLeft+=A+R-F)}(D,L))}},[e,s]);var y=pe.useCallback(function(L){U.current&&($.markRendered(L),ee.current=!1,O())},[v]),M=pe.useCallback(function(L,I){I.isVisible?$.setVisibility(L,I.ratio):$.setOutOfRange(L),O()},[v]),O=pe.useCallback(function(){if(!ee.current){var L=$.getHighestPriorityPage();L>-1&&($.markRendering(L),ee.current=!0,q(L))}},[v]);return pe.useEffect(function(){o>=0&&($.markRendering(o),ee.current=!0,q(o))},[v,o]),Me.useIsomorphicLayoutEffect(function(){Q!==u&&($.markNotRendered(),O())},[u]),pe.createElement("div",{ref:w,"data-testid":"thumbnail__list",className:Me.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":s===Ot.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":B,"rpv-thumbnail__list--vertical":s===Ot.ThumbnailDirection.Vertical}),onKeyDown:function(L){switch(L.key){case"ArrowDown":j();break;case"ArrowUp":k();break;case"Enter":E()}}},J.map(function(L,I){var D=!1;switch(u){case Me.ViewMode.DualPage:D=e===2*I||e===2*I+1;break;case Me.ViewMode.DualPageWithCover:D=e===0&&I===0||I>0&&e===2*I-1||I>0&&e===2*I;break;case Me.ViewMode.SinglePage:default:D=e===I}return pe.createElement("div",{className:Me.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":u===Me.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":u===Me.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":u===Me.ViewMode.SinglePage,"rpv-thumbnail__items--selected":D}),key:"".concat(I,"___").concat(u)},L.map(function(g){return function(S){var A=u===Me.ViewMode.DualPageWithCover&&(S===0||b%2==0&&S===b-1),R="".concat(r.loadingTask.docId,"___").concat(S),F=n.length===b?n[S]:"".concat(S+1),z=f?f({currentPage:e,pageIndex:S,numPages:b,pageLabel:F}):F,W=i.has(S)?i.get(S):0,G=pe.createElement(Rc,{doc:r,pageHeight:l,pageIndex:S,pageRotation:W,pageWidth:d,rotation:a,shouldRender:N===S,thumbnailWidth:h,onRenderCompleted:y,onVisibilityChanged:M});return m?m({currentPage:e,key:R,numPages:b,pageIndex:S,renderPageLabel:pe.createElement(pe.Fragment,null,z),renderPageThumbnail:G,onJumpToPage:function(){return c(S)},onRotatePage:function(Z){return p(S,Z)}}):pe.createElement("div",{key:R},pe.createElement("div",{className:Me.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":u===Me.ViewMode.DualPage&&S%2==0,"rpv-thumbnail__item--dual-odd":u===Me.ViewMode.DualPage&&S%2==1,"rpv-thumbnail__item--dual-cover":A,"rpv-thumbnail__item--dual-cover-even":u===Me.ViewMode.DualPageWithCover&&!A&&S%2==0,"rpv-thumbnail__item--dual-cover-odd":u===Me.ViewMode.DualPageWithCover&&!A&&S%2==1,"rpv-thumbnail__item--single":u===Me.ViewMode.SinglePage,"rpv-thumbnail__item--selected":e===S}),role:"button",tabIndex:e===S?0:-1,onClick:function(){return c(S)}},G),pe.createElement("div",{"data-testid":"thumbnail__label-".concat(S),className:"rpv-thumbnail__label"},z))}(g)}))}))},Lc=function(t){var e=t.renderCurrentPageLabel,r=t.renderThumbnailItem,n=t.store,i=t.thumbnailDirection,l=t.thumbnailWidth,d=pe.useState(n.get("doc")),f=d[0],m=d[1],o=pe.useState(n.get("currentPage")||0),a=o[0],s=o[1],h=pe.useState(n.get("pageHeight")||0),u=h[0],c=h[1],p=pe.useState(n.get("pageWidth")||0),b=p[0],v=p[1],w=pe.useState(n.get("rotation")||0),x=w[0],T=w[1],_=pe.useState(n.get("pagesRotation")||new Map),P=_[0],B=_[1],V=pe.useState(n.get("rotatedPage")||-1),N=V[0],q=V[1],U=pe.useState(n.get("viewMode")),Q=U[0],ee=U[1],$=function(I){s(I)},ie=function(I){m(I)},J=function(I){c(I)},j=function(I){v(I)},k=function(I){T(I)},E=function(I){B(I)},y=function(I){q(I)},M=function(I){ee(I)},O=function(I){var D=n.get("jumpToPage");D&&D(I)},L=function(I,D){n.get("rotatePage")(I,D)};return pe.useEffect(function(){return n.subscribe("doc",ie),n.subscribe("pageHeight",J),n.subscribe("pageWidth",j),n.subscribe("rotatedPage",y),n.subscribe("rotation",k),n.subscribe("pagesRotation",E),n.subscribe("viewMode",M),function(){n.unsubscribe("doc",ie),n.unsubscribe("pageHeight",J),n.unsubscribe("pageWidth",j),n.unsubscribe("rotatedPage",y),n.unsubscribe("rotation",k),n.unsubscribe("pagesRotation",E),n.unsubscribe("viewMode",M)}},[]),Me.useIsomorphicLayoutEffect(function(){return n.subscribe("currentPage",$),function(){n.unsubscribe("currentPage",$)}},[]),f?pe.createElement(Me.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},pe.createElement(Mc,{doc:f},function(I){return pe.createElement(Fc,{currentPage:a,doc:f,labels:I,pagesRotation:P,pageHeight:u,pageWidth:b,renderCurrentPageLabel:e,renderThumbnailItem:r,rotatedPage:N,rotation:x,thumbnailDirection:i,thumbnailWidth:l,viewMode:Q,onJumpToPage:O,onRotatePage:L})})):pe.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},pe.useContext($n).renderSpinner())};Ot.thumbnailPlugin=function(t){var e=pe.useMemo(function(){return Me.createStore({rotatePage:function(){},viewMode:Me.ViewMode.SinglePage})},[]),r=pe.useState(""),n=r[0],i=r[1];return{install:function(l){e.update("jumpToPage",l.jumpToPage),e.update("rotatePage",l.rotatePage)},onDocumentLoad:function(l){i(l.doc.loadingTask.docId),e.update("doc",l.doc)},onViewerStateChange:function(l){return e.update("currentPage",l.pageIndex),e.update("pagesRotation",l.pagesRotation),e.update("pageHeight",l.pageHeight),e.update("pageWidth",l.pageWidth),e.update("rotation",l.rotation),e.update("rotatedPage",l.rotatedPage),e.update("viewMode",l.viewMode),l},Cover:function(l){return pe.createElement(kc,Or({},l,{renderSpinner:t?.renderSpinner,store:e}))},Thumbnails:pe.useCallback(function(l){return pe.createElement($n.Provider,{value:{renderSpinner:t?.renderSpinner||fa}},pe.createElement(Lc,{renderCurrentPageLabel:t?.renderCurrentPageLabel,renderThumbnailItem:l?.renderThumbnailItem,store:e,thumbnailDirection:l?.thumbnailDirection||Ot.ThumbnailDirection.Vertical,thumbnailWidth:t?.thumbnailWidth||100}))},[n])}}});var ga=Te((yd,ma)=>{"use strict";ma.exports=pa()});var ya=Te(mt=>{"use strict";var qt=st();function Ic(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var va,Ve=Ic(ot()),ba=function(){return Ve.createElement(qt.Icon,{size:16},Ve.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},Nr=function(){return Nr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Nr.apply(this,arguments)};mt.SelectionMode=void 0,(va=mt.SelectionMode||(mt.SelectionMode={})).Hand="Hand",va.Text="Text";var Br=function(){return Ve.createElement(qt.Icon,{size:16},Ve.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},_a=function(t){var e=t.children,r=t.mode,n=t.onClick,i=Ve.useContext(qt.LocalizationContext).l10n,l="",d=Ve.createElement(Br,null);switch(r){case mt.SelectionMode.Hand:l=i&&i.selectionMode?i.selectionMode.handTool:"Hand tool",d=Ve.createElement(ba,null);break;case mt.SelectionMode.Text:default:l=i&&i.selectionMode?i.selectionMode.textSelectionTool:"Text selection tool",d=Ve.createElement(Br,null)}return e({icon:d,label:l,onClick:n})},Dc={left:0,top:8},Ea=function(t){var e=t.isSelected,r=t.mode,n=t.onClick,i="";switch(r){case mt.SelectionMode.Hand:i="selection-mode__hand-button";break;case mt.SelectionMode.Text:default:i="selection-mode__text-button"}return Ve.createElement(_a,{mode:r,onClick:n},function(l){return Ve.createElement(qt.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:qt.Position.BottomCenter,target:Ve.createElement(qt.MinimalButton,{ariaLabel:l.label,isSelected:e,testId:i,onClick:l.onClick},l.icon),content:function(){return l.label},offset:Dc})})},Oc=function(t){var e=t.children,r=t.mode,n=t.store,i=r===n.get("selectionMode");return(e||function(l){return Ve.createElement(Ea,{isSelected:i,mode:l.mode,onClick:l.onClick})})({isSelected:i,mode:r,onClick:function(){return n.update("selectionMode",r)}})},Nc=function(t){var e=t.isSelected,r=t.mode,n=t.onClick,i="";switch(r){case mt.SelectionMode.Hand:i="selection-mode__hand-menu";break;case mt.SelectionMode.Text:default:i="selection-mode__text-menu"}return Ve.createElement(_a,{mode:r,onClick:n},function(l){return Ve.createElement(qt.MenuItem,{checked:e,icon:l.icon,testId:i,onClick:l.onClick},l.label)})},Bc=function(t){var e=t.store,r=Ve.useRef(null),n=Ve.useState(mt.SelectionMode.Text),i=n[0],l=n[1],d=Ve.useRef({top:0,left:0,x:0,y:0}),f=function(h){var u=r.current;u&&(u.scrollTop=d.current.top-(h.clientY-d.current.y),u.scrollLeft=d.current.left-(h.clientX-d.current.x))},m=function(){var h=r.current;h&&(h.classList.add("rpv-selection-mode__grab"),h.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m))},o=function(h){var u=r.current;u&&i!==mt.SelectionMode.Text&&(u.classList.remove("rpv-selection-mode__grab"),u.classList.add("rpv-selection-mode__grabbing"),h.preventDefault(),h.stopPropagation(),d.current={left:u.scrollLeft,top:u.scrollTop,x:h.clientX,y:h.clientY},document.addEventListener("mousemove",f),document.addEventListener("mouseup",m))},a=function(h){r.current=h()},s=function(h){l(h)};return Ve.useEffect(function(){var h=r.current;if(h)return i===mt.SelectionMode.Hand?h.classList.add("rpv-selection-mode__grab"):h.classList.remove("rpv-selection-mode__grab"),h.addEventListener("mousedown",o),function(){h.removeEventListener("mousedown",o)}},[i]),Ve.useEffect(function(){return e.subscribe("getPagesContainer",a),e.subscribe("selectionMode",s),function(){e.unsubscribe("getPagesContainer",a),e.unsubscribe("selectionMode",s)}},[]),Ve.createElement(Ve.Fragment,null)};mt.HandToolIcon=ba,mt.TextSelectionIcon=Br,mt.selectionModePlugin=function(t){var e=Ve.useMemo(function(){return qt.createStore()},[]),r=function(n){return Ve.createElement(Oc,Nr({},n,{store:e}))};return{install:function(n){e.update("selectionMode",t&&t.selectionMode?t.selectionMode:mt.SelectionMode.Text),e.update("getPagesContainer",n.getPagesContainer)},renderViewer:function(n){var i=n.slot;return i.subSlot&&i.subSlot.children&&(i.subSlot.children=Ve.createElement(Ve.Fragment,null,Ve.createElement(Bc,{store:e}),i.subSlot.children)),i},SwitchSelectionMode:r,SwitchSelectionModeButton:function(n){return Ve.createElement(r,{mode:n.mode},function(i){return Ve.createElement(Ea,{isSelected:i.isSelected,mode:i.mode,onClick:function(){i.onClick()}})})},SwitchSelectionModeMenuItem:function(n){return Ve.createElement(r,{mode:n.mode},function(i){return Ve.createElement(Nc,{isSelected:i.isSelected,mode:i.mode,onClick:function(){i.onClick(),n.onClick()}})})}}}});var wa=Te((wd,Sa)=>{"use strict";Sa.exports=ya()});var Ca=Te(Yn=>{"use strict";var We=st();function jc(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Ee=jc(ot()),jr=function(){return Ee.createElement(We.Icon,{size:16},Ee.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),Ee.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),Ee.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),Ee.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),Ee.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},zr=function(){return Ee.createElement(We.Icon,{size:16},Ee.createElement("path",{d:"M0.5 12L23.5 12"}),Ee.createElement("path",{d:"M11.5 1L11.5 23"}),Ee.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),Ee.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),Ee.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),Ee.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},Zn=function(){return Zn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Zn.apply(this,arguments)},zc={left:0,top:8},Aa=function(t){var e=t.enableShortcuts,r=t.onClick,n=Ee.useContext(We.LocalizationContext).l10n,i=n&&n.fullScreen?n.fullScreen.enterFullScreen:"Full screen",l=e?We.isMac()?"Meta+Ctrl+F":"F11":"";return Ee.createElement(We.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:We.Position.BottomCenter,target:Ee.createElement(We.MinimalButton,{ariaKeyShortcuts:l,ariaLabel:i,isDisabled:!We.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:r},Ee.createElement(zr,null)),content:function(){return i},offset:zc})},Hc={left:0,top:8},Vc=function(t){var e=t.onClick,r=Ee.useContext(We.LocalizationContext).l10n,n=r&&r.fullScreen?r.fullScreen.exitFullScreen:"Exit full screen";return Ee.createElement(We.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:We.Position.BottomCenter,target:Ee.createElement(We.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:n,testId:"full-screen__exit-button-with-tooltip",onClick:e},Ee.createElement(jr,null)),content:function(){return n},offset:Hc})},Hr=function(t,e){var r=Ee.useState(e.get("fullScreenMode")),n=r[0],i=r[1],l=Ee.useCallback(function(d){i(d)},[]);return Ee.useEffect(function(){return e.subscribe("fullScreenMode",l),function(){e.unsubscribe("fullScreenMode",l)}},[]),{enterFullScreen:function(){var d=e.get("getPagesContainer");if(d){var f=t(d());e.get("enterFullScreenMode")(f)}},exitFullScreen:function(){e.get("exitFullScreenMode")()},isFullScreen:n===We.FullScreenMode.Entering||n===We.FullScreenMode.EnteredCompletely}},Wc=function(t){var e=t.children,r=t.enableShortcuts,n=t.getFullScreenTarget,i=t.store,l=Hr(n,i),d=l.enterFullScreen,f=l.exitFullScreen,m=l.isFullScreen;return(e||function(o){return m?Ee.createElement(Vc,{onClick:o.onClick}):Ee.createElement(Aa,{enableShortcuts:r,onClick:o.onClick})})({onClick:m?f:d})},Uc=function(t){var e=t.onClick,r=Ee.useContext(We.LocalizationContext).l10n,n=r&&r.fullScreen?r.fullScreen.enterFullScreen:"Full screen";return Ee.createElement(We.MenuItem,{icon:Ee.createElement(zr,null),isDisabled:!We.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:e},n)},qc=function(t){var e=t.onClick,r=Ee.useContext(We.LocalizationContext).l10n,n=Ee.useContext(We.ThemeContext).direction===We.TextDirection.RightToLeft,i=r&&r.fullScreen?r.fullScreen.exitFullScreen:"Exit full screen";return Ee.createElement("div",{className:We.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!n,"rpv-full-screen__exit-button--rtl":n})},Ee.createElement(We.MinimalButton,{ariaLabel:i,testId:"full-screen__exit-button",onClick:e},Ee.createElement(jr,null)))},Gc=function(t){var e=t.children,r=t.getFullScreenTarget,n=t.store,i=Hr(r,n),l=i.enterFullScreen,d=i.exitFullScreen,f=i.isFullScreen;return f&&(e||function(m){return Ee.createElement(qc,{onClick:m.onClick})})({onClick:f?d:l})},Xc=function(t){var e=t.store,r=t.onEnterFullScreen,n=t.onExitFullScreen,i=Ee.useState(e.get("fullScreenMode")),l=i[0],d=i[1],f=Ee.useCallback(function(m){d(m)},[]);return Ee.useEffect(function(){switch(l){case We.FullScreenMode.EnteredCompletely:r(e.get("zoom"));break;case We.FullScreenMode.Exited:n(e.get("zoom"))}},[l]),Ee.useEffect(function(){return e.subscribe("fullScreenMode",f),function(){e.unsubscribe("fullScreenMode",f)}},[]),(l===We.FullScreenMode.Entering||l===We.FullScreenMode.Entered)&&Ee.createElement("div",{className:"rpv-full-screen__overlay"},Ee.createElement(We.Spinner,null))},Kc=function(t){var e=t.containerRef,r=t.getFullScreenTarget,n=t.store,i=Hr(r,n).enterFullScreen,l=function(d){if(!d.shiftKey&&!d.altKey&&(We.isMac()?d.metaKey&&d.ctrlKey&&d.key==="f":d.key==="F11")){var f=e.current;f&&document.activeElement&&f.contains(document.activeElement)&&(d.preventDefault(),i())}};return Ee.useEffect(function(){if(e.current)return document.addEventListener("keydown",l),function(){document.removeEventListener("keydown",l)}},[e.current]),Ee.createElement(Ee.Fragment,null)};Yn.ExitFullScreenIcon=jr,Yn.FullScreenIcon=zr,Yn.fullScreenPlugin=function(t){var e=t?.getFullScreenTarget||function(d){return d},r=Ee.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},t)},[]),n=Ee.useMemo(function(){return We.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:We.FullScreenMode.Normal,zoom:function(){}})},[]),i=function(d){return Ee.createElement(Wc,Zn({},d,{enableShortcuts:r.enableShortcuts,getFullScreenTarget:e,store:n}))},l=function(){return Ee.createElement(Gc,{getFullScreenTarget:e,store:n},t?.renderExitFullScreenButton)};return{install:function(d){n.update("enterFullScreenMode",d.enterFullScreenMode),n.update("exitFullScreenMode",d.exitFullScreenMode),n.update("getPagesContainer",d.getPagesContainer),n.update("zoom",d.zoom)},onViewerStateChange:function(d){return n.update("fullScreenMode",d.fullScreenMode),d},renderViewer:function(d){var f=d.slot;return f.subSlot&&(f.subSlot.children=Ee.createElement(Ee.Fragment,null,r.enableShortcuts&&Ee.createElement(Kc,{containerRef:d.containerRef,getFullScreenTarget:e,store:n}),Ee.createElement(Xc,{store:n,onEnterFullScreen:r.onEnterFullScreen,onExitFullScreen:r.onExitFullScreen}),Ee.createElement(l,null),f.subSlot.children)),f},EnterFullScreen:i,EnterFullScreenButton:function(){return Ee.createElement(i,null,function(d){return Ee.createElement(Aa,Zn({enableShortcuts:r.enableShortcuts},d))})},EnterFullScreenMenuItem:function(d){return Ee.createElement(i,null,function(f){return Ee.createElement(Uc,{onClick:function(){f.onClick(),d.onClick()}})})}}}});var xa=Te((Cd,Pa)=>{"use strict";Pa.exports=Ca()});var Ra=Te(Vr=>{"use strict";var Gt=st();function $c(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var rt=$c(ot()),Wr=function(){return rt.createElement(Gt.Icon,{size:16},rt.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),rt.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},Jn=function(){return Jn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Jn.apply(this,arguments)},Yc={left:0,top:8},Ma=function(t){var e=t.onClick,r=rt.useContext(Gt.LocalizationContext).l10n,n=r&&r.download?r.download.download:"Download";return rt.createElement(Gt.Tooltip,{ariaControlsSuffix:"get-file",position:Gt.Position.BottomCenter,target:rt.createElement(Gt.MinimalButton,{ariaLabel:n,testId:"get-file__download-button",onClick:e},rt.createElement(Wr,null)),content:function(){return n},offset:Yc})},Ta=function(t,e){var r=document.createElement("a");r.style.display="none",r.href=t,r.setAttribute("download",e),document.body.appendChild(r),r.click(),document.body.removeChild(r)},ka=function(t,e,r){var n=URL.createObjectURL(new Blob([t],{type:r}));Ta(n,e),n&&URL.revokeObjectURL(n)},Zc=function(t,e){t.getData().then(function(r){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?ka(r,e,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?Ta("data:application/pdf;base64,".concat(function(n){return btoa(Array(n.length).fill("").map(function(i,l){return String.fromCharCode(n[l])}).join(""))}(r)),e):ka(r,e,"application/pdf")})},Jc=function(t){var e=t.children,r=t.fileNameGenerator,n=t.store,i=rt.useState(n.get("file")),l=i[0],d=i[1],f=rt.useState(n.get("doc")),m=f[0],o=f[1],a=function(h){o(h)},s=function(h){d(h)};return rt.useEffect(function(){return n.subscribe("doc",a),n.subscribe("file",s),function(){n.subscribe("doc",a),n.unsubscribe("file",s)}},[]),(e||function(h){return rt.createElement(Ma,{onClick:h.onClick})})({onClick:function(){m&&l&&Zc(m,r(l))}})},Qc=function(t){var e=t.onClick,r=rt.useContext(Gt.LocalizationContext).l10n,n=r&&r.download?r.download.download:"Download";return rt.createElement(Gt.MenuItem,{icon:rt.createElement(Wr,null),testId:"get-file__download-menu",onClick:e},n)};Vr.DownloadIcon=Wr,Vr.getFilePlugin=function(t){var e=rt.useMemo(function(){return Gt.createStore({})},[]),r=function(i){return i.name?(l=i.name,(d=l.split("/").pop())?d.split("#")[0].split("?")[0]:l):"document.pdf";var l,d},n=function(i){return rt.createElement(Jc,Jn({},i,{fileNameGenerator:t&&t.fileNameGenerator||r,store:e}))};return{onDocumentLoad:function(i){e.update("doc",i.doc),e.update("file",i.file)},Download:n,DownloadButton:function(){return rt.createElement(n,null,function(i){return rt.createElement(Ma,Jn({},i))})},DownloadMenuItem:function(i){return rt.createElement(n,null,function(l){return rt.createElement(Qc,{onClick:function(){l.onClick(),i.onClick()}})})}}}});var La=Te((xd,Fa)=>{"use strict";Fa.exports=Ra()});var Da=Te(Ur=>{"use strict";var Lt=st();function el(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Ue=el(ot()),qr=function(){return Ue.createElement(Lt.Icon,{size:16},Ue.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),Ue.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},An=function(){return An=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},An.apply(this,arguments)},Ia=function(t){var e=Ue.useRef(),r=function(){var i=e.current;i&&(i.click(),t.get("triggerOpenFile")&&t.update("triggerOpenFile",!1))},n=function(i){i&&r()};return Ue.useEffect(function(){return t.subscribe("triggerOpenFile",n),function(){t.unsubscribe("triggerOpenFile",n)}},[]),{inputRef:e,openFile:r}},tl={left:0,top:8},nl=function(t){var e=t.enableShortcuts,r=t.store,n=t.onClick,i=Ue.useContext(Lt.LocalizationContext).l10n,l=i&&i.open?i.open.openFile:"Open file",d=Ia(r),f=d.inputRef,m=d.openFile,o=e?Lt.isMac()?"Meta+O":"Ctrl+O":"";return Ue.createElement(Lt.Tooltip,{ariaControlsSuffix:"open",position:Lt.Position.BottomCenter,target:Ue.createElement("div",{className:"rpv-open__input-wrapper"},Ue.createElement("input",{accept:".pdf",ref:f,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:n}),Ue.createElement(Lt.MinimalButton,{ariaKeyShortcuts:o,ariaLabel:l,testId:"open__button",onClick:m},Ue.createElement(qr,null))),content:function(){return l},offset:tl})},rl=function(t){var e=t.children,r=t.enableShortcuts,n=t.store;return(e||function(i){return Ue.createElement(nl,{enableShortcuts:r,store:n,onClick:i.onClick})})({onClick:function(i){var l=i.target.files;if(l&&l.length){var d=n.get("openFile");d&&d(l[0])}}})},il=function(t){var e=t.store,r=t.onClick,n=Ue.useContext(Lt.LocalizationContext).l10n,i=n&&n.open?n.open.openFile:"Open file",l=Ia(e),d=l.inputRef,f=l.openFile;return Ue.createElement(Lt.MenuItem,{icon:Ue.createElement(qr,null),testId:"open__menu",onClick:f},Ue.createElement("div",{className:"rpv-open__input-wrapper"},Ue.createElement("input",{accept:".pdf",ref:d,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:r}),i))},al=function(t){var e=t.containerRef,r=t.store,n=function(i){if(!i.shiftKey&&!i.altKey&&i.key==="o"&&(Lt.isMac()?i.metaKey:i.ctrlKey)){var l=e.current;l&&document.activeElement&&l.contains(document.activeElement)&&(i.preventDefault(),r.update("triggerOpenFile",!0))}};return Ue.useEffect(function(){if(e.current)return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}},[e.current]),Ue.createElement(Ue.Fragment,null)};Ur.OpenFileIcon=qr,Ur.openPlugin=function(t){var e=Ue.useMemo(function(){return Object.assign({},{enableShortcuts:!0},t)},[]),r=Ue.useMemo(function(){return Lt.createStore({})},[]),n=function(i){return Ue.createElement(rl,An({enableShortcuts:e.enableShortcuts},i,{store:r}))};return{install:function(i){r.update("openFile",i.openFile)},renderViewer:function(i){var l=i.slot,d={children:Ue.createElement(Ue.Fragment,null,e.enableShortcuts&&Ue.createElement(al,{containerRef:i.containerRef,store:r}),l.children)};return An(An({},l),d)},Open:n,OpenButton:function(){return Ue.createElement(n,null)},OpenMenuItem:function(){return Ue.createElement(n,null,function(i){return Ue.createElement(il,{store:r,onClick:i.onClick})})}}}});var Na=Te((Md,Oa)=>{"use strict";Oa.exports=Da()});var Va=Te(mn=>{"use strict";var je=st();function ol(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var ue=ol(ot()),Gr=function(){return ue.createElement(je.Icon,{size:16},ue.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},Xr=function(){return ue.createElement(je.Icon,{size:16},ue.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},Et=function(){return Et=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Et.apply(this,arguments)},an=function(t){var e=ue.useState(t.get("currentPage")||0),r=e[0],n=e[1],i=function(l){n(l)};return je.useIsomorphicLayoutEffect(function(){return t.subscribe("currentPage",i),function(){t.unsubscribe("currentPage",i)}},[]),{currentPage:r}},Cn=function(t){var e=ue.useState(t.get("numberOfPages")||0),r=e[0],n=e[1],i=function(l){n(l)};return ue.useEffect(function(){return t.subscribe("numberOfPages",i),function(){t.unsubscribe("numberOfPages",i)}},[]),{numberOfPages:r}},sl=function(t){var e=t.store,r=ue.useContext(je.LocalizationContext).l10n,n=ue.useState("1"),i=n[0],l=n[1],d=an(e).currentPage,f=Cn(e).numberOfPages;ue.useEffect(function(){return l("".concat(d+1))},[d]);var m=function(a){var s=e.get("jumpToPage");s&&s(a)},o=r&&r.pageNavigation?r.pageNavigation.enterPageNumber:"Enter a page number";return ue.createElement("span",{className:"rpv-page-navigation__current-page-input"},ue.createElement(je.TextBox,{ariaLabel:o,testId:"page-navigation__current-page-input",type:"text",value:i,onChange:l,onKeyDown:function(a){switch(a.key){case"ArrowUp":(u=d-1)>=0&&(l("".concat(u+1)),m(u));break;case"ArrowDown":(h=d+1)<f&&(l("".concat(h+1)),m(h));break;case"Enter":s=parseInt(i,10),i===""||s<1||s>f?l("".concat(d+1)):m(s-1)}var s,h,u}}))},cl=function(t){var e=t.children,r=t.doc,n=je.useIsMounted(),i=ue.useState({loading:!0,labels:[]}),l=i[0],d=i[1];return ue.useEffect(function(){r.getPageLabels().then(function(f){n.current&&d({loading:!1,labels:f||[]})})},[r.loadingTask.docId]),l.loading?ue.createElement(ue.Fragment,null):e(l.labels)},ll=function(t){var e=t.children,r=t.store,n=function(f){var m=ue.useState(f.get("doc")),o=m[0],a=m[1],s=function(h){a(h)};return ue.useEffect(function(){return f.subscribe("doc",s),function(){f.unsubscribe("doc",s)}},[]),o}(r),i=an(r).currentPage,l=Cn(r).numberOfPages,d=e||function(f){return ue.createElement(ue.Fragment,null,f.currentPage+1)};return n?ue.createElement(cl,{doc:n},function(f){var m=f.length===l&&l>0?f[i]:"";return d({currentPage:i,numberOfPages:l,pageLabel:m})}):ue.createElement(ue.Fragment,null)},Kr=function(){return ue.createElement(je.Icon,{size:16},ue.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},ul={left:0,top:8},Ba=function(t){var e=t.isDisabled,r=t.onClick,n=ue.useContext(je.LocalizationContext).l10n,i=n&&n.pageNavigation?n.pageNavigation.goToFirstPage:"First page";return ue.createElement(je.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:je.Position.BottomCenter,target:ue.createElement(je.MinimalButton,{ariaLabel:i,isDisabled:e,testId:"page-navigation__first-button",onClick:r},ue.createElement(Kr,null)),content:function(){return i},offset:ul})},dl=function(t){var e=t.children,r=t.store;return(e||function(n){return ue.createElement(Ba,{isDisabled:n.isDisabled,onClick:n.onClick})})({isDisabled:an(r).currentPage===0,onClick:function(){var n=r.get("jumpToPage");n&&n(0)}})},hl=function(t){var e=t.isDisabled,r=t.onClick,n=ue.useContext(je.LocalizationContext).l10n,i=n&&n.pageNavigation?n.pageNavigation.goToFirstPage:"First page";return ue.createElement(je.MenuItem,{icon:ue.createElement(Kr,null),isDisabled:e,testId:"page-navigation__first-menu",onClick:r},i)},fl={left:0,top:8},ja=function(t){var e=t.isDisabled,r=t.onClick,n=ue.useContext(je.LocalizationContext).l10n,i=n&&n.pageNavigation?n.pageNavigation.goToLastPage:"Last page";return ue.createElement(je.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:je.Position.BottomCenter,target:ue.createElement(je.MinimalButton,{ariaLabel:i,isDisabled:e,testId:"page-navigation__last-button",onClick:r},ue.createElement(Gr,null)),content:function(){return i},offset:fl})},pl=function(t){var e=t.children,r=t.store,n=an(r).currentPage,i=Cn(r).numberOfPages;return(e||function(l){return ue.createElement(ja,{isDisabled:l.isDisabled,onClick:l.onClick})})({isDisabled:n+1>=i,onClick:function(){var l=r.get("jumpToPage");l&&l(i-1)}})},ml=function(t){var e=t.isDisabled,r=t.onClick,n=ue.useContext(je.LocalizationContext).l10n,i=n&&n.pageNavigation?n.pageNavigation.goToLastPage:"Last page";return ue.createElement(je.MenuItem,{icon:ue.createElement(Gr,null),isDisabled:e,testId:"page-navigation__last-menu",onClick:r},i)},gl={left:0,top:8},za=function(t){var e=t.isDisabled,r=t.onClick,n=ue.useContext(je.LocalizationContext).l10n,i=n&&n.pageNavigation?n.pageNavigation.goToNextPage:"Next page";return ue.createElement(je.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:je.Position.BottomCenter,target:ue.createElement(je.MinimalButton,{ariaLabel:i,isDisabled:e,testId:"page-navigation__next-button",onClick:r},ue.createElement(Xr,null)),content:function(){return i},offset:gl})},vl=function(t){var e=t.children,r=t.store;return(e||function(n){return ue.createElement(za,{onClick:n.onClick,isDisabled:n.isDisabled})})({isDisabled:an(r).currentPage+1>=Cn(r).numberOfPages,onClick:function(){var n=r.get("jumpToNextPage");n&&n()}})},bl=function(t){var e=t.isDisabled,r=t.onClick,n=ue.useContext(je.LocalizationContext).l10n,i=n&&n.pageNavigation?n.pageNavigation.goToNextPage:"Next page";return ue.createElement(je.MenuItem,{icon:ue.createElement(Xr,null),isDisabled:e,testId:"page-navigation__next-menu",onClick:r},i)},$r=function(){return ue.createElement(je.Icon,{size:16},ue.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},_l={left:0,top:8},Ha=function(t){var e=t.isDisabled,r=t.onClick,n=ue.useContext(je.LocalizationContext).l10n,i=n&&n.pageNavigation?n.pageNavigation.goToPreviousPage:"Previous page";return ue.createElement(je.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:je.Position.BottomCenter,target:ue.createElement(je.MinimalButton,{ariaLabel:i,isDisabled:e,testId:"page-navigation__previous-button",onClick:r},ue.createElement($r,null)),content:function(){return i},offset:_l})},El=function(t){var e=t.store;return(t.children||function(r){return ue.createElement(Ha,{isDisabled:r.isDisabled,onClick:r.onClick})})({isDisabled:an(e).currentPage<=0,onClick:function(){var r=e.get("jumpToPreviousPage");r&&r()}})},yl=function(t){var e=t.isDisabled,r=t.onClick,n=ue.useContext(je.LocalizationContext).l10n,i=n&&n.pageNavigation?n.pageNavigation.goToPreviousPage:"Previous page";return ue.createElement(je.MenuItem,{icon:ue.createElement($r,null),isDisabled:e,testId:"page-navigation__previous-menu",onClick:r},i)},Sl=function(t){var e=t.children,r=t.store,n=Cn(r).numberOfPages;return e?e({numberOfPages:n}):ue.createElement(ue.Fragment,null,n)},wl=function(t){var e=t.containerRef,r=t.numPages,n=t.store,i=an(n).currentPage,l=ue.useRef(i);l.current=i;var d=ue.useRef(!1),f=function(){d.current=!0},m=function(){d.current=!1},o=function(a){var s=e.current,h=d.current||document.activeElement&&s.contains(document.activeElement);if(s&&h){var u,c,p=a.altKey&&a.key==="ArrowDown"||!a.shiftKey&&!a.altKey&&a.key==="PageDown",b=a.altKey&&a.key==="ArrowUp"||!a.shiftKey&&!a.altKey&&a.key==="PageUp";if(p)return a.preventDefault(),u=n.get("jumpToPage"),c=l.current+1,void(u&&c<r&&u(c));if(b)return a.preventDefault(),void function(){var v=n.get("jumpToPage"),w=l.current-1;v&&w>=0&&v(w)}();if(je.isMac()?a.metaKey&&!a.ctrlKey:a.altKey)switch(a.key){case"ArrowLeft":a.preventDefault(),function(){var v=n.get("jumpToPreviousDestination");v&&v()}();break;case"ArrowRight":a.preventDefault(),function(){var v=n.get("jumpToNextDestination");v&&v()}()}}};return ue.useEffect(function(){var a=e.current;if(a)return document.addEventListener("keydown",o),a.addEventListener("mouseenter",f),a.addEventListener("mouseleave",m),function(){document.removeEventListener("keydown",o),a.removeEventListener("mouseenter",f),a.removeEventListener("mouseleave",m)}},[e.current]),ue.createElement(ue.Fragment,null)};mn.DownArrowIcon=Gr,mn.NextIcon=Xr,mn.PreviousIcon=$r,mn.UpArrowIcon=Kr,mn.pageNavigationPlugin=function(t){var e=ue.useMemo(function(){return Object.assign({},{enableShortcuts:!0},t)},[]),r=ue.useMemo(function(){return je.createStore()},[]),n=function(f){return ue.createElement(dl,Et({},f,{store:r}))},i=function(f){return ue.createElement(pl,Et({},f,{store:r}))},l=function(f){return ue.createElement(vl,Et({},f,{store:r}))},d=function(f){return ue.createElement(El,Et({},f,{store:r}))};return{install:function(f){r.update("jumpToDestination",f.jumpToDestination),r.update("jumpToNextDestination",f.jumpToNextDestination),r.update("jumpToNextPage",f.jumpToNextPage),r.update("jumpToPage",f.jumpToPage),r.update("jumpToPreviousDestination",f.jumpToPreviousDestination),r.update("jumpToPreviousPage",f.jumpToPreviousPage)},renderViewer:function(f){var m=f.slot;if(!e.enableShortcuts)return m;var o={children:ue.createElement(ue.Fragment,null,ue.createElement(wl,{containerRef:f.containerRef,numPages:f.doc.numPages,store:r}),m.children)};return Et(Et({},m),o)},onDocumentLoad:function(f){r.update("doc",f.doc),r.update("numberOfPages",f.doc.numPages)},onViewerStateChange:function(f){return r.update("currentPage",f.pageIndex),f},jumpToNextPage:function(){var f=r.get("jumpToNextPage");f&&f()},jumpToPage:function(f){var m=r.get("jumpToPage");m&&m(f)},jumpToPreviousPage:function(){var f=r.get("jumpToPreviousPage");f&&f()},CurrentPageInput:function(){return ue.createElement(sl,{store:r})},CurrentPageLabel:function(f){return ue.createElement(ll,Et({},f,{store:r}))},GoToFirstPage:n,GoToFirstPageButton:function(){return ue.createElement(n,null,function(f){return ue.createElement(Ba,Et({},f))})},GoToFirstPageMenuItem:function(f){return ue.createElement(n,null,function(m){return ue.createElement(hl,{isDisabled:m.isDisabled,onClick:function(){m.onClick(),f.onClick()}})})},GoToLastPage:i,GoToLastPageButton:function(){return ue.createElement(i,null,function(f){return ue.createElement(ja,Et({},f))})},GoToLastPageMenuItem:function(f){return ue.createElement(i,null,function(m){return ue.createElement(ml,{isDisabled:m.isDisabled,onClick:function(){m.onClick(),f.onClick()}})})},GoToNextPage:l,GoToNextPageButton:function(){return ue.createElement(l,null,function(f){return ue.createElement(za,Et({},f))})},GoToNextPageMenuItem:function(f){return ue.createElement(l,null,function(m){return ue.createElement(bl,{isDisabled:m.isDisabled,onClick:function(){m.onClick(),f.onClick()}})})},GoToPreviousPage:d,GoToPreviousPageButton:function(){return ue.createElement(d,null,function(f){return ue.createElement(Ha,Et({},f))})},GoToPreviousPageMenuItem:function(f){return ue.createElement(d,null,function(m){return ue.createElement(yl,{isDisabled:m.isDisabled,onClick:function(){m.onClick(),f.onClick()}})})},NumberOfPages:function(f){return ue.createElement(Sl,Et({},f,{store:r}))}}}});var Ua=Te((Rd,Wa)=>{"use strict";Wa.exports=Va()});var Ga=Te(on=>{"use strict";var Ze=st(),Al=ot(),Cl=ss();function Pl(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var gt,be=Pl(Al),Yr=function(){return be.createElement(Ze.Icon,{size:16},be.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},gn=function(){return gn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gn.apply(this,arguments)},xl={left:0,top:8},qa=function(t){var e=t.enableShortcuts,r=t.onClick,n=be.useContext(Ze.LocalizationContext).l10n,i=n&&n.print?n.print.print:"Print",l=e?Ze.isMac()?"Meta+P":"Ctrl+P":"";return be.createElement(Ze.Tooltip,{ariaControlsSuffix:"print",position:Ze.Position.BottomCenter,target:be.createElement(Ze.MinimalButton,{ariaKeyShortcuts:l,ariaLabel:i,testId:"print__button",onClick:r},be.createElement(Yr,null)),content:function(){return i},offset:xl})};(function(t){t.CheckingPermission="CheckingPermission",t.Inactive="Inactive",t.Preparing="Preparing",t.Cancelled="Cancelled",t.Ready="Ready"})(gt||(gt={}));var kl=function(t){var e=t.children,r=t.enableShortcuts,n=t.store;return(e||qa)({enableShortcuts:r,onClick:function(){n.update("printStatus",gt.CheckingPermission)}})},Ml=function(t){var e=t.doc,r=t.store,n=be.useContext(Ze.LocalizationContext).l10n,i=be.useState(!0),l=i[0],d=i[1];return be.useEffect(function(){e.getPermissions().then(function(f){f===null||f.includes(4)||f.includes(2048)?r.update("printStatus",gt.Preparing):d(!1)})},[]),l?be.createElement(be.Fragment,null):be.createElement(Ze.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(f){return be.createElement(be.Fragment,null,be.createElement("div",{className:"rpv-print__permission-body"},n&&n.print?n.print.disallowPrint:"The document does not allow to print"),be.createElement("div",{className:"rpv-print__permission-footer"},be.createElement(Ze.Button,{onClick:function(){f(),r.update("printStatus",gt.Cancelled)}},n&&n.print?n.print.close:"Close")))},isOpened:!0})},Tl=function(t){var e=t.numLoadedPages,r=t.numPages,n=t.onCancel,i=be.useContext(Ze.LocalizationContext).l10n,l=be.useContext(Ze.ThemeContext).direction===Ze.TextDirection.RightToLeft,d=Math.floor(100*e/r);return be.createElement("div",{className:"rpv-print__progress"},be.createElement("div",{className:Ze.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":l})},be.createElement("div",{className:"rpv-print__progress-message"},i&&i.print?i.print.preparingDocument:"Preparing document ..."),be.createElement("div",{className:"rpv-print__progress-bar"},be.createElement(Ze.ProgressBar,{progress:d})),be.createElement(Ze.Button,{onClick:n},i&&i.print?i.print.cancel:"Cancel")))},Rl=function(t){var e=t.canvas,r=t.page,n=t.pageHeight,i=t.pageIndex,l=t.pageWidth,d=t.rotation,f=t.onLoad,m=Ze.useIsMounted(),o=be.useRef(),a=be.useState(""),s=a[0],h=a[1],u=be.useMemo(function(){return typeof process<"u"&&process.env.JEST_WORKER_ID!==void 0},[]);return be.useEffect(function(){var c=o.current;c&&c.cancel();var p=150/72;e.height=Math.floor(n*p),e.width=Math.floor(l*p);var b=e.getContext("2d");b.save(),b.fillStyle="rgb(255, 255, 255)",b.fillRect(0,0,e.width,e.height),b.restore();var v=r.getViewport({rotation:d,scale:1});o.current=r.render({canvasContext:b,intent:"print",transform:[p,0,0,p,0,0],viewport:v}),o.current.promise.then(function(){"toBlob"in e&&"createObjectURL"in URL?e.toBlob(function(w){m.current&&h(URL.createObjectURL(w)),u&&f()}):(m.current&&h(e.toDataURL()),u&&f())},function(){})},[]),s&&be.createElement("div",{className:"rpv-print__page"},be.createElement("img",{"data-testid":"print__thumbnail-".concat(i),src:s,onLoad:function(){u||f()}}))},Fl=function(t){var e=t.canvas,r=t.doc,n=t.pageIndex,i=t.pageRotation,l=t.pageSize,d=t.rotation,f=t.shouldRender,m=t.onLoad,o=Ze.useIsMounted(),a=be.useState(null),s=a[0],h=a[1],u=Math.abs(d+i)%180==0;be.useEffect(function(){f&&Ze.getPage(r,n).then(function(p){o.current&&h(p)})},[f]);var c=(l.rotation+d+i)%360;return s&&be.createElement(Rl,{canvas:e,page:s,pageHeight:u?l.pageHeight:l.pageWidth,pageIndex:n,pageWidth:u?l.pageWidth:l.pageHeight,rotation:c,onLoad:m})},Ll=function(t){var e=t.doc,r=t.numLoadedPages,n=t.pagesRotation,i=t.pageSizes,l=t.printPages,d=t.printStatus,f=t.rotation,m=t.onCancel,o=t.onLoad,a=be.useMemo(function(){return document.createElement("canvas")},[]),s=be.useMemo(function(){var c=document.querySelector(".rpv-print__zone");if(c)return c;var p=document.createElement("div");return p.classList.add("rpv-print__zone"),p.setAttribute("data-testid","print__zone"),document.body.appendChild(p),p},[]);be.useEffect(function(){d===gt.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var c=function(){if(d===gt.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var p=document.querySelectorAll(".rpv-print__zone");p&&p.forEach(function(b){b.parentElement.removeChild(b)}),a.height=0,a.width=0,document.removeEventListener("mousemove",c),m()}};return document.addEventListener("mousemove",c),function(){return document.removeEventListener("mousemove",c)}},[d]);var h=i[0].pageHeight,u=i[0].pageWidth;return Cl.createPortal(be.createElement(be.Fragment,null,l.map(function(c,p){return be.createElement(Fl,{key:c,canvas:a,doc:e,pageIndex:c,pageRotation:n.has(c)?n.get(c):0,pageSize:i[c],rotation:f,shouldRender:p===r,onLoad:o})}),be.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(u,"pt ").concat(h,"pt }")}})),s)},Il=function(t){var e=t.doc,r=t.pagesRotation,n=t.pageSizes,i=t.renderProgressBar,l=t.rotation,d=t.setPages,f=t.store,m=be.useState(gt.Inactive),o=m[0],a=m[1],s=be.useState(0),h=s[0],u=s[1],c=be.useMemo(function(){var w=e.numPages;return d(e).filter(function(x){return x>=0&&x<w})},[e,d]),p=c.length,b=function(){u(0),a(gt.Inactive)},v=function(w){return a(w)};return be.useEffect(function(){return f.subscribe("printStatus",v),function(){f.unsubscribe("printStatus",v)}},[]),be.createElement(be.Fragment,null,o===gt.CheckingPermission&&be.createElement(Ml,{doc:e,store:f}),o===gt.Preparing&&(i?i(h,p,b):be.createElement(Tl,{numLoadedPages:h,numPages:p,onCancel:b})),(o===gt.Preparing||o===gt.Ready)&&h<=p&&be.createElement(Ll,{doc:e,numLoadedPages:h,pagesRotation:r,pageSizes:n,printPages:c,printStatus:o,rotation:l,onCancel:b,onLoad:function(){var w=h+1;w<=p&&(u(w),w===p&&a(gt.Ready))}}))},Dl=function(t){var e=t.onClick,r=be.useContext(Ze.LocalizationContext).l10n,n=r&&r.print?r.print.print:"Print";return be.createElement(Ze.MenuItem,{icon:be.createElement(Yr,null),testId:"print__menu",onClick:e},n)},Ol=function(t){var e=t.containerRef,r=t.store,n=function(i){if(!i.shiftKey&&!i.altKey&&i.key==="p"&&(Ze.isMac()?i.metaKey:i.ctrlKey)){var l=e.current;l&&document.activeElement&&l.contains(document.activeElement)&&(i.preventDefault(),r.update("printStatus",gt.Preparing))}};return be.useEffect(function(){if(e.current)return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}},[e.current]),be.createElement(be.Fragment,null)};on.PrintIcon=Yr,on.getAllPagesNumbers=function(t){return Array(t.numPages).fill(0).map(function(e,r){return r})},on.getCustomPagesNumbers=function(t){return function(e){var r,n=[];return t.replace(/\s+/g,"").split(",").forEach(function(i){var l,d,f=i.split("-").map(function(m){return parseInt(m,10)}).filter(function(m){return Number.isInteger(m)});f.length===1?n.push(f[0]-1):f.length===2&&n.push.apply(n,(l=f[0]-1,d=f[1]-1,Array(d-l+1).fill(0).map(function(m,o){return l+o})))}),(r=n,r.filter(function(i){return r.indexOf(i)===r.lastIndexOf(i)})).filter(function(i){return i>=0&&i<e.numPages})}},on.getEvenPagesNumbers=function(t){return Array(t.numPages).fill(0).map(function(e,r){return r}).filter(function(e){return(e+1)%2==0})},on.getOddPagesNumbers=function(t){return Array(t.numPages).fill(0).map(function(e,r){return r}).filter(function(e){return(e+1)%2==1})},on.printPlugin=function(t){var e=be.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(i){return Array(i.numPages).fill(0).map(function(l,d){return d})}},t)},[]),r=be.useMemo(function(){return Ze.createStore({printStatus:gt.Inactive})},[]),n=function(i){return be.createElement(kl,gn({enableShortcuts:e.enableShortcuts},i,{store:r}))};return{print:function(){r.update("printStatus",gt.CheckingPermission)},renderViewer:function(i){var l=i.slot,d={children:be.createElement(be.Fragment,null,e.enableShortcuts&&be.createElement(Ol,{containerRef:i.containerRef,store:r}),be.createElement(Il,{doc:i.doc,pagesRotation:i.pagesRotation,pageSizes:i.pageSizes,renderProgressBar:t?.renderProgressBar,rotation:i.rotation,setPages:e.setPages,store:r}),l.children)};return gn(gn({},l),d)},Print:n,PrintButton:function(){return be.createElement(n,null,function(i){return be.createElement(qa,gn({},i))})},PrintMenuItem:function(i){return be.createElement(n,null,function(l){return be.createElement(Dl,{onClick:function(){l.onClick(),i.onClick()}})})},setPages:function(i){e.setPages=i}}}});var Ka=Te((Ld,Xa)=>{"use strict";Xa.exports=Ga()});var Ya=Te(Zr=>{"use strict";var vt=st();function Nl(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Se=Nl(ot()),Jr=function(){return Se.createElement(vt.Icon,{size:16},Se.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},Pn=function(){return Pn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Pn.apply(this,arguments)},Bl=function(t){var e=t.doc,r=t.render,n=Se.useState(),i=n[0],l=n[1];return Se.useEffect(function(){e.getMetadata().then(function(d){return Promise.resolve(d)}).then(function(d){return e.getDownloadInfo().then(function(f){return Promise.resolve({fileName:d.contentDispositionFilename||"",info:d.info,length:f.length})})}).then(function(d){l(d)})},[]),i?r(i):Se.createElement("div",{className:"rpv-properties__loader"},Se.createElement(vt.Spinner,null))},Pt=function(t){var e=t.label,r=t.value,n=Se.useContext(vt.ThemeContext).direction===vt.TextDirection.RightToLeft;return Se.createElement("dl",{className:vt.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":n})},Se.createElement("dt",{className:"rpv-properties__item-label"},e,":"),Se.createElement("dd",{className:"rpv-properties__item-value"},r||"-"))},jl=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),sn=function(t,e,r,n){var i=parseInt(t,10);return i>=e&&i<=r?i:n},zl=function(t){var e=t.doc,r=t.fileName,n=t.onToggle,i=Se.useContext(vt.LocalizationContext).l10n,l=function(d){var f=function(m){var o=jl.exec(m);if(!o)return null;var a=parseInt(o[1],10),s=sn(o[2],1,12,1)-1,h=sn(o[3],1,31,1),u=sn(o[4],0,23,0),c=sn(o[5],0,59,0),p=sn(o[6],0,59,0),b=o[7]||"Z",v=sn(o[8],0,23,0),w=sn(o[9],0,59,0);switch(b){case"-":u+=v,c+=w;break;case"+":u-=v,c-=w}return new Date(Date.UTC(a,s,h,u,c,p))}(d);return f?"".concat(f.toLocaleDateString(),", ").concat(f.toLocaleTimeString()):""};return Se.createElement("div",{className:"rpv-properties__modal"},Se.createElement(Bl,{doc:e,render:function(d){return Se.createElement(Se.Fragment,null,Se.createElement("div",{className:"rpv-properties__modal-section"},Se.createElement(Pt,{label:i&&i.properties?i.properties.fileName:"File name",value:d.fileName||(o=r,a=o.split("/").pop(),a?a.split("#")[0].split("?")[0]:o)}),Se.createElement(Pt,{label:i&&i.properties?i.properties.fileSize:"File size",value:(f=d.length,m=Math.floor(Math.log(f)/Math.log(1024)),"".concat((f/Math.pow(1024,m)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][m]))})),Se.createElement(vt.Separator,null),Se.createElement("div",{className:"rpv-properties__modal-section"},Se.createElement(Pt,{label:i&&i.properties?i.properties.title:"Title",value:d.info.Title}),Se.createElement(Pt,{label:i&&i.properties?i.properties.author:"Author",value:d.info.Author}),Se.createElement(Pt,{label:i&&i.properties?i.properties.subject:"Subject",value:d.info.Subject}),Se.createElement(Pt,{label:i&&i.properties?i.properties.keywords:"Keywords",value:d.info.Keywords}),Se.createElement(Pt,{label:i&&i.properties?i.properties.creator:"Creator",value:d.info.Creator}),Se.createElement(Pt,{label:i&&i.properties?i.properties.creationDate:"Creation date",value:l(d.info.CreationDate)}),Se.createElement(Pt,{label:i&&i.properties?i.properties.modificationDate:"Modification date",value:l(d.info.ModDate)})),Se.createElement(vt.Separator,null),Se.createElement("div",{className:"rpv-properties__modal-section"},Se.createElement(Pt,{label:i&&i.properties?i.properties.pdfProducer:"PDF producer",value:d.info.Producer}),Se.createElement(Pt,{label:i&&i.properties?i.properties.pdfVersion:"PDF version",value:d.info.PDFFormatVersion}),Se.createElement(Pt,{label:i&&i.properties?i.properties.pageCount:"Page count",value:"".concat(e.numPages)})));var f,m,o,a}}),Se.createElement("div",{className:"rpv-properties__modal-footer"},Se.createElement(vt.Button,{onClick:n},i&&i.properties?i.properties.close:"Close")))},Hl={left:0,top:8},Vl=function(t){var e=t.onClick,r=Se.useContext(vt.LocalizationContext).l10n,n=r&&r.properties?r.properties.showProperties:"Show properties";return Se.createElement(vt.Tooltip,{ariaControlsSuffix:"properties",position:vt.Position.BottomCenter,target:Se.createElement(vt.MinimalButton,{ariaLabel:n,testId:"properties__button",onClick:e},Se.createElement(Jr,null)),content:function(){return n},offset:Hl})},$a=function(t){var e=t.children,r=t.store,n=function(d){var f=Se.useState(d.get("doc")),m=f[0],o=f[1],a=function(s){o(s)};return Se.useEffect(function(){return d.subscribe("doc",a),function(){d.unsubscribe("doc",a)}},[]),{currentDoc:m}}(r).currentDoc,i=r.get("fileName")||"",l=e||function(d){return Se.createElement(Vl,Pn({},d))};return n?Se.createElement(vt.Modal,{ariaControlsSuffix:"properties",target:function(d){return l({onClick:d})},content:function(d){return Se.createElement(zl,{doc:n,fileName:i,onToggle:d})},closeOnClickOutside:!0,closeOnEscape:!0}):Se.createElement(Se.Fragment,null)},Wl=function(t){var e=t.onClick,r=Se.useContext(vt.LocalizationContext).l10n,n=r&&r.properties?r.properties.showProperties:"Show properties";return Se.createElement(vt.MenuItem,{icon:Se.createElement(Jr,null),testId:"properties__menu",onClick:e},n)};Zr.InfoIcon=Jr,Zr.propertiesPlugin=function(){var t=Se.useMemo(function(){return vt.createStore({fileName:""})},[]),e=function(r){return Se.createElement($a,Pn({},r,{store:t}))};return{onDocumentLoad:function(r){t.update("doc",r.doc)},onViewerStateChange:function(r){return t.update("fileName",r.file.name),r},ShowProperties:e,ShowPropertiesButton:function(){return Se.createElement($a,{store:t})},ShowPropertiesMenuItem:function(r){return Se.createElement(e,null,function(n){return Se.createElement(Wl,Pn({},n))})}}}});var Ja=Te((Dd,Za)=>{"use strict";Za.exports=Ya()});var eo=Te(Qn=>{"use strict";var ct=st();function Ul(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var $e=Ul(ot()),ei=function(){return $e.createElement(ct.Icon,{ignoreDirection:!0,size:16},$e.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},ti=function(){return $e.createElement(ct.Icon,{ignoreDirection:!0,size:16},$e.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},vn=function(){return vn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vn.apply(this,arguments)},ql={left:0,top:8},Qr=function(t){var e=t.direction,r=t.onClick,n=$e.useContext(ct.LocalizationContext).l10n,i=n&&n.rotate?n.rotate.rotateBackward:"Rotate counterclockwise",l=n&&n.rotate?n.rotate.rotateForward:"Rotate clockwise",d=e===ct.RotateDirection.Backward?i:l,f=e===ct.RotateDirection.Backward?$e.createElement(ei,null):$e.createElement(ti,null);return $e.createElement(ct.Tooltip,{ariaControlsSuffix:"rotate",position:ct.Position.BottomCenter,target:$e.createElement(ct.MinimalButton,{ariaLabel:d,testId:e===ct.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:r},f),content:function(){return d},offset:ql})},Gl=function(t){var e=t.children,r=t.direction,n=t.store;return(e||function(i){return $e.createElement(Qr,{direction:i.direction,onClick:i.onClick})})({direction:r,onClick:function(){var i=n.get("rotate");i&&i(r)}})},Qa=function(t){var e=t.direction,r=t.onClick,n=$e.useContext(ct.LocalizationContext).l10n,i=n&&n.rotate?n.rotate.rotateBackward:"Rotate counterclockwise",l=n&&n.rotate?n.rotate.rotateForward:"Rotate clockwise",d=e===ct.RotateDirection.Backward?i:l,f=e===ct.RotateDirection.Backward?$e.createElement(ei,null):$e.createElement(ti,null);return $e.createElement(ct.MenuItem,{icon:f,testId:e===ct.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:r},d)},Xl=function(t){var e=t.children,r=t.store;return e({onRotatePage:function(n,i){var l=r.get("rotatePage");l&&l(n,i)}})};Qn.RotateBackwardIcon=ei,Qn.RotateForwardIcon=ti,Qn.rotatePlugin=function(){var t=$e.useMemo(function(){return ct.createStore()},[]),e=function(r){return $e.createElement(Gl,vn({},r,{store:t}))};return{install:function(r){t.update("rotate",r.rotate),t.update("rotatePage",r.rotatePage)},Rotate:e,RotateBackwardButton:function(){return $e.createElement(e,{direction:ct.RotateDirection.Backward},function(r){return $e.createElement(Qr,vn({},r))})},RotateBackwardMenuItem:function(r){return $e.createElement(e,{direction:ct.RotateDirection.Backward},function(n){return $e.createElement(Qa,{direction:n.direction,onClick:function(){n.onClick(),r.onClick()}})})},RotateForwardButton:function(){return $e.createElement(e,{direction:ct.RotateDirection.Forward},function(r){return $e.createElement(Qr,vn({},r))})},RotateForwardMenuItem:function(r){return $e.createElement(e,{direction:ct.RotateDirection.Forward},function(n){return $e.createElement(Qa,{direction:n.direction,onClick:function(){n.onClick(),r.onClick()}})})},RotatePage:function(r){return $e.createElement(Xl,vn({},r,{store:t}))}}}});var no=Te((Nd,to)=>{"use strict";to.exports=eo()});var go=Te(Xt=>{"use strict";var ye=st();function Kl(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var we=Kl(ot()),ro=function(){return we.createElement(ye.Icon,{size:16},we.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),we.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),we.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},io=function(){return we.createElement(ye.Icon,{size:16},we.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),we.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},ao=function(){return we.createElement(ye.Icon,{size:16},we.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},er=function(){return we.createElement(ye.Icon,{size:16},we.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},tr=function(){return tr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},tr.apply(this,arguments)},oo=function(t,e){t.get("switchScrollMode")(e);var r=t.get("viewMode");e!==ye.ScrollMode.Horizontal&&e!==ye.ScrollMode.Wrapped||r===ye.ViewMode.SinglePage||t.get("switchViewMode")(ye.ViewMode.SinglePage)},ni=function(){return we.createElement(ye.Icon,{size:16},we.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},so=function(){return we.createElement(ye.Icon,{size:16},we.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},co=function(t){var e=t.children,r=t.mode,n=t.onClick,i=we.useContext(ye.LocalizationContext).l10n,l="",d=we.createElement(ni,null);switch(r){case ye.ScrollMode.Horizontal:l=i&&i.scrollMode?i.scrollMode.horizontalScrolling:"Horizontal scrolling",d=we.createElement(ao,null);break;case ye.ScrollMode.Page:l=i&&i.scrollMode?i.scrollMode.pageScrolling:"Page scrolling",d=we.createElement(er,null);break;case ye.ScrollMode.Wrapped:l=i&&i.scrollMode?i.scrollMode.wrappedScrolling:"Wrapped scrolling",d=we.createElement(so,null);break;case ye.ScrollMode.Vertical:default:l=i&&i.scrollMode?i.scrollMode.verticalScrolling:"Vertical scrolling",d=we.createElement(ni,null)}return e({icon:d,label:l,onClick:n})},$l={left:0,top:8},lo=function(t){var e=t.isDisabled,r=t.isSelected,n=t.mode,i=t.onClick,l="";switch(n){case ye.ScrollMode.Horizontal:l="scroll-mode__horizontal-button";break;case ye.ScrollMode.Page:l="scroll-mode__page-button";break;case ye.ScrollMode.Wrapped:l="scroll-mode__wrapped-button";break;case ye.ScrollMode.Vertical:default:l="scroll-mode__vertical-button"}return we.createElement(co,{mode:n,onClick:i},function(d){return we.createElement(ye.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:ye.Position.BottomCenter,target:we.createElement(ye.MinimalButton,{ariaLabel:d.label,isDisabled:e,isSelected:r,testId:l,onClick:d.onClick},d.icon),content:function(){return d.label},offset:$l})})},uo=function(t){var e=we.useState(t.get("scrollMode")||ye.ScrollMode.Vertical),r=e[0],n=e[1],i=function(l){n(l)};return we.useEffect(function(){return t.subscribe("scrollMode",i),function(){t.unsubscribe("scrollMode",i)}},[]),{scrollMode:r}},ho=function(t){var e=we.useState(t.get("viewMode")||ye.ViewMode.SinglePage),r=e[0],n=e[1],i=function(l){n(l)};return we.useEffect(function(){return t.subscribe("viewMode",i),function(){t.unsubscribe("viewMode",i)}},[]),{viewMode:r}},Yl=function(t){var e=t.children,r=t.mode,n=t.store,i=ho(n).viewMode,l=uo(n).scrollMode===r,d=(r===ye.ScrollMode.Horizontal||r===ye.ScrollMode.Wrapped)&&i!==ye.ViewMode.SinglePage;return(e||function(f){return we.createElement(lo,{isDisabled:d,isSelected:l,mode:f.mode,onClick:f.onClick})})({isDisabled:d,isSelected:l,mode:r,onClick:function(){oo(n,r)}})},Zl=function(t){var e=t.isDisabled,r=t.isSelected,n=t.mode,i=t.onClick,l="";switch(n){case ye.ScrollMode.Horizontal:l="scroll-mode__horizontal-menu";break;case ye.ScrollMode.Page:l="scroll-mode__page-menu";break;case ye.ScrollMode.Wrapped:l="scroll-mode__wrapped-menu";break;case ye.ScrollMode.Vertical:default:l="scroll-mode__vertical-menu"}return we.createElement(co,{mode:n,onClick:i},function(d){return we.createElement(ye.MenuItem,{checked:r,icon:d.icon,isDisabled:e,testId:l,onClick:d.onClick},d.label)})},fo=function(t,e){t.get("switchViewMode")(e);var r=t.get("scrollMode");r!==ye.ScrollMode.Horizontal&&r!==ye.ScrollMode.Wrapped||e===ye.ViewMode.SinglePage||t.get("switchScrollMode")(ye.ScrollMode.Vertical)},po=function(t){var e=t.children,r=t.mode,n=t.onClick,i=we.useContext(ye.LocalizationContext).l10n,l="",d=we.createElement(er,null);switch(r){case ye.ViewMode.DualPage:l=i&&i.scrollMode?i.scrollMode.dualPage:"Dual page",d=we.createElement(io,null);break;case ye.ViewMode.DualPageWithCover:l=i&&i.scrollMode?i.scrollMode.dualPageCover:"Dual page with cover",d=we.createElement(ro,null);break;case ye.ViewMode.SinglePage:default:l=i&&i.scrollMode?i.scrollMode.singlePage:"Single page",d=we.createElement(er,null)}return e({icon:d,label:l,onClick:n})},Jl={left:0,top:8},mo=function(t){var e=t.isDisabled,r=t.isSelected,n=t.mode,i=t.onClick,l="";switch(n){case ye.ViewMode.DualPage:l="view-mode__dual-button";break;case ye.ViewMode.DualPageWithCover:l="view-mode__dual-cover-button";break;case ye.ViewMode.SinglePage:default:l="view-mode__single-button"}return we.createElement(po,{mode:n,onClick:i},function(d){return we.createElement(ye.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:ye.Position.BottomCenter,target:we.createElement(ye.MinimalButton,{ariaLabel:d.label,isDisabled:e,isSelected:r,testId:l,onClick:d.onClick},d.icon),content:function(){return d.label},offset:Jl})})},Ql=function(t){var e=t.children,r=t.mode,n=t.store,i=ho(n).viewMode,l=uo(n).scrollMode,d=i===r,f=(l===ye.ScrollMode.Horizontal||l===ye.ScrollMode.Wrapped)&&r!==ye.ViewMode.SinglePage;return(e||function(m){return we.createElement(mo,{isDisabled:f,isSelected:d,mode:m.mode,onClick:m.onClick})})({isDisabled:f,isSelected:d,mode:r,onClick:function(){fo(n,r)}})},eu=function(t){var e=t.isDisabled,r=t.isSelected,n=t.mode,i=t.onClick,l="";switch(n){case ye.ViewMode.DualPage:l="view-mode__dual-menu";break;case ye.ViewMode.DualPageWithCover:l="view-mode__dual-cover-menu";break;case ye.ViewMode.SinglePage:default:l="view-mode__single-menu"}return we.createElement(po,{mode:n,onClick:i},function(d){return we.createElement(ye.MenuItem,{checked:r,icon:d.icon,isDisabled:e,testId:l,onClick:d.onClick},d.label)})};Xt.DualPageCoverViewModeIcon=ro,Xt.DualPageViewModeIcon=io,Xt.HorizontalScrollingIcon=ao,Xt.PageScrollingIcon=er,Xt.VerticalScrollingIcon=ni,Xt.WrappedScrollingIcon=so,Xt.scrollModePlugin=function(){var t=we.useMemo(function(){return ye.createStore({scrollMode:ye.ScrollMode.Vertical,viewMode:ye.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),e=function(n){return we.createElement(Yl,tr({},n,{store:t}))},r=function(n){return we.createElement(Ql,tr({},n,{store:t}))};return{install:function(n){t.update("switchScrollMode",n.switchScrollMode),t.update("switchViewMode",n.switchViewMode)},onViewerStateChange:function(n){return t.update("scrollMode",n.scrollMode),t.update("viewMode",n.viewMode),n},switchScrollMode:function(n){oo(t,n)},switchViewMode:function(n){fo(t,n)},SwitchScrollMode:e,SwitchScrollModeButton:function(n){return we.createElement(e,{mode:n.mode},function(i){return we.createElement(lo,{isDisabled:i.isDisabled,isSelected:i.isSelected,mode:i.mode,onClick:function(){i.onClick()}})})},SwitchScrollModeMenuItem:function(n){return we.createElement(e,{mode:n.mode},function(i){return we.createElement(Zl,{isDisabled:i.isDisabled,isSelected:i.isSelected,mode:i.mode,onClick:function(){i.onClick(),n.onClick()}})})},SwitchViewMode:r,SwitchViewModeButton:function(n){return we.createElement(r,{mode:n.mode},function(i){return we.createElement(mo,{isDisabled:i.isDisabled,isSelected:i.isSelected,mode:i.mode,onClick:function(){i.onClick()}})})},SwitchViewModeMenuItem:function(n){return we.createElement(r,{mode:n.mode},function(i){return we.createElement(eu,{isDisabled:i.isDisabled,isSelected:i.isSelected,mode:i.mode,onClick:function(){i.onClick(),n.onClick()}})})}}}});var bo=Te((jd,vo)=>{"use strict";vo.exports=go()});var ko=Te(xn=>{"use strict";var De=st();function tu(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var he=tu(ot()),wo=function(){return he.createElement(De.Icon,{size:16},he.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},Ao=function(){return he.createElement(De.Icon,{size:16},he.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},Co=function(){return he.createElement(De.Icon,{ignoreDirection:!0,size:16},he.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},Kt=function(){return Kt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Kt.apply(this,arguments)},kn={keyword:"",regExp:new RegExp(" "),wholeWords:!1},Po=function(t){return{left:"".concat(t.left,"%"),top:"".concat(t.top,"%"),height:"".concat(t.height,"%"),width:"".concat(t.width,"%")}},nu=function(t){var e=t.index,r=t.area,n=t.onHighlightKeyword,i=he.useRef();return De.useIsomorphicLayoutEffect(function(){var l=i.current;n&&l&&n({highlightEle:l,keyword:r.keyword})},[]),he.createElement("div",{className:"rpv-search__highlight","data-index":e,ref:i,style:Po(r),title:r.keywordStr.trim()})},_o=function(t){var e=t.parentNode;e&&e.removeChild(t)},ru=function(t){var e=t.parentNode;if(e){var r=document.createRange();r.selectNodeContents(t),function(n,i){_o(n);var l=i.parentNode;l&&l.insertBefore(n,i),_o(i)}(r.extractContents(),t),e.normalize()}},iu=function(t,e){return t.top<e.top?-1:t.top>e.top?1:t.left<e.left?-1:t.left>e.left?1:0},au=function(t){var e=t.numPages,r=t.pageIndex,n=t.renderHighlights,i=t.store,l=t.onHighlightKeyword,d=he.useRef(),f=he.useCallback(function($){return he.createElement(he.Fragment,null,$.highlightAreas.map(function(ie,J){return he.createElement(nu,{index:J,key:J,area:ie,onHighlightKeyword:l})}))},[]),m=n||f,o=he.useState(i.get("matchPosition")),a=o[0],s=o[1],h=he.useState(i.get("keyword")||[kn]),u=h[0],c=h[1],p=he.useState({pageIndex:r,scale:1,status:De.LayerRenderStatus.PreRender}),b=p[0],v=p[1],w=he.useRef(null),x=he.useRef([]),T=he.useState([]),_=T[0],P=T[1],B=function(){return!0},V=he.useCallback(function(){return i.get("targetPageFilter")||B},[i.get("targetPageFilter")]),N=function($){var ie=x.current;if(ie.length===0)return[];var J=[],j=[].slice.call($.querySelectorAll(".rpv-core__text-layer-text")),k=ie.map(function(E){return E.char}).join("");return u.forEach(function(E){var y=E.keyword;if(y.trim()){for(var M,O=E.regExp.flags.indexOf("g")===-1?new RegExp(E.regExp,"".concat(E.regExp.flags,"g")):E.regExp,L=[];(M=O.exec(k))!==null;)L.push({keyword:O,startIndex:M.index,endIndex:O.lastIndex});L.map(function(I){return{keyword:I.keyword,indexes:ie.slice(I.startIndex,I.endIndex)}}).forEach(function(I){var D=I.indexes.reduce(function(g,S){return g[S.spanIndex]=(g[S.spanIndex]||[]).concat([S]),g},{});Object.values(D).forEach(function(g){if(g.length!==1||g[0].char.trim()!==""){var S=E.wholeWords?g.slice(1,-1):g,A=function(R,F,z,W,G){var Z=document.createRange(),X=W.firstChild;if(!X||X.nodeType!==Node.TEXT_NODE)return null;var Y=X.textContent.length,re=G[0].charIndexInSpan,ne=G.length===1?re:G[G.length-1].charIndexInSpan;if(re>Y||ne+1>Y)return null;Z.setStart(X,re),Z.setEnd(X,ne+1);var ae=document.createElement("span");Z.surroundContents(ae);var de=ae.getBoundingClientRect(),oe=z.getBoundingClientRect(),me=oe.height,fe=oe.width,ve=100*(de.left-oe.left)/fe,Ae=100*(de.top-oe.top)/me,ke=100*de.height/me,Xe=100*de.width/fe;return ru(ae),{keyword:F,keywordStr:R,numPages:e,pageIndex:r,left:ve,top:Ae,height:ke,width:Xe,pageHeight:me,pageWidth:fe}}(y,I.keyword,$,j[S[0].spanIndex],S);A&&J.push(A)}})})}}),J.sort(iu)},q=function($){$&&$.length>0&&c($)},U=function($){return s($)},Q=function($){if($.has(r)){var ie=$.get(r);ie&&v({ele:ie.ele,pageIndex:r,scale:ie.scale,status:ie.status})}},ee=function(){return u.length===0||u.length===1&&u[0].keyword.trim()===""};return he.useEffect(function(){if(!ee()&&b.status===De.LayerRenderStatus.DidRender&&!x.current.length){var $=b.ele,ie=[].slice.call($.querySelectorAll(".rpv-core__text-layer-text")).map(function(J){return J.textContent}).reduce(function(J,j,k){return J.concat(j.split("").map(function(E,y){return{char:E,charIndexInSpan:y,spanIndex:k}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);x.current=ie}},[u,b.status]),he.useEffect(function(){if(!ee()&&b.ele&&b.status===De.LayerRenderStatus.DidRender&&V()({pageIndex:r,numPages:e})){var $=b.ele,ie=N($);P(ie)}},[u,a,b.status,x.current]),he.useEffect(function(){ee()&&b.ele&&b.status===De.LayerRenderStatus.DidRender&&P([])},[u,b.status]),he.useEffect(function(){if(_.length!==0){var $=d.current;if(a.pageIndex===r&&$&&b.status===De.LayerRenderStatus.DidRender){var ie=$.querySelector('.rpv-search__highlight[data-index="'.concat(a.matchIndex,'"]'));if(ie){var J=function(y,M){for(var O=y.offsetTop,L=y.offsetLeft,I=y.parentElement;I&&I!==M;)O+=I.offsetTop,L+=I.offsetLeft,I=I.parentElement;return{left:L,top:O}}(ie,$),j=J.left,k=J.top,E=i.get("jumpToDestination");E&&(E({pageIndex:r,bottomOffset:($.getBoundingClientRect().height-k)/b.scale,leftOffset:j/b.scale,scaleTo:b.scale}),w.current&&w.current.classList.remove("rpv-search__highlight--current"),w.current=ie,ie.classList.add("rpv-search__highlight--current"))}}}},[_,a]),he.useEffect(function(){return i.subscribe("keyword",q),i.subscribe("matchPosition",U),i.subscribe("renderStatus",Q),function(){i.unsubscribe("keyword",q),i.unsubscribe("matchPosition",U),i.unsubscribe("renderStatus",Q)}},[]),he.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(r),ref:d},m({getCssProperties:Po,highlightAreas:_}))},Eo=function(t){var e,r=t.wholeWords?" ".concat(t.keyword," "):t.keyword,n=t.matchCase?"g":"gi";return{keyword:t.keyword,regExp:new RegExp((e=r,e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),n),wholeWords:t.wholeWords||!1}},nr=function(t,e,r){return t instanceof RegExp?{keyword:t.source,regExp:t,wholeWords:r||!1}:typeof t=="string"?t===""?kn:Eo({keyword:t,matchCase:e||!1,wholeWords:r||!1}):(e!==void 0&&(t.matchCase=e),r!==void 0&&(t.wholeWords=r),Eo(t))},ri=function(t){var e,r=t.get("initialKeyword"),n=he.useMemo(function(){if(r&&r.length===1){var U=nr(r[0]);return{matchCase:U.regExp.flags.indexOf("i")===-1,wholeWords:U.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),i=function(U){var Q=he.useRef(U.get("doc")),ee=function($){Q.current=$};return he.useEffect(function(){return U.subscribe("doc",ee),function(){U.unsubscribe("doc",ee)}},[]),Q}(t),l=he.useState(r),d=l[0],f=l[1],m=he.useState([]),o=m[0],a=m[1],s=he.useState(0),h=s[0],u=s[1],c=he.useState(n.matchCase),p=c[0],b=c[1],v=he.useRef([]),w=he.useState(n.wholeWords),x=w[0],T=w[1],_=function(){return!0},P=he.useCallback(function(){return t.get("targetPageFilter")||_},[t.get("targetPageFilter")]),B=function(U){var Q=o.length;if(d.length===0||Q===0)return null;var ee=U===Q+1?1:Math.max(1,Math.min(Q,U));return u(ee),N(o[ee-1])},V=function(U){return f(U===""?[]:[U])},N=function(U){var Q=t.get("jumpToPage");return Q&&Q(U.pageIndex),t.update("matchPosition",{matchIndex:U.matchIndex,pageIndex:U.pageIndex}),U},q=function(U,Q,ee){var $=i.current;if(!$)return Promise.resolve([]);var ie=$.numPages,J=U.map(function(j){return nr(j,Q,ee)});return t.update("keyword",J),u(0),a([]),new Promise(function(j,k){var E=v.current.length===0?function(){var y=i.current;if(!y)return Promise.resolve([]);var M=Array(y.numPages).fill(0).map(function(O,L){return De.getPage(y,L).then(function(I){return I.getTextContent()}).then(function(I){var D=I.items.map(function(g){return g.str||""}).join("");return Promise.resolve({pageContent:D,pageIndex:L})})});return Promise.all(M).then(function(O){return O.sort(function(L,I){return L.pageIndex-I.pageIndex}),Promise.resolve(O.map(function(L){return L.pageContent}))})}().then(function(y){return v.current=y,Promise.resolve(y)}):Promise.resolve(v.current);E.then(function(y){var M=[];y.forEach(function(O,L){P()({pageIndex:L,numPages:ie})&&J.forEach(function(I){for(var D,g=0;(D=I.regExp.exec(O))!==null;)M.push({keyword:I.regExp,matchIndex:g,pageIndex:L,pageText:O,startIndex:D.index,endIndex:I.regExp.lastIndex}),g++})}),a(M),M.length>0&&(u(1),N(M[0])),j(M)})})};return he.useEffect(function(){v.current=[]},[i.current]),{clearKeyword:function(){t.update("keyword",[kn]),V(""),u(0),a([]),b(!1),T(!1)},changeMatchCase:function(U){b(U),d.length>0&&q(d,U,x)},changeWholeWords:function(U){T(U),d.length>0&&q(d,p,U)},currentMatch:h,jumpToMatch:B,jumpToNextMatch:function(){return B(h+1)},jumpToPreviousMatch:function(){return B(h-1)},keywords:d,matchCase:p,numberOfMatches:o.length,wholeWords:x,search:function(){return q(d,p,x)},searchFor:q,setKeywords:f,keyword:d.length===0?"":(e=d[0],e instanceof RegExp?e.source:typeof e=="string"?e:e.keyword),setKeyword:V,setTargetPages:function(U){t.update("targetPageFilter",U)}}},ou=function(t){var e=t.children,r=t.store,n=ri(r),i=he.useState(!1),l=i[0],d=i[1],f=function(m){return d(!0)};return he.useEffect(function(){return r.subscribe("doc",f),function(){r.unsubscribe("doc",f)}},[]),e(Kt(Kt({},n),{isDocumentLoaded:l}))},su=function(t){var e=t.containerRef,r=t.store,n=he.useRef(!1),i=function(){n.current=!0},l=function(){n.current=!1},d=function(f){var m=e.current;m&&(f.shiftKey||f.altKey||f.key!=="f"||(De.isMac()?f.metaKey&&!f.ctrlKey:f.ctrlKey)&&(n.current||document.activeElement&&m.contains(document.activeElement))&&(f.preventDefault(),r.update("areShortcutsPressed",!0)))};return he.useEffect(function(){var f=e.current;if(f)return document.addEventListener("keydown",d),f.addEventListener("mouseenter",i),f.addEventListener("mouseleave",l),function(){document.removeEventListener("keydown",d),f.removeEventListener("mouseenter",i),f.removeEventListener("mouseleave",l)}},[e.current]),he.createElement(he.Fragment,null)},yo={left:0,top:8},cu=function(t){var e=t.store,r=t.onToggle,n=he.useContext(De.LocalizationContext).l10n,i=he.useContext(De.ThemeContext).direction,l=he.useState(!1),d=l[0],f=l[1],m=he.useState(!1),o=m[0],a=m[1],s=i===De.TextDirection.RightToLeft,h=ri(e),u=h.clearKeyword,c=h.changeMatchCase,p=h.changeWholeWords,b=h.currentMatch,v=h.jumpToNextMatch,w=h.jumpToPreviousMatch,x=h.keyword,T=h.matchCase,_=h.numberOfMatches,P=h.wholeWords,B=h.search,V=h.setKeyword,N=function($){f(!0),B().then(function(ie){f(!1),a(!0),$&&$()})};he.useEffect(function(){var $=e.get("initialKeyword");$&&$.length===1&&x&&N(function(){e.update("initialKeyword",[])})},[]);var q=n&&n.search?n.search.enterToSearch:"Enter to search",U=n&&n.search?n.search.previousMatch:"Previous match",Q=n&&n.search?n.search.nextMatch:"Next match",ee=n&&n.search?n.search.close:"Close";return he.createElement("div",{className:"rpv-search__popover"},he.createElement("div",{className:"rpv-search__popover-input-counter"},he.createElement(De.TextBox,{ariaLabel:q,autoFocus:!0,placeholder:q,type:"text",value:x,onChange:function($){a(!1),V($)},onKeyDown:function($){$.key==="Enter"&&x&&(o?v():N())}}),he.createElement("div",{className:De.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!s,"rpv-search__popover-counter--rtl":s})},d&&he.createElement(De.Spinner,{testId:"search__popover-searching",size:"1rem"}),!d&&he.createElement("span",{"data-testid":"search__popover-num-matches"},b,"/",_))),he.createElement("label",{className:"rpv-search__popover-label"},he.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:T,type:"checkbox",onChange:function($){a(!1),c($.target.checked)}})," ",n&&n.search?n.search.matchCase:"Match case"),he.createElement("label",{className:"rpv-search__popover-label"},he.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:P,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function($){a(!1),p($.target.checked)}})," ",n&&n.search?n.search.wholeWords:"Whole words"),he.createElement("div",{className:"rpv-search__popover-footer"},he.createElement("div",{className:"rpv-search__popover-footer-item"},he.createElement(De.Tooltip,{ariaControlsSuffix:"search-previous-match",position:s?De.Position.BottomRight:De.Position.BottomCenter,target:he.createElement(De.MinimalButton,{ariaLabel:U,isDisabled:b<=1,onClick:w},he.createElement(Ao,null)),content:function(){return U},offset:yo})),he.createElement("div",{className:"rpv-search__popover-footer-item"},he.createElement(De.Tooltip,{ariaControlsSuffix:"search-next-match",position:De.Position.BottomCenter,target:he.createElement(De.MinimalButton,{ariaLabel:Q,isDisabled:b>_-1,onClick:v},he.createElement(wo,null)),content:function(){return Q},offset:yo})),he.createElement("div",{className:De.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!s,"rpv-search__popover-footer-button--rtl":s})},he.createElement(De.Button,{onClick:function(){r(),u()}},ee))))},lu=function(t){var e=t.children,r=t.onClick,n=he.useContext(De.LocalizationContext).l10n,i=n&&n.search?n.search.search:"Search";return e({icon:he.createElement(Co,null),label:i,onClick:r})},uu={left:0,top:8},xo=function(t){var e=t.enableShortcuts,r=t.store,n=t.onClick,i=e?De.isMac()?"Meta+F":"Ctrl+F":"",l=function(d){d&&n()};return he.useEffect(function(){return r.subscribe("areShortcutsPressed",l),function(){r.unsubscribe("areShortcutsPressed",l)}},[]),he.createElement(lu,{onClick:n},function(d){return he.createElement(De.Tooltip,{ariaControlsSuffix:"search-popover",position:De.Position.BottomCenter,target:he.createElement(De.MinimalButton,{ariaKeyShortcuts:i,ariaLabel:d.label,testId:"search__popover-button",onClick:n},d.icon),content:function(){return d.label},offset:uu})})},du={left:0,top:8},hu=function(t){var e=t.children,r=t.enableShortcuts,n=t.store,i=he.useContext(De.ThemeContext).direction===De.TextDirection.RightToLeft?De.Position.BottomRight:De.Position.BottomLeft,l=e||function(d){return he.createElement(xo,Kt({enableShortcuts:r,store:n},d))};return he.createElement(De.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:i,target:function(d){return l({onClick:d})},content:function(d){return he.createElement(cu,{store:n,onToggle:d})},offset:du,closeOnClickOutside:!1,closeOnEscape:!0})},So=function(t){return Array.isArray(t)?t.map(function(e){return nr(e)}):[nr(t)]};xn.NextIcon=wo,xn.PreviousIcon=Ao,xn.SearchIcon=Co,xn.searchPlugin=function(t){var e=he.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},t)},[]),r=he.useMemo(function(){return De.createStore({initialKeyword:t&&t.keyword?Array.isArray(t.keyword)?t.keyword:[t.keyword]:[],keyword:t&&t.keyword?So(t.keyword):[kn],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),n=ri(r),i=n.clearKeyword,l=n.jumpToMatch,d=n.jumpToNextMatch,f=n.jumpToPreviousMatch,m=n.searchFor,o=n.setKeywords,a=n.setTargetPages,s=function(h){return he.createElement(hu,Kt({enableShortcuts:e.enableShortcuts},h,{store:r}))};return{install:function(h){var u=t&&t.keyword?Array.isArray(t.keyword)?t.keyword:[t.keyword]:[],c=t&&t.keyword?So(t.keyword):[kn];r.update("initialKeyword",u),r.update("jumpToDestination",h.jumpToDestination),r.update("jumpToPage",h.jumpToPage),r.update("keyword",c)},renderPageLayer:function(h){return he.createElement(au,{key:h.pageIndex,numPages:h.doc.numPages,pageIndex:h.pageIndex,renderHighlights:t?.renderHighlights,store:r,onHighlightKeyword:e.onHighlightKeyword})},renderViewer:function(h){var u=h.slot;return u.subSlot&&(u.subSlot.children=he.createElement(he.Fragment,null,e.enableShortcuts&&he.createElement(su,{containerRef:h.containerRef,store:r}),u.subSlot.children)),u},uninstall:function(h){var u=r.get("renderStatus");u&&u.clear()},onDocumentLoad:function(h){r.update("doc",h.doc)},onTextLayerRender:function(h){var u=r.get("renderStatus");u&&(u=u.set(h.pageIndex,h),r.update("renderStatus",u))},Search:function(h){return he.createElement(ou,Kt({},h,{store:r}))},ShowSearchPopover:s,ShowSearchPopoverButton:function(){return he.createElement(s,null,function(h){return he.createElement(xo,Kt({enableShortcuts:e.enableShortcuts,store:r},h))})},clearHighlights:function(){i()},highlight:function(h){var u=Array.isArray(h)?h:[h];return o(u),m(u)},jumpToMatch:l,jumpToNextMatch:d,jumpToPreviousMatch:f,setTargetPages:a}}});var To=Te((Hd,Mo)=>{"use strict";Mo.exports=ko()});var Fo=Te(rr=>{"use strict";var kt=st();function fu(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Ye=fu(ot()),ii=function(){return Ye.createElement(kt.Icon,{size:16},Ye.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),Ye.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},ai=function(){return Ye.createElement(kt.Icon,{size:16},Ye.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),Ye.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},ir=function(){return ir=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ir.apply(this,arguments)},pu={left:0,top:8},Ro=function(t){var e=t.onClick,r=Ye.useContext(kt.ThemeContext),n=Ye.useContext(kt.LocalizationContext).l10n,i=r.currentTheme==="dark",l=n&&n.theme?i?n.theme.switchLightTheme:n.theme.switchDarkTheme:i?"Switch to the light theme":"Switch to the dark theme";return Ye.createElement(kt.Tooltip,{ariaControlsSuffix:"theme-switch",position:kt.Position.BottomCenter,target:Ye.createElement(kt.MinimalButton,{ariaLabel:l,testId:"theme__switch-button",onClick:e},i?Ye.createElement(ai,null):Ye.createElement(ii,null)),content:function(){return l},offset:pu})},mu=function(t){var e=t.children,r=Ye.useContext(kt.ThemeContext);return(e||function(n){return Ye.createElement(Ro,{onClick:n.onClick})})({onClick:function(){return r.setCurrentTheme(r.currentTheme==="dark"?"light":"dark")}})},gu=function(t){var e=t.onClick,r=Ye.useContext(kt.ThemeContext),n=Ye.useContext(kt.LocalizationContext).l10n,i=r.currentTheme==="dark",l=n&&n.theme?i?n.theme.switchLightTheme:n.theme.switchDarkTheme:i?"Switch to the light theme":"Switch to the dark theme";return Ye.createElement(kt.MenuItem,{icon:i?Ye.createElement(ai,null):Ye.createElement(ii,null),testId:"theme__switch-menu",onClick:e},l)};rr.DarkIcon=ii,rr.LightIcon=ai,rr.themePlugin=function(){var t=function(e){return Ye.createElement(mu,ir({},e))};return{SwitchTheme:t,SwitchThemeButton:function(){return Ye.createElement(t,null,function(e){return Ye.createElement(Ro,ir({},e))})},SwitchThemeMenuItem:function(e){return Ye.createElement(t,null,function(r){return Ye.createElement(gu,{onClick:function(){r.onClick(),e.onClick()}})})}}}});var Io=Te((Wd,Lo)=>{"use strict";Lo.exports=Fo()});var Ho=Te(ar=>{"use strict";var Oe=st();function vu(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var _e=vu(ot()),si=function(){return _e.createElement(Oe.Icon,{ignoreDirection:!0,size:16},_e.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},ci=function(){return _e.createElement(Oe.Icon,{ignoreDirection:!0,size:16},_e.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},Mt=function(){return Mt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Mt.apply(this,arguments)},or=function(t){var e=_e.useState(t.get("scale")||0),r=e[0],n=e[1],i=function(l){n(l)};return _e.useEffect(function(){return t.subscribe("scale",i),function(){t.unsubscribe("scale",i)}},[]),{scale:r}},bu=function(t){var e=t.children,r=t.store;return(e||function(n){return _e.createElement(_e.Fragment,null,"".concat(Math.round(100*n.scale),"%"))})({scale:or(r).scale})},_u={passive:!1},Do=null,Eu=function(t){var e=t.pagesContainerRef,r=t.store,n=Oe.useDebounceCallback(function(l){var d=r.get("zoom");d&&d(l)},40),i=function(l){if(l.ctrlKey){l.preventDefault();var d=l.target.getBoundingClientRect(),f=1-l.deltaY/100,m=l.clientX-d.left,o=l.clientY-d.top,a=r.get("scale"),s=(Do||(Do=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(m,o).scale(f).translate(-m,-o).scale(a);n(s.a)}};return Oe.useIsomorphicLayoutEffect(function(){var l=e.current;if(l)return l.addEventListener("wheel",i,_u),function(){l.removeEventListener("wheel",i)}},[]),_e.createElement(_e.Fragment,null)},oi=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Oo=function(t){return oi.find(function(e){return e>t})||t},No=function(t){var e=oi.findIndex(function(r){return r>=t});return e===-1||e===0?t:oi[e-1]},yu=function(t){var e=t.containerRef,r=t.store,n=function(i){if(!i.shiftKey&&!i.altKey&&(Oe.isMac()?i.metaKey:i.ctrlKey)){var l=e.current;if(l&&document.activeElement&&l.contains(document.activeElement)){var d=r.get("zoom");if(d){var f=r.get("scale")||1,m=1;switch(i.key){case"-":m=No(f);break;case"=":m=Oo(f);break;case"0":m=1;break;default:m=f}m!==f&&(i.preventDefault(),d(m))}}}};return _e.useEffect(function(){if(e.current)return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}},[e.current]),_e.createElement(_e.Fragment,null)},Su=[.5,.75,1,1.25,1.5,2,3,4],wu={left:0,top:8},Bo=function(t){var e=t.levels,r=e===void 0?Su:e,n=t.scale,i=t.onZoom,l=_e.useContext(Oe.LocalizationContext).l10n,d=_e.useContext(Oe.ThemeContext).direction===Oe.TextDirection.RightToLeft,f=l&&l.zoom?l.zoom.zoomDocument:"Zoom document";return _e.createElement(Oe.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:Oe.Position.BottomCenter,target:function(m){return _e.createElement(Oe.MinimalButton,{ariaLabel:f,testId:"zoom__popover-target",onClick:function(){m()}},_e.createElement("span",{className:"rpv-zoom__popover-target"},_e.createElement("span",{"data-testid":"zoom__popover-target-scale",className:Oe.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!d,"rpv-zoom__popover-target-scale--rtl":d})},Math.round(100*n),"%"),_e.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(m){return _e.createElement(Oe.Menu,null,Object.keys(Oe.SpecialZoomLevel).map(function(o){var a=o;return _e.createElement(Oe.MenuItem,{key:a,onClick:function(){m(),i(a)}},function(s){switch(s){case Oe.SpecialZoomLevel.ActualSize:return l&&l.zoom?l.zoom.actualSize:"Actual size";case Oe.SpecialZoomLevel.PageFit:return l&&l.zoom?l.zoom.pageFit:"Page fit";case Oe.SpecialZoomLevel.PageWidth:return l&&l.zoom?l.zoom.pageWidth:"Page width"}}(a))}),_e.createElement(Oe.MenuDivider,null),r.map(function(o){return _e.createElement(Oe.MenuItem,{key:o,onClick:function(){m(),i(o)}},"".concat(Math.round(100*o),"%"))}))},offset:wu,closeOnClickOutside:!0,closeOnEscape:!0})},Au=function(t){var e=t.children,r=t.levels,n=t.store;return(e||function(i){return _e.createElement(Bo,{levels:r,scale:i.scale,onZoom:i.onZoom})})({scale:or(n).scale,onZoom:function(i){var l=n.get("zoom");l&&l(i)}})},Cu={left:0,top:8},jo=function(t){var e=t.enableShortcuts,r=t.onClick,n=_e.useContext(Oe.LocalizationContext).l10n,i=n&&n.zoom?n.zoom.zoomIn:"Zoom in",l=e?Oe.isMac()?"Meta+=":"Ctrl+=":"";return _e.createElement(Oe.Tooltip,{ariaControlsSuffix:"zoom-in",position:Oe.Position.BottomCenter,target:_e.createElement(Oe.MinimalButton,{ariaKeyShortcuts:l,ariaLabel:i,testId:"zoom__in-button",onClick:r},_e.createElement(si,null)),content:function(){return i},offset:Cu})},Pu=function(t){var e=t.children,r=t.enableShortcuts,n=t.store,i=or(n).scale;return(e||jo)({enableShortcuts:r,onClick:function(){var l=n.get("zoom");l&&l(Oo(i))}})},xu=function(t){var e=t.onClick,r=_e.useContext(Oe.LocalizationContext).l10n,n=r&&r.zoom?r.zoom.zoomIn:"Zoom in";return _e.createElement(Oe.MenuItem,{icon:_e.createElement(si,null),testId:"zoom__in-menu",onClick:e},n)},ku={left:0,top:8},zo=function(t){var e=t.enableShortcuts,r=t.onClick,n=_e.useContext(Oe.LocalizationContext).l10n,i=n&&n.zoom?n.zoom.zoomOut:"Zoom out",l=e?Oe.isMac()?"Meta+-":"Ctrl+-":"";return _e.createElement(Oe.Tooltip,{ariaControlsSuffix:"zoom-out",position:Oe.Position.BottomCenter,target:_e.createElement(Oe.MinimalButton,{ariaKeyShortcuts:l,ariaLabel:i,testId:"zoom__out-button",onClick:r},_e.createElement(ci,null)),content:function(){return i},offset:ku})},Mu=function(t){var e=t.children,r=t.enableShortcuts,n=t.store,i=or(n).scale;return(e||zo)({enableShortcuts:r,onClick:function(){var l=n.get("zoom");l&&l(No(i))}})},Tu=function(t){var e=t.onClick,r=_e.useContext(Oe.LocalizationContext).l10n,n=r&&r.zoom?r.zoom.zoomOut:"Zoom out";return _e.createElement(Oe.MenuItem,{icon:_e.createElement(ci,null),testId:"zoom__out-menu",onClick:e},n)};ar.ZoomInIcon=si,ar.ZoomOutIcon=ci,ar.zoomPlugin=function(t){var e=_e.useMemo(function(){return Object.assign({},{enableShortcuts:!0},t)},[]),r=_e.useMemo(function(){return Oe.createStore({})},[]),n=function(d){return _e.createElement(Pu,Mt({enableShortcuts:e.enableShortcuts},d,{store:r}))},i=function(d){return _e.createElement(Mu,Mt({enableShortcuts:e.enableShortcuts},d,{store:r}))},l=function(d){return _e.createElement(Au,Mt({},d,{store:r}))};return{renderViewer:function(d){var f=d.slot;if(!e.enableShortcuts)return f;var m={children:_e.createElement(_e.Fragment,null,_e.createElement(yu,{containerRef:d.containerRef,store:r}),_e.createElement(Eu,{pagesContainerRef:d.pagesContainerRef,store:r}),f.children)};return Mt(Mt({},f),m)},install:function(d){r.update("zoom",d.zoom)},onViewerStateChange:function(d){return r.update("scale",d.scale),d},zoomTo:function(d){var f=r.get("zoom");f&&f(d)},CurrentScale:function(d){return _e.createElement(bu,Mt({},d,{store:r}))},ZoomIn:n,ZoomInButton:function(){return _e.createElement(n,null,function(d){return _e.createElement(jo,Mt({},d))})},ZoomInMenuItem:function(d){return _e.createElement(n,null,function(f){return _e.createElement(xu,{onClick:function(){f.onClick(),d.onClick()}})})},ZoomOut:i,ZoomOutButton:function(){return _e.createElement(i,null,function(d){return _e.createElement(zo,Mt({},d))})},ZoomOutMenuItem:function(d){return _e.createElement(i,null,function(f){return _e.createElement(Tu,{onClick:function(){f.onClick(),d.onClick()}})})},Zoom:l,ZoomPopover:function(d){return _e.createElement(l,null,function(f){return _e.createElement(Bo,Mt({levels:d?.levels},f))})}}}});var Wo=Te((qd,Vo)=>{"use strict";Vo.exports=Ho()});var Ko=Te(sr=>{"use strict";var Ke=st(),li=wa(),Ru=ot(),Fu=xa(),Lu=La(),Iu=Na(),Du=Ua(),Ou=Ka(),Nu=Ja(),Bu=no(),ju=bo(),zu=To(),Hu=Io(),Vu=Wo();function Wu(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var ce=Wu(Ru),qo=function(){return ce.createElement(Ke.Icon,{size:16},ce.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},Uo={left:0,top:8},Go=function(t){var e=t.toolbarSlot,r=ce.useContext(Ke.LocalizationContext).l10n,n=ce.useContext(Ke.ThemeContext).direction===Ke.TextDirection.RightToLeft?Ke.Position.BottomLeft:Ke.Position.BottomRight,i=e.DownloadMenuItem,l=e.EnterFullScreenMenuItem,d=e.GoToFirstPageMenuItem,f=e.GoToLastPageMenuItem,m=e.GoToNextPageMenuItem,o=e.GoToPreviousPageMenuItem,a=e.OpenMenuItem,s=e.PrintMenuItem,h=e.RotateBackwardMenuItem,u=e.RotateForwardMenuItem,c=e.ShowPropertiesMenuItem,p=e.SwitchScrollModeMenuItem,b=e.SwitchSelectionModeMenuItem,v=e.SwitchViewModeMenuItem,w=e.SwitchThemeMenuItem;return ce.createElement(Ke.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:n,target:function(x,T){var _=r&&r.toolbar?r.toolbar.moreActions:"More actions";return ce.createElement(Ke.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:n,target:ce.createElement(Ke.MinimalButton,{ariaLabel:_,isSelected:T,testId:"toolbar__more-actions-popover-target",onClick:x},ce.createElement(qo,null)),content:function(){return _},offset:Uo})},content:function(x){return ce.createElement(Ke.Menu,null,ce.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},ce.createElement(w,{onClick:x})),ce.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},ce.createElement(l,{onClick:x})),ce.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},ce.createElement(a,null)),ce.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},ce.createElement(s,{onClick:x})),ce.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},ce.createElement(i,{onClick:x})),ce.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},ce.createElement(Ke.MenuDivider,null)),ce.createElement(d,{onClick:x}),ce.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},ce.createElement(o,{onClick:x})),ce.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},ce.createElement(m,{onClick:x})),ce.createElement(f,{onClick:x}),ce.createElement(Ke.MenuDivider,null),ce.createElement(u,{onClick:x}),ce.createElement(h,{onClick:x}),ce.createElement(Ke.MenuDivider,null),ce.createElement(b,{mode:li.SelectionMode.Text,onClick:x}),ce.createElement(b,{mode:li.SelectionMode.Hand,onClick:x}),ce.createElement(Ke.MenuDivider,null),ce.createElement(p,{mode:Ke.ScrollMode.Page,onClick:x}),ce.createElement(p,{mode:Ke.ScrollMode.Vertical,onClick:x}),ce.createElement(p,{mode:Ke.ScrollMode.Horizontal,onClick:x}),ce.createElement(p,{mode:Ke.ScrollMode.Wrapped,onClick:x}),ce.createElement(Ke.MenuDivider,null),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},ce.createElement(v,{mode:Ke.ViewMode.SinglePage,onClick:x})),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},ce.createElement(v,{mode:Ke.ViewMode.DualPage,onClick:x})),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},ce.createElement(v,{mode:Ke.ViewMode.DualPageWithCover,onClick:x})),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},ce.createElement(Ke.MenuDivider,null)),ce.createElement(c,{onClick:x}))},offset:Uo,closeOnClickOutside:!0,closeOnEscape:!0})},Mn=function(){return Mn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Mn.apply(this,arguments)},Xo=function(t){return function(e){var r=ce.useMemo(function(){return t(e)},[]),n=ce.useContext(Ke.ThemeContext).direction===Ke.TextDirection.RightToLeft,i=r.CurrentPageInput,l=r.Download,d=r.EnterFullScreen,f=r.GoToNextPage,m=r.GoToPreviousPage,o=r.NumberOfPages,a=r.Open,s=r.Print,h=r.ShowSearchPopover,u=r.SwitchTheme,c=r.Zoom,p=r.ZoomIn,b=r.ZoomOut;return ce.createElement("div",{"data-testid":"toolbar",className:Ke.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":n}),role:"toolbar","aria-orientation":"horizontal"},ce.createElement("div",{className:"rpv-toolbar__left"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(h,null)),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(m,null))),ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(i,null),ce.createElement("span",{className:"rpv-toolbar__label"},ce.createElement(o,null))),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(f,null)))),ce.createElement("div",{className:"rpv-toolbar__center"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(b,null)),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(c,null))),ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(p,null))),ce.createElement("div",{className:"rpv-toolbar__right"},ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(u,null))),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(d,null))),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(a,null))),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(l,null))),ce.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(s,null))),ce.createElement("div",{className:"rpv-toolbar__item"},ce.createElement(Go,{toolbarSlot:r}))))}},Uu=function(t){var e=t.NumberOfPages;return Object.assign({},t,{NumberOfPages:function(){return ce.createElement(ce.Fragment,null,"/ ",ce.createElement(e,null))}})},qu=function(t){return Xo(Uu)(t)},Gu=function(t){var e=t.children,r=t.slot;return(e||qu)(r)};sr.MoreActionsPopover=Go,sr.MoreIcon=qo,sr.toolbarPlugin=function(t){var e=Fu.fullScreenPlugin(t?t.fullScreenPlugin:{}),r=Lu.getFilePlugin(t?t.getFilePlugin:{}),n=Iu.openPlugin(t?t.openPlugin:{}),i=Du.pageNavigationPlugin(t?t.pageNavigationPlugin:{}),l=Ou.printPlugin(t?t.printPlugin:{}),d=Nu.propertiesPlugin(),f=Bu.rotatePlugin(),m=ju.scrollModePlugin(),o=zu.searchPlugin(t?t.searchPlugin:{}),a=li.selectionModePlugin(t?t.selectionModePlugin:{}),s=Hu.themePlugin(),h=Vu.zoomPlugin(t?t.zoomPlugin:{}),u=[e,r,n,i,l,d,f,m,o,a,s,h],c=ce.useCallback(function(p){var b=e.EnterFullScreen,v=e.EnterFullScreenMenuItem,w=r.Download,x=r.DownloadMenuItem,T=n.Open,_=n.OpenMenuItem,P=i.CurrentPageInput,B=i.CurrentPageLabel,V=i.GoToFirstPage,N=i.GoToFirstPageMenuItem,q=i.GoToLastPage,U=i.GoToLastPageMenuItem,Q=i.GoToNextPage,ee=i.GoToNextPageMenuItem,$=i.GoToPreviousPage,ie=i.GoToPreviousPageMenuItem,J=i.NumberOfPages,j=l.Print,k=l.PrintMenuItem,E=d.ShowProperties,y=d.ShowPropertiesMenuItem,M=f.Rotate,O=f.RotateBackwardMenuItem,L=f.RotateForwardMenuItem,I=m.SwitchScrollMode,D=m.SwitchScrollModeMenuItem,g=m.SwitchViewMode,S=m.SwitchViewModeMenuItem,A=o.Search,R=o.ShowSearchPopover,F=a.SwitchSelectionMode,z=a.SwitchSelectionModeMenuItem,W=s.SwitchTheme,G=s.SwitchThemeMenuItem,Z=h.CurrentScale,X=h.Zoom,Y=h.ZoomIn,re=h.ZoomInMenuItem,ne=h.ZoomOut,ae=h.ZoomOutMenuItem;return ce.createElement(Gu,Mn({},p,{slot:{CurrentPageInput:P,CurrentPageLabel:B,CurrentScale:Z,Download:w,DownloadMenuItem:x,EnterFullScreen:b,EnterFullScreenMenuItem:v,GoToFirstPage:V,GoToFirstPageMenuItem:N,GoToLastPage:q,GoToLastPageMenuItem:U,GoToNextPage:Q,GoToNextPageMenuItem:ee,GoToPreviousPage:$,GoToPreviousPageMenuItem:ie,NumberOfPages:J,Open:T,OpenMenuItem:_,Print:j,PrintMenuItem:k,Rotate:M,RotateBackwardMenuItem:O,RotateForwardMenuItem:L,Search:A,ShowProperties:E,ShowPropertiesMenuItem:y,ShowSearchPopover:R,SwitchScrollMode:I,SwitchScrollModeMenuItem:D,SwitchSelectionMode:F,SwitchSelectionModeMenuItem:z,SwitchViewMode:g,SwitchViewModeMenuItem:S,SwitchTheme:W,SwitchThemeMenuItem:G,Zoom:X,ZoomIn:Y,ZoomInMenuItem:re,ZoomOut:ne,ZoomOutMenuItem:ae}}))},[]);return{fullScreenPluginInstance:e,getFilePluginInstance:r,openPluginInstance:n,pageNavigationPluginInstance:i,printPluginInstance:l,propertiesPluginInstance:d,rotatePluginInstance:f,scrollModePluginInstance:m,searchPluginInstance:o,selectionModePluginInstance:a,themePluginInstance:s,zoomPluginInstance:h,install:function(p){u.forEach(function(b){b.install&&b.install(p)})},renderPageLayer:function(p){return ce.createElement(ce.Fragment,null,u.map(function(b,v){return b.renderPageLayer?ce.createElement(ce.Fragment,{key:v},b.renderPageLayer(p)):ce.createElement(ce.Fragment,{key:v})}))},renderViewer:function(p){var b=p.slot;return u.forEach(function(v){v.renderViewer&&(b=v.renderViewer(Mn(Mn({},p),{slot:b})))}),b},uninstall:function(p){u.forEach(function(b){b.uninstall&&b.uninstall(p)})},onDocumentLoad:function(p){u.forEach(function(b){b.onDocumentLoad&&b.onDocumentLoad(p)})},onAnnotationLayerRender:function(p){u.forEach(function(b){b.onAnnotationLayerRender&&b.onAnnotationLayerRender(p)})},onTextLayerRender:function(p){u.forEach(function(b){b.onTextLayerRender&&b.onTextLayerRender(p)})},onViewerStateChange:function(p){var b=p;return u.forEach(function(v){v.onViewerStateChange&&(b=v.onViewerStateChange(b))}),b},renderDefaultToolbar:Xo,Toolbar:c}}});var Yo=Te((Xd,$o)=>{"use strict";$o.exports=Ko()});var es=Te(bn=>{"use strict";var lt=st(),Xu=ot(),Ku=aa(),$u=da(),Yu=ga(),Zu=Yo();function Ju(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var xe=Ju(Xu),Zo=function(){return xe.createElement(lt.Icon,{size:16},xe.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},Tn=function(){return Tn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Tn.apply(this,arguments)},Jo=function(){return xe.createElement(lt.Icon,{size:16},xe.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},Qo=function(){return xe.createElement(lt.Icon,{size:16},xe.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},Qu={left:8,top:0},ed={left:-8,top:0},td=function(t){var e=t.attachmentTabContent,r=t.bookmarkTabContent,n=t.store,i=t.thumbnailTabContent,l=t.tabs,d=xe.useRef(),f=xe.useContext(lt.LocalizationContext).l10n,m=xe.useState(n.get("isCurrentTabOpened")||!1),o=m[0],a=m[1],s=xe.useState(Math.max(n.get("currentTab")||0,0)),h=s[0],u=s[1],c=xe.useContext(lt.ThemeContext).direction===lt.TextDirection.RightToLeft,p=[{content:i,icon:xe.createElement(Qo,null),title:f&&f.defaultLayout?f.defaultLayout.thumbnail:"Thumbnail"},{content:r,icon:xe.createElement(Zo,null),title:f&&f.defaultLayout?f.defaultLayout.bookmark:"Bookmark"},{content:e,icon:xe.createElement(Jo,null),title:f&&f.defaultLayout?f.defaultLayout.attachment:"Attachment"}],b=l?l(p):p,v=function(x){x>=0&&x<=b.length-1&&(n.update("isCurrentTabOpened",!0),u(x))},w=function(x){a(x)};return xe.useEffect(function(){return n.subscribe("currentTab",v),n.subscribe("isCurrentTabOpened",w),function(){n.unsubscribe("currentTab",v),n.unsubscribe("isCurrentTabOpened",w)}},[]),b.length===0?xe.createElement(xe.Fragment,null):xe.createElement(xe.Fragment,null,xe.createElement("div",{"data-testid":"default-layout__sidebar",className:lt.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":o,"rpv-default-layout__sidebar--ltr":!c,"rpv-default-layout__sidebar--rtl":c}),ref:d},xe.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},xe.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},b.map(function(x,T){return xe.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":h===T,key:T,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(T),role:"tab"},xe.createElement(lt.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(T),position:c?lt.Position.LeftCenter:lt.Position.RightCenter,target:xe.createElement(lt.MinimalButton,{ariaLabel:x.title,isSelected:h===T,onClick:function(){return function(_){if(h===_){n.update("isCurrentTabOpened",!n.get("isCurrentTabOpened"));var P=d.current;P&&P.style.width&&P.style.removeProperty("width")}else n.update("currentTab",_)}(T)}},x.icon),content:function(){return x.title},offset:c?ed:Qu}))})),xe.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(h),id:"rpv-default-layout__sidebar-content",className:lt.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":o,"rpv-default-layout__sidebar-content--ltr":!c,"rpv-default-layout__sidebar-content--rtl":c}),role:"tabpanel",tabIndex:-1},b[h].content))),o&&xe.createElement(lt.Splitter,{constrain:function(x){return x.firstHalfPercentage>=20&&x.firstHalfPercentage<=80}}))};bn.BookmarkIcon=Zo,bn.FileIcon=Jo,bn.ThumbnailIcon=Qo,bn.defaultLayoutPlugin=function(t){var e=xe.useMemo(function(){return lt.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),r=Ku.attachmentPlugin(),n=$u.bookmarkPlugin(),i=Yu.thumbnailPlugin(t?t.thumbnailPlugin:{}),l=Zu.toolbarPlugin(t?t.toolbarPlugin:{}),d=r.Attachments,f=n.Bookmarks,m=i.Thumbnails,o=l.Toolbar,a=t?t.sidebarTabs:function(h){return h},s=[r,n,i,l];return{attachmentPluginInstance:r,bookmarkPluginInstance:n,thumbnailPluginInstance:i,toolbarPluginInstance:l,activateTab:function(h){e.update("currentTab",h)},toggleTab:function(h){var u=e.get("currentTab");e.update("isCurrentTabOpened",!e.get("isCurrentTabOpened")),u!==h&&e.update("currentTab",h)},install:function(h){s.forEach(function(u){u.install&&u.install(h)})},renderPageLayer:function(h){return xe.createElement(xe.Fragment,null,s.map(function(u,c){return u.renderPageLayer?xe.createElement(xe.Fragment,{key:c},u.renderPageLayer(h)):xe.createElement(xe.Fragment,{key:c},xe.createElement(xe.Fragment,null))}))},renderViewer:function(h){var u=h.slot;s.forEach(function(p){p.renderViewer&&(u=p.renderViewer(Tn(Tn({},h),{slot:u})))});var c=u.subSlot&&u.subSlot.attrs?{className:u.subSlot.attrs.className,"data-testid":u.subSlot.attrs["data-testid"],ref:u.subSlot.attrs.ref,style:u.subSlot.attrs.style}:{};return u.children=xe.createElement("div",{className:"rpv-default-layout__container"},xe.createElement("div",{"data-testid":"default-layout__main",className:lt.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":h.themeContext.direction===lt.TextDirection.RightToLeft})},xe.createElement(td,{attachmentTabContent:xe.createElement(d,null),bookmarkTabContent:xe.createElement(f,null),store:e,thumbnailTabContent:xe.createElement(m,null),tabs:a}),xe.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},xe.createElement("div",{className:"rpv-default-layout__toolbar"},t&&t.renderToolbar?t.renderToolbar(o):xe.createElement(o,null)),xe.createElement("div",Tn({},c),u.subSlot.children))),u.children),u.subSlot.attrs={},u.subSlot.children=xe.createElement(xe.Fragment,null),u},uninstall:function(h){s.forEach(function(u){u.uninstall&&u.uninstall(h)})},onDocumentLoad:function(h){s.forEach(function(u){u.onDocumentLoad&&u.onDocumentLoad(h)}),t&&t.setInitialTab&&t.setInitialTab(h.doc).then(function(u){e.update("currentTab",u),e.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(h){s.forEach(function(u){u.onAnnotationLayerRender&&u.onAnnotationLayerRender(h)})},onTextLayerRender:function(h){s.forEach(function(u){u.onTextLayerRender&&u.onTextLayerRender(h)})},onViewerStateChange:function(h){var u=h;return s.forEach(function(c){c.onViewerStateChange&&(u=c.onViewerStateChange(u))}),u}}},bn.setInitialTabFromPageMode=function(t){return new Promise(function(e,r){t.getPageMode().then(function(n){if(n)switch(n){case lt.PageMode.Attachments:e(2);break;case lt.PageMode.Bookmarks:e(1);break;case lt.PageMode.Thumbnails:e(0);break;default:e(-1)}else e(-1)})})}});var ns=Te(($d,ts)=>{"use strict";ts.exports=es()});var cn=En(ot(),1),cr=En(st(),1);var rs=En(ns(),1);var Nt=En(fi(),1),nd=()=>{let[t,e]=(0,cn.useState)(null),[r,n]=(0,cn.useState)(null),[i,l]=(0,cn.useState)(null),[d,f]=(0,cn.useState)(""),m=(0,rs.defaultLayoutPlugin)();(0,cn.useEffect)(()=>{(async()=>{if(t){let s=URL.createObjectURL(t);f(s)}else if(r){let h=await(await fetch(r)).blob(),u=URL.createObjectURL(h);l(h),f(u)}else console.log("Error while loading pdf")})()},[t,r]);let o=a=>{a.target.files?e(a.target.files[0]):n(a.target.value)};return(0,Nt.jsxs)("div",{className:"relative p-5",children:[(0,Nt.jsxs)("div",{className:"flex gap-4",children:[(0,Nt.jsx)("input",{id:"pdfFile",type:"file",accept:"application/pdf",onChange:o,className:"inline-flex justify-center items-center p-1 text-md font-bold shadow-2xl rounded-lg text-center w-64 h-10 text-gray-500 "}),(0,Nt.jsx)("input",{id:"pdfFileUrl",type:"text",placeholder:"Enter file url",onChange:o,className:"inline-flex justify-center items-center p-1 text-lg font-bold shadow-2xl rounded-lg text-center w-full h-10 text-gray-500  "})]}),(0,Nt.jsx)("div",{className:"w-full h-[calc(100vh-90px)] mt-5",children:d&&(0,Nt.jsx)(cr.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.js ",children:(0,Nt.jsx)(cr.Viewer,{fileUrl:d,plugins:[m]})})})]})},rd=nd;export{rd as default};
/*! Bundled license information:

@react-pdf-viewer/core/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/attachment/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/bookmark/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/thumbnail/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/selection-mode/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/full-screen/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/get-file/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/open/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/page-navigation/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/print/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/properties/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/rotate/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/scroll-mode/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/search/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/theme/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/zoom/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/toolbar/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)

@react-pdf-viewer/default-layout/lib/index.js:
  (**
   * A React component to view a PDF document
   *
   * @see https://react-pdf-viewer.dev
   * @license https://react-pdf-viewer.dev/license
   * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
   *)
*/
